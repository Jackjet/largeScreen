{"version":3,"sources":["../../build/bundle.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","BUILTIN_OBJECT","TYPED_ARRAY","objToString","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","map","nativeReduce","reduce","methods","$override","fn","clone","source","result","typeStr","len","length","Ctor","constructor","from","isPrimitive","isDom","key","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","defaults","overlay","createCanvas","document","createElement","_ctx","getContext","indexOf","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","isArrayLike","data","each","obj","cb","context","push","memo","find","bind","func","args","arguments","apply","concat","curry","isFunction","isString","type","nodeType","ownerDocument","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","val","assert","condition","message","Error","primitiveKey","setAsPrimitive","HashMap","set","HASH_MAP_PREFIX","HASH_MAP_PREFIX_LENGTH","prefixedKey","removeKey","createHashMap","noop","_config","__DEV__","zrender","zrUtil","colorTool","env","timsort","Eventful","GlobalModel","ExtensionAPI","CoordinateSystemManager","OptionManager","backwardCompat","ComponentModel","SeriesModel","ComponentView","ChartView","graphic","modelUtil","_throttle","throttle","seriesColor","loadingDefault","parseClassType","version","dependencies","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_BRUSH","PRIORITY","PROCESSOR","FILTER","STATISTIC","VISUAL","LAYOUT","GLOBAL","CHART","COMPONENT","BRUSH","IN_MAIN_PROCESS","HAS_GRADIENT_OR_PATTERN_BG","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","method","eventName","handler","toLowerCase","MessageCenter","on","off","one","ECharts","dom","theme","opts","themeStorage","id","group","_dom","defaultRenderer","zr","_zr","init","renderer","devicePixelRatio","width","height","_throttledZrFlush","flush","_theme","_chartsViews","_chartsMap","_componentsViews","_componentsMap","_coordSysMgr","_api","createExtensionAPI","_messageCenter","_initEvents","resize","_pendingActions","prioritySortFunc","a","b","prio","visualFuncs","dataProcessorFuncs","animation","_onframe","echartsProto","silent","updateMethods","prepareAndUpdate","flushPendingActions","triggerUpdatedEvent","getDom","getZr","setOption","option","notMerge","lazyUpdate","_model","optionManager","ecModel","optionPreprocessorFuncs","setTheme","console","log","getModel","getOption","getWidth","getHeight","getDevicePixelRatio","painter","dpr","window","getRenderedCanvas","canvasSupported","pixelRatio","backgroundColor","list","storage","getDisplayList","el","stopAnimation","getSvgDataUrl","svgSupported","pathToSvg","getDataURL","excludeComponents","excludesComponentViews","self","componentType","eachComponent","mainType","component","view","__viewId","ignore","url","getType","toDataURL","getConnectedDataURL","groupId","mathMin","Math","min","mathMax","max","MAX_NUMBER","Infinity","connectedGroups","left","top","right","bottom","canvasList","instances","chart","canvas","boundingRect","getBoundingClientRect","targetCanvas","item","img","Image","style","x","y","image","add","refreshImmediately","convertToPixel","doConvertPixel","convertFromPixel","methodName","finder","coordSysList","getCoordinateSystems","parseFinder","coordSys","containPixel","models","model","coordinateSystem","containPoint","getVisual","visualType","defaultMainType","seriesModel","getData","dataIndexInside","indexOfRawIndex","dataIndex","getItemVisual","getViewOfComponentModel","componentModel","getViewOfSeriesModel","update","payload","api","coordSysMgr","restoreData","create","processData","stackSeriesData","doVisualEncoding","doRender","isSingleCanvas","configLayer","clearColor","colorArr","parse","stringify","colorStops","background","postUpdateFuncs","updateView","eachSeries","clearAllVisual","invokeUpdateMethod","updateVisual","updateLayout","doLayout","prepareView","updateDirectly","ecIns","subType","callView","query","index","__alive","__model","optionChanged","resetOption","updateMethod","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","remove","makeActionFromEvent","eventObj","eventActionMap","dispatchAction","opt","actions","doDispatchAction","browser","weChat","payloadType","escapeConnect","actionWrap","actionInfo","cptType","split","pop","payloads","batched","batch","eventObjBatch","isHighDown","batchItem","action","event","main","sub","trigger","pendingActions","shift","updateZ","idx","updateProgressiveAndBlend","updateHoverLayerStatus","isComponent","viewList","viewMap","viewId","classType","Clazz","getClass","__id","__ecComponentInfo","componentIndex","dispose","splice","process","stackedDataMap","series","stack","previousStack","stackedOn","visual","isLayout","excludesLayout","clearColorPalette","componentView","render","chartView","MOUSE_EVENT_NAMES","eveName","e","params","dataModel","getSeriesByIndex","seriesIndex","getDataParams","dataType","eventData","actionType","eventType","isDisposed","_disposed","clear","elCount","traverse","isGroup","node","useHoverLayer","frameDrawNum","needProgressive","progressive","floor","blendMode","setStyle","z","zlevel","ecInstance","getComponentByElement","modelInfo","getComponent","parent","idBase","Date","groupIdBase","DOM_ATTRIBUTE_KEY","mapDataStores","enableConnect","STATUS_PENDING","STATUS_UPDATING","STATUS_UPDATED","STATUS_KEY","updateConnectedChartsStatus","charts","status","otherChart","otherCharts","existInstance","getInstanceByDom","setAttribute","connect","disConnect","disconnect","getAttribute","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processorFunc","registerPostUpdate","postUpdateFunc","registerAction","test","registerCoordinateSystem","CoordinateSystem","register","getCoordinateSystemDimensions","coordSysCreator","getDimensionsInfo","dimensions","registerLayout","layoutFunc","registerVisual","visualFunc","registerLoading","loadingFx","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","registerMap","mapName","geoJson","specialAreas","features","JSON","getMap","dataTool","___ec_export","pathTool","matrix","vector","Path","Transformable","Group","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","CompoundPath","LinearGradient","RadialGradient","BoundingRect","round","EMPTY_OBJ","extendShape","extendPath","pathData","extendFromString","makePath","rect","layout","path","createFromString","getBoundingRect","centerGraphic","resizePath","makeImage","imageUrl","onload","aspect","cx","cy","mergePath","applyTransform","pathRect","calculateTransform","subPixelOptimizeLine","param","shape","lineWidth","x1","x2","subPixelOptimize","y1","y2","subPixelOptimizeRect","originX","originY","originWidth","originHeight","position","positiveOrNegative","doubledPosition","hasFillOrStroke","fillOrStroke","liftColor","color","lift","cacheElementStl","__hoverStlDirty","stroke","fill","hoverStyle","__hoverStl","normalStyle","__normalStl","doSingleEnterHover","__isHover","__zr","addHover","insideRollbackOpt","rollbackInsideStyle","extendFrom","applyInsideStyle","insideOriginalTextPosition","textFill","autoColor","dirty","z2","doSingleLeaveHover","normalStl","removeHover","doEnterHover","child","doLeaveHover","setElementHoverStl","hoverStl","onElementMouseOver","__hoverSilentOnTouch","zrByTouch","__isEmphasis","onElementMouseOut","enterEmphasis","leaveEmphasis","setHoverStyle","hoverSilentOnTouch","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","labelFetcher","labelDataIndex","labelDimIndex","showNormal","getShallow","showEmphasis","baseText","getFormattedLabel","defaultText","normalStyleText","emphasisStyleText","setTextStyle","text","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","host","setText","labelModel","defaultColor","isRectText","textPosition","textOffset","labelRotate","PI","textRotation","textDistance","globalTextStyle","richItemNames","getRichItemNames","richResult","richTextStyle","setTokenTextStyle","rich","forceRich","richItemNameMap","parentModel","isBlock","getAutoColor","textStroke","textBorderColor","textStrokeWidth","textBorderWidth","originalTextPosition","insideRollback","fontStyle","fontWeight","fontSize","fontFamily","textAlign","textVerticalAlign","textLineHeight","textWidth","textHeight","textTag","disableBox","textBackgroundColor","textPadding","textBorderRadius","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","useInsideStyle","getFont","gTextStyleModel","join","animateOrSetProps","isUpdate","props","animatableModel","animationEnabled","isAnimationEnabled","postfix","duration","animationEasing","animationDelay","getAnimationDelayParams","animateTo","attr","updateProps","initProps","getTransform","ancestor","mat","identity","mul","getLocalTransform","transform","invert","transformDirection","direction","hBase","abs","vBase","vertex","groupTransition","g1","g2","getElMap","g","elMap","anid","getAnimatableProps","rotation","elMap1","oldEl","newProp","clipPointsByRect","points","point","clipRectByRect","targetRect","createIcon","iconStr","rectHover","strokeNoScale","replace","RADIAN_EPSILON","_trim","str","linearMap","domain","range","clamp","subDomain","subRange","parsePercent","percent","all","match","parseFloat","NaN","precision","returnStr","toFixed","asc","arr","sort","getPrecision","isNaN","count","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","isFinite","getPercentWithPrecision","valueList","sum","acc","digits","pow","votesPerQuota","targetSeats","seats","votes","currentSum","remainder","Number","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","parseDate","exec","hour","toUpperCase","UTC","quantity","quantityExponent","nice","exponent","exp10","f","nf","reformIntervals","littleThan","curr","currClose","interval","close","lg","isNumeric","v","global","dev","formatUtil","nubmerUtil","Model","normalizeToArray","defaultEmphasis","subOpts","emphasisOpt","emphasis","normalOpt","normal","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","converDataValue","dimInfo","dimType","createDataFormatModel","dataFormatMixin","rawValue","getRawValue","rawDataIndex","getRawIndex","getName","itemOpt","getRawDataItem","componentSubType","seriesType","seriesId","seriesName","marker","getTooltipMarker","$vars","dimIndex","labelProp","itemModel","getItemModel","formatter","formatTpl","formatTooltip","mappingToExists","exists","newCptOptions","exist","cptOption","isIdInner","makeIdAndName","mapResult","idMap","existCpt","keyInfo","idNum","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","dataIndices","otherDataIndices","j","lenj","isData","queryDataIndex","indexOfName","makeGetter","hostObj","has","parsedKey","queryType","includeMainTypes","queryParam","queryComponents","dataDimToCoordDim","dataDim","getDimension","dimItem","getDimensionInfo","coordDim","coordDimToDataDim","dimName","coordDimIndex","otherDimToDataDim","otherDim","otherDims","_number","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","gap","maxWidth","maxHeight","currentLineMaxSize","eachChild","nextChild","childAt","nextChildRect","nextX","nextY","moveX","newline","moveY","box","vbox","hbox","getAvailableSize","positionInfo","containerRect","margin","containerWidth","containerHeight","getLayoutRect","verticalMargin","horizontalMargin","positionElement","h","hv","boundingMode","needLocalTransform","elPos","dx","dy","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","vResult","copy","names","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","ArrayCtor","Float32Array","out","v1","v2","scaleAndAdd","sqrt","lenSquare","lengthSquare","div","dot","scale","normalize","distance","dist","distanceSquare","distSquare","negate","lerp","t","textContain","numberUtil","addCommas","toCamelCase","upperCaseFirst","group1","charAt","encodeHTML","String","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","tpl","paramsList","encode","seriesLen","alias","k","formatTplSimple","extraCssText","s2d","formatTime","isUTC","date","utc","M","capitalFirst","substr","truncateText","getTextRect","vec2","v2ApplyTransform","union","other","lt","rb","lb","rt","maxX","maxY","sx","sy","translate","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","contain","plain","_default","clazzUtil","lineStyleMixin","areaStyleMixin","textStyleMixin","itemStyleMixin","mergeOption","ignoreParent","doGet","parsePath","getParent","thisParentModel","isEmpty","setReadOnly","properties","customizeGetParent","getParentMethod","pathArr","enableClassExtend","navigator","os","detect","userAgent","ua","firefox","ie","edge","SVGRect","touchEventsSupported","pointerEventsSupported","Displayable","PathProxy","pathContain","Pattern","getCanvasPattern","pathProxyForDraw","__dirtyPath","strokeContainThreshold","brush","ctx","prevEl","hasStroke","hasFill","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","setTransform","__dirty","_fillGradient","getGradient","_strokeGradient","fillStyle","strokeStyle","lineDash","lineDashOffset","ctxLineDash","setLineDash","getGlobalScale","setScale","beginPath","setLineDashOffset","buildPath","rebuildPath","restoreTransform","drawRectText","shapeCfg","inBundle","createPathProxy","_rect","needsUpdateRect","rectWithStroke","_rectWithStroke","w","lineScale","getLineScale","localPos","transformCoordToLocal","containStroke","dirtyPath","refresh","__clipTarget","animateShape","loop","animate","attrKV","setShape","Sub","defaultShape","thisShape","componentUtil","boxLayoutMixin","arrayPush","defaultOption","dependentModels","uid","layoutMode","$constructor","extraOpt","getUID","mergeDefaultAndTheme","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","newCptOption","isInit","hasOwn","optList","Class","getReferringComponents","enableClassManagement","registerWhenExtend","enableSubTypeDefaulter","enableTopologicalTravel","getDependencies","deps","getClassesByMainType","DataDiffer","UNDEFINED","globalObj","dataCtors","Float64Array","Int32Array","TRANSFERABLE_PROPERTIES","transferProperties","__wrappedMethods","propName","DefaultDataProvider","dataArray","_array","pure","getItem","List","hostModel","dimensionInfos","dimensionNames","dimensionName","dimensionInfo","stackable","_dimensionInfos","indices","_storage","_nameList","_idList","_optionModels","_visual","_layout","_itemVisuals","_itemLayouts","_graphicEls","_rawData","_extent","listProto","hasItemOption","dim","initData","nameList","dimValueGetter","isDataArray","dimensionInfoMap","size","idList","nameRepeatCount","nameDimIdx","itemName","DataCtor","dimStorage","stackedValue","getValues","getDataExtent","dimData","dimExtent","getSum","rawIndex","mid","indicesOfNearest","maxDistance","nearestIndices","minDist","MAX_VALUE","minDiff","diff","rawIdx","getId","normalizeDimensions","dims","dimSize","filterSelf","newIndices","keep","mapArray","cloneListForMapAndSample","original","excludeDimensions","allDimensions","originalStorage","dimStore","tmpRetValue","retValue","downSample","dimension","rate","sampleValue","sampleIndex","targetStorage","originalIndices","frameValues","frameIndices","frameSize","otherList","otherIdList","prefix","setVisual","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemVisual","setItemDataAndSeriesIndex","setItemGraphicEl","getItemGraphicEl","eachItemGraphicEl","cloneShallow","dimensionInfoList","wrapMethod","injectFunction","originalMethod","res","TRANSFERABLE_METHODS","CHANGABLE_METHODS","_format","_clazz","colorPaletteMixin","legendDataProvider","visualColorAccessPath","getInitialData","themeSubType","hasClass","label","fillDataTextStyle","newSeriesOption","getLinkedData","setData","getRawData","getBaseAxis","multipleSeries","formatArrayValue","vertially","tooltip","tooltipName","tooltipDims","dimIdx","setEachItem","valStr","formattedValue","colorEl","getColorFromPalette","scope","getAxisTooltipData","getTooltipPosition","m1","m2","out0","out1","out2","out3","out4","out5","rotate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","det","OrdinalScale","IntervalScale","Scale","getScaleExtent","scaleType","getMin","getMax","fixMin","fixMax","originalExtent","getExtent","axisDataLen","boundaryGap","span","setBlank","getNeedCrossZero","niceScaleExtent","extent","splitNumber","base","setExtent","niceExtent","minInterval","maxInterval","setInterval","createScaleByModel","axisType","getCategories","ifAxisCrossZero","axis","getAxisLabelInterval","tickCoords","labels","font","axisRotate","textSpaceTakenRect","autoLabelInterval","accumulatedLabelInterval","step","tickCoord","getFormattedLabels","labelFormatter","getTicksLabels","ticks","getTicks","tick","getAxisRawValue","getLabel","Triangle","moveTo","lineTo","closePath","Diamond","Pin","r","angle","asin","tanX","tanY","cpLen","cpLen2","arc","bezierCurveTo","Arrow","symbolCtors","line","roundRect","square","circle","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","beforeBrush","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","createSymbol","keepAspect","symbolPath","setColor","OTHER_DIMS","completeDimensions","sysDims","dimsDef","encodeDef","dataDimNameMap","coordDimNameMap","dimCount","retrieveValue","sysDimItem","sysDimItemDimsDef","dimDefItem","userDimName","resultItem","dataDims","resultDimIdx","applyDim","availDimIdx","sysDimIndex","sysDimItemOtherDims","extra","extraPrefix","genName","extraFromZero","isExtraCoord","guessOrdinal","fromZero","imageHelper","_util","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","textLines","measureText","truncate","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","lineHeight","parseRichText","adjustTextPositionOnRect","halfHeight","ellipsis","options","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","charCode","charCodeAt","getLineHeight","padding","lines","truncOuterHeight","truncOuterWidth","lastIndex","matchedIndex","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","tokens","token","tokenStyle","styleName","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","findExistImage","isImageReady","paddingW","remianTruncWidth","parseInt","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","textFont","coordinateSystemCreators","_coordinateSystems","coordinateSystems","creater","coordinateSystemCreator","LRU","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","put","cached","iv","op","ep","fname","alpha","hsla2rgba","hsla","rgba","rgba2hsla","R","G","B","vMin","vMax","delta","L","H","S","deltaR","deltaG","deltaB","level","toHex","fastLerp","normalizedValue","colors","leftIndex","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","Dispatcher","isDomLevel2","addEventListener","MOUSE_EVENT_REG","clientToLocal","calculate","defaultGetZrXY","layerX","offsetX","zrX","zrY","layerY","offsetY","clientX","clientY","normalizeEvent","isTouch","zrDelta","wheelDelta","detail","touch","targetTouches","changedTouches","button","which","undefined","attachEvent","removeEventListener","detachEvent","stop","preventDefault","stopPropagation","cancelBubble","returnValue","notLeftMouse","TYPE_DELIMITER","IS_CONTAINER","MEMBER_PRIFIX","ret","checkClassType","RootClass","mandatoryMethods","proto","ExtendedClass","superCall","superApply","entity","registerClass","container","makeContainer","componentMainType","throwWhenNotFound","getAllClassMainTypes","types","hasSubTypes","originalExtend","_vector","v2Create","v2DistSquare","mathPow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p0","p1","p2","p3","onet","cubicDerivativeAt","cubicRootAt","roots","A","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","theta","acos","ASqrt","tmp","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x3","y3","prev","next","d1","d2","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","Chart","highlight","toggleHighlight","downplay","removeAll","chartProto","elSetState","state","childCount","dataIdx","firstDataNotNull","ifNeedCompleteOrdinalData","sampleItem","createListFromArray","coordSysName","creators","registeredCoordSys","completeDimOpt","axesInfo","categoryIndex","createNameList","categories","categoryAxesModels","isStackable","getDimTypeByAxis","cartesian2d","axesModels","xAxisModel","yAxisModel","xAxisType","yAxisType","isXAxisCateogry","isYAxisCategory","singleAxis","singleAxisModel","singleAxisType","isCategory","single","polar","polarModel","angleAxisModel","findAxisModel","radiusAxisModel","radiusAxisType","angleAxisType","isAngleAxisCateogry","isRadiusAxisCateogry","radius","geo","categoryDim","categoryAxisModel","dataLen","axisHelper","fixExtentWithBands","nTick","normalizedExtent","Axis","inverse","onBand","_labelInterval","coord","containData","dataToCoord","start","end","coordToData","pointToData","getTicksCoords","alignWithLabel","bands","getBands","coords","getLabelsCoords","getBandWidth","axisExtent","isHorizontal","getRotate","getLabelInterval","labelInterval","axisModel","ctor","arrySlice","_$handlers","_h","isSilent","newList","argLen","triggerWithContext","ORIGIN_METHOD","RATE","THROTTLE_TYPE","delay","debounce","currCall","lastCall","lastExec","timer","debounceNextCall","getTime","thisDelay","thisDebounce","clearTimeout","setTimeout","debounceDelay","createOrUpdate","fnAttr","throttleType","originFn","lastThrottleType","lastRate","defaultSymbolType","legendSymbol","eachRawSeriesByType","symbolSize","symbol","isSeriesFiltered","itemSymbolType","itemSymbolSize","_symbol","matrixUtil","makeAxisEventDataBase","AxisBuilder","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","updateTransform","_transform","_dumbGroup","hasBuilder","builders","getGroup","axisLine","pt1","pt2","lineStyle","lineCap","getLineStyle","arrows","arrowSize","symbolWidth","symbolHeight","axisTickLabel","tickEls","buildAxisTick","labelEls","buildAxisLabel","fixMinMaxLabelShow","axisName","nameLocation","gapSignal","pos","isNameLocationCenter","labelLayout","nameRotation","axisNameAvailableWidth","innerTextLayout","endTextLayout","truncateOpt","nameTruncateMaxWidth","truncatedText","tooltipOpt","formatterParams","textEl","__fullText","__truncatedText","show","content","getTextColor","targetType","decomposeTransform","axisRotation","rotationDiff","textRotate","onLeft","showMinLabel","showMaxLabel","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","current","firstRect","nextRect","mRotationBack","ifIgnoreOnTick","ticksCnt","rawTick","getInterval","axisBuilder","isBlank","tickModel","lineStyleModel","tickLen","tickInterval","ticksCoords","tickEl","axisLabelShow","labelMargin","labelRotation","categoryData","triggerEvent","tickVal","itemLabelModel","textColor","labelStr","echarts","axisPointerModelHelper","AxisView","_axisPointer","axisPointerClass","fixValue","updateAxisPointer","force","axisPointer","disposeAxisPointer","axisView","forceRender","getAxisPointerClass","axisPointerModel","getAxisPointerModel","axisPointerClazz","registerAxisPointerClass","zrColor","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","mappingMethod","thisOption","_normalizeData","normalizers","visualHandler","visualHandlers","applyVisual","getColorMapper","_doMap","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","mapValueToVisual","normalized","getNormalizer","makeApplyVisual","isNormalized","doMapCategory","returnRGBArray","parsedVisual","linear","category","piecewise","getSpecifiedVisual","fixed","doMapFixed","colorHue","makePartialColorVisualHandler","colorSaturation","colorLightness","colorAlpha","opacity","makeDoMap","setter","symbolCfg","doMapToArray","pieceList","hasSpecialVisual","piece","originIndex","categoryMap","cate","visualArr","setVisualToOption","doNotNeedPair","applyValue","sourceExtent","pieceIndex","findPieceIndex","listVisualTypes","visualTypes","addVisualHandler","isValidType","eachVisual","callback","mapVisual","isPrimary","newVisual","newVal","retrieveVisuals","hasVisual","prepareVisualTypes","type1","type2","dependsOn","visualType1","visualType2","findClosestWhenOutside","possibleI","pieceValue","updatePossible","newAbs","excludes","includes","curve","bbox","CMD","Q","Z","min2","max2","mathCos","mathSin","mathAbs","hasTypedArray","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_len","_lineDash","_dashOffset","_dashIdx","_dashSum","addData","exceedUnit","_needsDash","_dashedLineTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","startAngle","endAngle","anticlockwise","arcTo","toStatic","lineDashSum","offset","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dashSum","dash","nDash","bezierLen","tmpLen","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","psi","fromArc","ux","uy","dTheta","fs","scaleX","scaleY","isEllipse","defaultKeyGetter","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","_add","_update","_remove","execute","oldDataIndexMap","newDataIndexMap","oldDataKeyArr","newDataKeyArr","initIndexMap","unshift","keyArr","keyGetterName","dataDiffer","existence","origin","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","toolbox","title","polygon","lineX","lineY","dataView","lang","dataZoom","zoom","back","magicType","bar","tiled","restore","saveAsImage","debugMode","ZImage","src","_image","createOrUpdateImage","sWidth","sHeight","drawImage","textHelper","normalizeTextStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","needDrawText","renderText","getStroke","SymbolDraw","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","updateData","oldData","_data","SymbolCtor","seriesScope","itemStyle","getItemStyle","hoverItemStyle","symbolRotate","symbolOffset","hoverAnimation","hoverLabelModel","cursorStyle","newIdx","symbolEl","oldIdx","fadeOut","enableAnimation","gridModel","getRect","xAxis","yAxis","grid","retrieveTargetInfo","root","tree","targetNode","contains","targetNodeId","getNodeById","getPathToRoot","parentNode","reverse","aboveViewRoot","viewRoot","viewPath","wrapTreePathInfo","treePathInfo","nodeDataIndex","handleEnds","handleIndex","minSpan","maxSpan","restrict","extentSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","sign","currDistSign","axisTrigger","link","coordSysAxesInfo","collect","helper","AxisProxy","eachAxisDim","DataZoomModel","xAxisIndex","yAxisIndex","filterMode","startValue","endValue","minValueSpan","maxValueSpan","rangeMode","_dataIntervalByAxis","_dataInfo","_axisProxies","_autoThrottle","_rangePropMode","rawOption","retrieveRaw","doInit","realtime","_setDefaultThrottle","updateRangeUse","_resetTarget","_giveAxisProxies","axisProxies","eachTargetAxis","dimNames","axisIndex","dataZoomModel","axisProxy","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","singleAxisIndex","axisIndices","axisModels","_isSeriesHasAllAxesTypeOf","axisId","is","seriesAxisIndex","globalOption","animationDurationUpdate","getFirstTargetAxisModel","firstAxisModel","getAxisProxy","getAxisModel","setRawRange","ignoreUpdateRangeUsg","getPercentRange","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","axisDimName","getDataValueWindow","hostedBy","getRangePropMode","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","getTargetCoordInfo","coordSysLists","coordModel","save","store","coordIndex","guid","Handler","Storage","Painter","Animation","HandlerProxy","useVML","painterCtors","ZRender","getInstance","registerPainter","delInstance","rendererType","vml","handerProxy","getViewportRoot","stage","_needsRefresh","oldDelFromStorage","delFromStorage","oldAddToStorage","addToStorage","removeSelfFromZr","addSelfToZr","addRoot","delRoot","zLevel","config","_needsRefreshHover","refreshHoverImmediately","refreshHover","clearHover","clearAnimation","pathToImage","setCursorStyle","findHover","eventHandler","Element","_children","__storage","children","childOfName","_doAdd","addBefore","nextSibling","addChildrenToStorage","delChildrenFromStorage","includeChildren","tmpRect","tmpMat","invisible","childRect","Style","RectText","__clipPaths","draggable","dragging","culling","cursor","afterBrush","rectContain","animateStyle","useStyle","roundRectHelper","VALID_TEXT_ALIGN","center","VALID_TEXT_VERTICAL_ALIGN","middle","normalizeStyle","textBaseline","hostEl","renderRichText","renderPlainText","setCtx","__textCotentBlock","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","needDrawBg","needDrawBackground","boxX","drawBackground","getTextXForPadding","getFill","strokeText","fillText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","textOrigin","isPlainBg","onBgImageLoaded","blockHeiht","maxValue","lastIndexOf","Gradient","addColorStop","setting","_setting","_interval","getSetting","unionExtent","unionExtentFromData","thisExtent","_isBlank","roundNumber","_intervalPrecision","_niceExtent","getIntervalPrecision","intervalScaleGetTicks","niceTicks","intervalScaleNiceTicks","intervalPrecision","niceTickExtent","expandSize","_labelHelper","findLabelValueDim","getSymbolSize","getScale","symbolProto","driftSymbol","drift","_createSymbol","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolPath","setZ","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","elStyle","symbolInnerColor","useNameLabel","valueDim","onEmphasis","ratio","onNormal","keepLabel","axisDefault","AXIS_TYPES","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","registerSubTypeDefaulter","seriesInvolved","coordSysMap","collectAxesInfo","collectSeriesInfo","globalTooltipModel","globalAxisPointerModel","linksOption","linkGroups","axisPointerEnabled","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","getAxes","saveTooltipAxisInfo","getTooltipAxes","triggerAxis","cross","tooltipAxes","baseAxes","otherAxes","fromTooltip","triggerTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","snap","involveSeries","axisInfo","useHandle","seriesModels","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","crossStyle","seriesTooltipTrigger","seriesTooltipShow","getAxis","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","getAxisInfo","legendModels","findComponents","eachSeriesByType","isSelected","Geo","resizeGeo","geoModel","boundingCoords","leftTop","rightBottom","setBoundingRect","boxLayoutOption","viewWidth","viewHeight","aspectScale","useCenterAndSize","viewRect","getBoxLayoutParams","setViewRect","setCenter","setZoom","setGeoCoords","geoCoord","addGeoCoord","geoCreator","geoList","mapData","zoomLimit","geoIndex","mapModelGroupBySeries","getHostGeoModel","mapType","getMapType","mapSeries","nameMapList","singleMapSeries","getFilledRegions","originRegionArr","nameMap","regionsArr","dataNameMap","eventTool","interactionMutex","RoamController","pointerChecker","_opt","mousedownHandler","mousedown","mousemoveHandler","mousemove","mouseupHandler","mouseup","mousewheelHandler","mousewheel","pinchHandler","pinch","setPointerChecker","enable","controlType","disable","zoomOnMouseWheel","moveOnMouseMove","preventDefaultMouseMove","isDragging","_dragging","isPinching","_pinching","_x","_y","checkKeyBinding","gestureEvent","isTaken","oldX","oldY","zoomDelta","pinchScale","pinchX","pinchY","zoomX","zoomY","roamController","WhiskerBoxDraw","seriesModelMixin","_baseAxisDim","addOrdinal","coordDims","baseAxisDimIndex","baseAxisDim","otherAxisDim","defaultValueDimensions","viewMixin","whiskerBoxDraw","_whiskerBoxDraw","getStyleUpdater","buildElStyle","axisPointerType","styleModel","getAreaStyle","buildLabelElOption","elOption","labelPos","getValueLabel","paddings","textRect","align","verticalAlign","confineInContainer","bgColor","seriesDataIndices","seriesData","idxItem","dataParams","getTransformedPosition","layoutInfo","buildCartesianSingleLabelElOption","textLayout","makeLineShape","xDimIndex","makeRectShape","xy","wh","makeSectorShape","r0","clockwise","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","mappings","createMappings","visualData","mappingOption","__hidden","__alphaForOpacity","Creater","replaceVisualOption","keys","getValueState","visualTypesMap","eachItem","valueOrIndex","rawDataItem","visualMap","valueState","mIdentity","transformableProto","parentHasTransform","invTransform","tmpTransform","atan2","transformCoordToGlobal","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","DEFAULT_TMP_STORAGE_LENGTH","minRunLength","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","pivot","gallopLeft","hint","lastOffset","maxOffset","gallopRight","TimSort","minGallop","tmpStorageLength","stackLength","runStart","runLength","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","dest","_minGallop","count1","count2","exit","customCursor","customDest","remaining","ts","minRun","globalImageCache","newImageOrSrc","cachedImgObj","cbPayload","__zrImageSrc","pendingWrap","pending","imageOnLoad","__cachedImgObj","PI2","extremity","fromPoints","xDim","yDim","tx","ty","vec2Min","vec2Max","DELIMITER","random","subTypeDefaulters","defaulter","determineSubType","componentTypeMain","dependencyGetter","topologicalTravel","targetNameList","fullNameList","makeDepndencyGraph","graph","noEntryList","targetNameSet","currComponentType","currVertex","isInTargetNameSet","originalDeps","successor","removeEdgeAndAdd","removeEdge","succComponentType","entryCount","thisItem","createDependencyGraphItem","availableDeps","getAvailableDependencies","dependentName","predecessor","thatItem","dep","Component","componentProto","dataToPoint","Cartesian2D","Axis2D","isAxisUsedInTheGrid","rotateTextRect","rotateRadians","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getLabelUnionRect","axisLabelModel","labelCount","isLabelIgnored","unrotatedSingleRect","singleRect","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","axesMap","_updateScale","fixAxisOnZero","axes","onZero","onZeroAxisIndex","otherAxis","canNotOnZeroToAxis","ignoreContainLabel","gridRect","axesList","adjustAxes","labelUnionRect","updateAxisTransfrom","axesMapOnDim","getCartesian","coordList","getCartesians","_findConvertTarget","cartesian","toGlobalCoord","toLocalCoord","coordsList","axisPositionUsed","axesCount","createAxisCreator","addAxis","axisPosition","isCartesian2D","findAxesModels","baseAxis","getOtherAxis","coordBase","axisExtentSum","axesTypes","grids","STACK_PREFIX","getSeriesStackId","getAxisKey","getLayoutOnAxis","axisKey","bandWidth","stackId","widthAndOffsets","doCalBarWidthAndOffset","offsetCenter","calBarWidthAndOffset","barSeries","seriesInfoList","barWidth","barMaxWidth","barGap","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","barGapPercent","autoWidth","column","widthSum","lastColumn","barLayoutGrid","barWidthAndOffset","getSeriesByType","lastStackCoords","lastStackCoordsOrigin","columnLayoutInfo","columnOffset","columnWidth","valueAxis","barMinHeight","valueAxisStart","getGlobalExtent","lastCoord","lastCoordOrigin","updateSelectedMap","targetList","_targetList","_selectTargetMap","targetMap","select","selectedMode","selected","unSelect","toggleSelected","paletteScope","dataAll","idxMap","filteredIdx","singleDataColor","IRRELEVANT_EXCLUDES","onIrrelevantElement","targetCoordSysModel","topTarget","LineGroup","isPointNaN","pt","lineNeedsDraw","pts","LineDraw","_ctor","lineDrawProto","lineData","oldLineData","_lineData","LineCtor","hoverLineStyle","lineGroup","symbolUtil","LinePath","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createLine","setLinePoints","targetShape","cp1","cpx1","cpy1","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","invScale","fromPos","pointAt","toPos","tangent","tangentAt","__position","halfPercent","cp","__verticalAlign","__textAlign","_createLine","lineProto","beforeUpdate","linePoints","_updateCommonStl","visualColor","visualOpacity","showLabel","hoverShowLabel","defaultLabelColor","normalText","emphasisText","rawVal","labelStyle","linePath","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","brushStyle","transformable","brushMode","removeOnClick","baseUID","BrushController","_brushType","_brushOption","_panels","_track","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_uid","_handlers","mouseHandlers","enableBrush","brushOption","doDisableBrush","brushType","doEnableBrush","setPanels","panelOpts","panels","panelId","mount","enableGlobalPan","thisGroup","eachCover","updateCovers","brushOptionList","tmpIdPrefix","oldCovers","newCovers","controller","creatingCover","oldGetKey","getKey","addOrUpdate","cover","__brushOption","newIndex","oldIndex","newBrushOption","endCreating","createCover","updateCoverAfterCreation","unmount","clearCovers","take","release","coverRenderers","coverRenderer","getCoverRenderer","updateCoverShape","updateCommon","getPanelByPoint","localCursorPoint","panel","pn","isTargetByCursor","getPanelByCover","covers","originalLength","areas","isEnd","shouldShowCover","track","getTrackEnds","tail","createBaseRectCover","doDrift","edgeNames","makeStyle","ondragend","updateBaseRect","localRange","handleSize","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","globalDir","getGlobalDirection","pointsToRect","clipByPanel","formatRectRange","localDirection","inverseMap","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","localD","localZero","clipPath","xmin","ymin","xmax","ymax","resetCursor","currPanel","rawE","mainShapeContain","updateCoverByMouse","thisBrushOption","eventParams","determineBrushType","coverBrushOption","getCreatingRange","defaultBrushType","handleDragEnd","getLineRenderer","localTrack","ends","xyIndex","otherExtent","getLinearBrushOtherExtent","throttleUtil","BaseAxisPointer","_group","_lastGraphicKey","_handle","_lastValue","_lastStatus","_payloadInfo","animationThreshold","_axisModel","_axisPointerModel","handle","hide","makeElOption","graphicKey","moveAnimation","_moveAnimation","determineAnimation","createPointerEl","createLabelEl","doUpdateProps","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","isCategoryAxis","useSnap","pointerOption","pointer","pointerEl","labelEl","updateLabelShowHide","updateHandleTransform","handleModel","onmousemove","onmousedown","_onHandleDragMove","_onHandleDragEnd","includeStyles","_moveHandleToValue","getHandleTransProps","getHandleTransform","trans","lastProp","_doDispatchAxisPointer","payloadInfo","cursorPoint","tooltipOption","axisDim","doClear","buildLabel","animationModel","propsEqual","lastProps","newProps","equals","Polar","_axisHelper","resizePolar","radiusAxis","getRadiusAxis","updatePolarScale","angleAxis","getAngleAxis","setAxis","polarCreator","polarList","AXIS_DIMS","COORDS","isCoordSupported","coordType","createNameEach","attrs","capitalNames","capitalAttrs","nameObj","capital","createLinkedNodesFinder","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","nodes","records","edgeType","absorb","existsLink","processSingleNode","isNodeAbsorded","isLinked","hasLink","edgeId","fillLabel","MarkerModel","createdBySelf","hostSeries","__hostSeries","newOpt","modelPropName","markerOpt","markerModel","html","hasXOrY","hasXAndY","valueAxisDim","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","numCalculate","markerTypeCalculator","average","dataTransform","baseDataDim","valueDataDim","valueIndex","dataFilter","markerGroupMap","__keep","markerModelKey","renderSeries","_core","arrayJoin","NONE","mathRound","degree","round4","pathHasFill","isText","pathHasStroke","svgEl","attrXLink","setAttributeNS","bindStyle","strokeWidth","strokeScale","lineJoin","miterLimit","pathDataToString","dataLength","cmdStr","nData","dThetaPositive","isCircle","large","svgPath","__svgEl","pathStr","svgTextDrawRectText","svgImage","HTMLImageElement","dw","dh","__imageSrc","svgText","textSvgEl","__textSvgEl","transformText","getVerticalAlignForSvg","newPos","nTextLines","textAnchor","__text","__textFont","tspanList","__tspanList","tspan","appendChild","innerHTML","createTextNode","removeChild","svgURI","createElementNS","eval","idStart","Animatable","afterUpdate","setClipPath","removeClipPath","animators","addAnimator","removeAnimator","Clip","arraySlice","defaultGetter","defaultSetter","interpolateNumber","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isArraySame","catmullRomInterpolateArray","catmullRomInterpolate","v0","cloneValue","rgba2String","getArrayDim","keyframes","lastValue","createTrackClip","animator","easing","oneTrackDone","forceAnimate","_getter","_setter","useSpline","trackLen","firstVal","isValueArray","isValueColor","isValueString","trackMaxTime","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","_target","lastFrame","lastFramePercent","onframe","frame","clip","life","_loop","_delay","ondestroy","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","tracks","during","pause","_paused","resume","isPaused","_doneCallback","doneList","clipCount","lastClip","addClip","oldOnFrame","forwardToLast","clipList","removeClip","done","getClips","LinkedList","head","linkedListProto","insert","entry","Entry","insertEntry","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","removed","leastUsedEntry","STYLE_COMMON_PROPS","createLinearGradient","canvasGradient","createRadialGradient","blend","prevStyle","firstDraw","globalAlpha","globalCompositeOperation","otherStyle","newStyle","styleProto","repeat","createPattern","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","r1","r2","r3","r4","total","_l","_a","_b","_s","_curve","normalizeRadian","windingLine","dir","x_","shadowTemp","orignalBrush","clipPaths","modified","smoothSpline","smoothBezier","smooth","controlPoints","smoothConstraint","cp2","globalCoord","colorIdx","colorNameMap","colorPalette","number","format","ecHelper","_List","_Model","_Axis","_env","_parseGeoJson","parseGeoJson","ecUtil","util","fixExtent","safeLimit","Region","decode","json","UTF8Encoding","encodeScale","UTF8Scale","feature","geometry","coordinates","encodeOffsets","coordinate","decodePolygon","c2","prevX","prevY","featureObj","geometries","exterior","interiors","region","polygonContain","loopGeo","transformTo","isAroundEqual","labelDims","fixClipWithShadow","v2Copy","cp0","isPointNull","drawSegment","segLen","allLen","smoothMin","smoothMax","smoothMonotone","connectNulls","prevIdx","nextIdx","nextP","ratioNextSeg","prevP","lenPrevSeg","lenNextSeg","getBoundingBox","ptMin","ptMax","stackedOnPoints","stackedOnSmooth","stackedOnBBox","axisModelCreator","axisModelCommonMixin","AxisModel","gridIndex","gridId","getAxisType","extraOption","nameRotate","nameTruncate","nameTextStyle","nameGap","axisTick","inside","axisLabel","splitLine","splitArea","areaStyle","categoryAxis","timeAxis","logAxis","logBase","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelInside","getMarkerPosition","offsetIndex","legendHoverLink","barMinAngle","setLabel","labelPositionOutside","fixPosition","actionInfos","TransformDummy","View","_roamTransform","_viewTransform","_center","_zoom","_viewRect","viewTransform","_updateTransform","centerCoord","_updateCenterAndZoom","getDefaultCenter","rawRect","getCenter","getZoom","getRoamTransform","viewTransformMatrix","roamTransform","defaultCenter","getViewRect","getViewRectAfterRoam","doConvert","roamHelper","_cursorHelper","getFixedItemStyle","areaColor","updateMapSelectHandler","mapDraw","mapOrGeoModel","fromView","_mouseDownFlag","__regions","updateMapSelected","otherRegionEl","MapDraw","updateGroup","_controller","_controllerHost","_updateGroup","draw","isGeo","groupNewProp","itemStyleAccessPath","hoverItemStyleAccessPath","labelAccessPath","hoverLabelAccessPath","regions","regionGroup","compoundPath","paths","regionModel","getRegionModel","itemStyleModel","hoverItemStyleModel","isDataNaN","itemLayout","groupRegions","_updateController","controllerHost","makeActionBase","updateViewOnPan","mouseX","mouseY","updateViewOnZoom","ATTR","resourceKey","userKey","getStore","uKey","newZoom","zoomMin","zoomMax","zoomScale","_roamHelper","updateCenterAndZoom","seriesGroup","previousZoom","fixX","fixY","linkList","TreeNode","hostTree","depth","viewChildren","isRemoved","eachNode","order","suppressVisitSub","updateDepthAndHeight","getAncestors","includeSelf","ancestors","getValue","levelModel","getLevelModel","leavesModel","isExpand","getLeavesModel","levelModels","Tree","levelOptions","leavesOption","_nodes","levelDefine","getNodeByDataIndex","getNodeByName","clearLayouts","createTree","dataRoot","treeOptions","levels","leaves","listData","dimMax","buildHierarchy","dataNode","addChild","mainData","struct","structAttr","DATAS","MAIN_DATA","datas","datasAttr","linkAll","transferInjection","cloneShallowInjection","changeInjection","isMainData","linkSingle","hierNode","defaultAncestor","prelim","modifier","change","thread","firstWalk","separation","siblings","subtreeW","executeShifts","midPoint","apportion","secondWalk","nodeX","defaultSeparation","radialCoordinate","radialCoor","subtreeV","nodeOutRight","nodeInRight","nodeOutLeft","nodeInLeft","sumOutRight","sumInRight","sumOutLeft","sumInLeft","nextRight","nextLeft","moveSubtree","nextAncestor","wl","wr","node1","node2","_traversalHelper","eachAfter","eachBefore","_layoutHelper","sep","virtualRoot","realRoot","kx","ky","coorX","coorY","finalCoor","rawX","rawY","Graph","edges","directed","beforeLink","addNode","linkNameList","validEdges","linkCount","addEdge","nodeData","coordSysCtor","edgeData","simpleLayout","getGraph","simpleLayoutEdge","eachEdge","curveness","circularLayout","unitAngle","x12","y12","parallelPreprocessor","CLICK_THRESHOLD","parallelModel","handlers","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","getSlidedAxisExpandWindow","behavior","axisExpandWindow","triggerOn","Parallel","graphicUtil","makeRectPanelClipPath","normalizeRect","localPoints","makeLinearBrushOtherExtent","specifiedXYIndex","brushWidth","makeRectIsTargetByCursor","targetModel","nest","keysFunction","sortKeysFunction","keyFunction","mapObject","valuesByKey","keyValue","entriesMap","sortKeyFunction","sortKeys","entries","curveUtil","EffectLine","_updateEffectSymbol","effectLineProto","effectModel","_updateEffectAnimation","period","constantSpeed","delayExpr","isDelayFunc","updateAnimationPoints","getLineLength","_period","__t","updateSymbolPosition","__p1","__cp1","__p2","_createPolyline","polylineProto","polyline","positionMap","horizontal","vertical","directionMap","initGlobalListeners","record","initialized","useHandler","doEnter","onLeave","dis","makeDispatchAction","dispatchTooltipFinally","pendings","showLen","showTip","hideLen","hideTip","actuallyPayload","currTrigger","unregister","viewHelper","cartesianAxisHelper","CartesianAxisPointer","pixelValue","pointerShapeBuilder","currPosition","cursorOtherValue","tooltipOptions","getAxisDimIndex","shadow","LegendModel","_updateData","legendData","hasSelected","availableNames","getSeries","_availableNames","borderColor","borderRadius","borderWidth","itemGap","itemWidth","itemHeight","inactiveColor","_listComponent","makeBackground","layoutUtil","newlineDisabled","_contentGroup","_backgroundEl","getContentGroup","legendModel","resetInner","itemAlign","renderInner","viewportSize","mainRect","layoutInner","layoutRect","contentGroup","legendDrawnMap","selectMode","getSeriesByName","legendSymbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","eachRawSeries","itemIcon","tooltipModel","legendGlobalTooltipModel","hitRect","legendIndex","__legendDataIndex","contentRect","dataName","layoutBox","boxLayoutParams","brushHelper","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","BrushTargetManager","targetInfoList","_targetInfoList","info","foundCpts","targetInfoBuilders","builder","include","setOutputRanges","matchOutputRanges","area","coordRange","coordRanges","coordConvert","__rangeOffset","diffProcessor","xyMinMax","targetInfo","findTargetInfo","coordSyses","setInputRanges","rangeOffset","getScales","makePanelOpts","getDefaultBrushType","getPanelRect","controlSeries","areaPanelId","targetInfoMatchers","formatMinMax","minMax","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","cartesians","panelRectBuilder","xAxisDeclared","yAxisDeclared","geoModels","axisConvert","to","rangeOrCoordRange","xminymin","xmaxymax","axisNameIndex","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","getSize","sizeOrigin","resetSingleAxis","filterSingleAxis","percentRange","valueRange","reset","filterData","linkedNodesFinder","effectedModels","pieces","splitList","calculable","visualSolution","visualMapModel","processSingleVisualMap","prepareVisualMeta","eachTargetSeries","targetVisuals","getDataDimension","visualMetaList","isTargetSeries","visualMeta","getVisualMeta","getColorVisual","stops","outerColors","resultVisual","mapping","visualDefault","DEFAULT_COLOR","VisualMapModel","replacableOptionKeys","dataBound","inRange","outOfRange","contentColor","textGap","_dataExtent","controllerVisuals","itemSize","resetItemSize","completeVisualOption","resetVisual","getTargetSeriesIndices","optionSeriesIndex","seriesIndices","formatValueText","edgeSymbols","isMinMax","textValue","resetExtent","optDim","completeSingle","completeInactive","completeController","defa","stateExist","stateAbsent","optExist","optAbsent","symbolExists","symbolSizeExists","visuals","setSelected","active","inactive","autoPositionValues","renderBackground","getControllerVisual","targetValue","visualCluster","forceState","visualObj","visualMapping","convertOpacityToAlpha","positionGroup","getItemAlign","modelOption","ecSize","realIndex","paramsSet","reals","fakeValue","layoutInput","rParam","convertDataIndex","newSnapshot","giveStore","dataZoomId","snapshot","urn","win","vmlInited","doc","createNode","tagName","doCreateNode","namespaces","zrvml","initVML","styleSheets","createStyleSheet","addRule","ZText","_graphic","MARK_UNUSED","MARK_USED","Definable","svgRoot","tagNames","markLabel","_svgRoot","_tagNames","_markLabel","nextId","getDefs","isForceCreating","defs","getElementsByTagName","insertBefore","firstChild","element","onUpdate","addDom","removeDom","getDoms","doms","tags","markAllUnused","that","markUsed","removeUnused","getSvgProxy","displayable","getTextSvgElement","getSvgElement","myChart","getElementById","_echarts","_export","Draggable","SILENT","makeEventPacket","eveType","EmptyProxy","handlerNames","proxy","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","lastHovered","lastHoveredTarget","hovered","hoveredTarget","setCursor","dispatchToElement","mouseout","toElement","relatedTarget","innerDom","dispatch","eventArgs","eventPacket","eachOtherLayer","layer","exclude","hoverCheckResult","isHover","_downEl","_downPoint","_upEl","_dragStart","_drag","_dragEnd","draggingTarget","_draggingTarget","dropTarget","lastDropTarget","_dropTarget","shapeCompareFunc","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","displayList","_updateAndAddDisplayable","userSetClipPath","currentClipPath","parentClipPath","_renderList","displayableSortFunc","animatingShape","pathSplitted","_animateToShallow","objShallow","propertyCount","easingFuncs","_life","_initialized","onrestart","_pausedTime","globalTime","deltaTime","_startTime","easingFunc","schedule","fire","restart","_needsRemove","arg","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Layer","MAX_PROGRESSIVE_LAYER_NUMBER","parseInt10","isLayerValid","__builtin__","preProcessLayer","__unusedCount","postProcessLayer","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","cssText","singleCanvas","nodeName","_opts","_singleCanvas","rootStyle","zlevelList","_zlevelList","layers","_layers","_layerConfig","_width","_getSize","_height","_domRoot","mainLayer","initContext","_progressiveLayers","_hoverlayer","_hoverElements","getViewportRootOffset","viewportRoot","offsetLeft","offsetTop","paintAll","_paintList","_startProgessive","__hoverMir","elMirror","__from","hoverElements","hoverLayer","getLayer","originalEl","_doPaintEl","_furtherProgressive","_progressiveToken","_progress","_doPaintList","_clearProgressive","_updateLayerStatus","eachBuiltinLayer","currentLayer","currentZLevel","progressiveLayerIdx","currentProgressiveLayer","layerProgress","flushProgressiveLayer","elZLevel","elFrame","__frame","renderScope","__progress","__maxProgress","__nextIdxNotProg","forcePaint","prevClipLayer","prevElClipPaths","insertLayer","layersMap","prevLayer","virtual","prevDom","eachLayer","getLayers","progressiveLayers","elCountsLastFrame","progressiveElCountsLastFrame","progressiveLayerCount","lastProgressiveKey","frameCount","elProgress","_clearLayer","layerConfig","delLayer","display","clearLayer","imageLayer","findAndDrawOtherLayer","smaller","larger","intermediateLayer","renderToCanvas","whIdx","cwh","plt","prb","stl","defaultView","getComputedStyle","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","clearRect","pathTransform","ImageShape","imgShape","returnFalse","createDom","newDom","newDomStyle","domStyle","onselectstart","domBack","ctxBack","motionBlur","lastFrameAlpha","__currentValues","createBackBuffer","clearAll","haveMotionBLur","clearColorGradientOrPattern","__canvasGradient","fillRect","_event","_clips","_running","_time","_pauseStart","clips","deferredEvents","deferredClips","_startLoop","GestureMgr","TOUCH_CLICK_DELAY","mouseHandlerNames","touchHandlerNames","pointerEventNames","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","eventNameFix","processGesture","gestureMgr","_gestureMgr","gestureInfo","recognize","setTouchTimer","instance","_touching","_touchTimer","domHandlers","touchstart","touchmove","touchend","click","isPointerFromTouch","pointerType","initDomHandler","makeMouseHandler","HandlerDomProxy","mountHandlers","handlerDomProxyProto","eventUtil","_doTrack","_recognize","touches","trackItem","recognizers","pointPair","pinchEnd","pinchPre","pinchCenter","globalDefault","colorPaletteMinin","OPTION_INNER_KEY","_optionManager","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","mediaOption","componentsMap","newCptTypes","componentOption","visitComponent","_seriesIndices","newCptOptionList","getComponentsByTypes","ComponentModelClass","createSeriesIndices","cpts","isIdArray","cpt","isNameArray","filterBySubType","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","components","queryResult","oneSeries","assertSeriesInitialized","rawSeriesIndex","getCurrentSeriesIndices","filterSeries","filteredSeries","componentTypes","mergeTheme","themeItem","existComponent","makeStyleMapper","getLineDash","lineType","dotSize","dashSize","PATH_COLOR","transformPath","cc","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","createPathProxyFromString","cs","RegExp","cpx","cpy","prevCmd","ctlPtx","ctlPty","createPathOptions","pathProxy","pathEls","pathList","pathEl","pathBundle","cubic","quadratic","swapExtrema","windingCubic","nRoots","nExtrema","y0_","y1_","unit","windingQuadratic","y_","windingArc","containPath","isStroke","mathAtan2","nPoint","unitX","unitY","polyHelper","v2Distance","interpolate","isLoop","segs","w2","w3","v2Min","v2Max","v2Scale","v2Add","v2Clone","v2Sub","constraint","cps","prevPoint","nextPoint","d0","someVectorAt","isTangent","cpx2","cpy2","_updatePathDirty","getBorderLineDash","platform","animationDuration","animationEasingUpdate","progressiveThreshold","hoverLayerThreshold","useUTC","echartsAPIList","chartInstance","QUERY_REG","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","oldOptionBackup","newParsedOption","parseRawOption","timelineOptions","mediaList","mediaDefault","isRecreate","optionBackup","timelineModel","getCurrentIndex","ecWidth","ecHeight","applyMediaQuery","indicesEquals","isNew","timelineOpt","timeline","media","singleMedia","preProcess","realMap","aspectratio","applicatable","matched","operator","realAttr","real","expect","indices1","indices2","oldOption","newCptOpt","oldCptOpt","compatStyle","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","COMPATITABLE_SERIES","isTheme","seriesOpt","clockWise","pointerColor","dataRange","componentName","POSSIBLE_STYLES","compatItemStyle","itemStyleOpt","normalItemStyleOpt","emphasisItemStyleOpt","compatTextStyle","labelOptSingle","compatLabelTextStyle","labelOpt","processSeries","upperLabel","edgeLabel","markPoint","markLine","markArea","mpData","mlData","toArr","toObj","axisOpt","parallel","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","geoOpt","regionObj","encodeColor","colorAccessPath","maskColor","mask","labelRect","_completeDimensions","createList","createScale","mixinAxisModelCommonMethods","scaleProto","rank","scaleHelper","intervalScaleProto","mathCeil","mathFloor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","bisect","TimeScale","stepLvl","_stepLvl","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","yearSpan","yearStep","timezoneOffset","getTimezoneOffset","roundingErrorFix","mathLog","LogScale","_originalScale","originalScale","powVal","__fixMin","fixRoundingError","__fixMax","err","originalVal","visualSymbol","layoutPoints","dataSample","clipOverflow","showSymbol","showAllSymbol","sampling","lineAnimationDiff","_poly","isPointsSame","points1","points2","getSmooth","getAxisExtentWithGap","halfBandWidth","getStackedOnPoints","valueStart","baseDataOffset","stackedOnSameSign","stackedData","createGridClipShape","hasAnimation","xExtent","yExtent","createPolarClipShape","radiusExtent","angleExtent","RADIAN","createClipShape","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","nextPt","stepPt","stepPt2","getVisualGradient","stopLen","tinyExtent","minCoord","maxCoord","coordSpan","gradient","symbolDraw","_symbolDraw","_lineGroup","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","_polygon","isAreaChart","isSymbolIgnore","_getSymbolIgnoreFunc","__temp","_step","_newPolyline","_newPolygon","_stackedOnPoints","_points","_updateAnimation","stackedOnSeries","getAxesByScale","stackedOnCurrent","stackedOnNext","__points","updatedDataInfo","diffStatus","idx1","ptIdx","getStackedOnPoint","diffData","diffResult","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","diffItem","pointAdded","currentPt","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","samplers","nearest","indexSampler","sampler","Cartesian","axisX","axisY","dimAxisMapper","_axes","_dimList","_dataCoordConvert","input","dimList","output","coordExtent","containLabel","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","_splitLine","splitLineModel","lineColors","lineInterval","lineCount","colorIndex","_splitArea","splitAreaModel","areaColors","areaInterval","BaseBarSeries","brushSelector","_helper","barItemStyle","BAR_BORDER_WIDTH_QUERY","coordinateSystemType","_render","isHorizontalOrRadial","elementCreator","updateStyle","removeRect","removeSector","rectShape","animateProperty","animateTarget","isRadial","sector","sectorShape","fixedLineWidth","getLineWidth","signX","signY","isPolar","getBarItemStyle","rawLayout","createDataSelectAction","dataColor","pieLayout","dataSelectableMixin","PieSeries","_defaultLabelLine","labelLine","labelLineNormalOpt","labelLineEmphasisOpt","minAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","animationType","updateDataSelected","toggleItemSelected","midAngle","PiePiece","hoverIgnore","normalIgnore","piePieceProto","firstCreate","_updateLabel","labelText","labelHoverModel","labelLineModel","labelLineHoverModel","PieView","sectorGroup","_sectorGroup","isFirstRender","onSectorClick","piePiece","_createClipPath","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","adjustSingleSide","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","deltaY","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","rightList","hasLabelRotate","labelPosition","labelLineLen","labelLineLen2","isLabelInside","largeThreshold","LargeSymbolDraw","_normalSymbolDraw","_largeSymbolDraw","largeSymbolDraw","normalSymbolDraw","LargeSymbolPath","sizes","symbolProxy","symbolProxyShape","findDataIndex","_symbolEl","largeSymbolProto","radarLayout","IndicatorAxis","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","coordToPoint","minRadianDiff","closestAxis","closestAxisIdx","coodToData","viewSize","indicatorAxes","radarSeries","increaseInterval","rawExtent","fixedMin","fixedMax","nicedSplitNumber","halfSplitNumber","radarList","valueAxisDefault","defaultsShow","RadarModel","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","indName","indicator","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLines","splitAreas","getColorIndex","areaOrLine","areaOrLineColorList","ticksRadius","realSplitNumber","axesTicksPoints","prevPoints","RadarSeries","radarIndex","normalizeSymbolSize","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","pointsConverter","polarOptArr","polarNotRadar","polarOpt","polarIndex","mapSymbolLayout","mapDataStatistic","MapSeries","needsDrawMap","_fillOption","regionName","seriesNames","otherIndex","originalData","getRegion","showLegendSymbol","dataRangeHoverLink","scaleLimit","fixNanhai","fixTextCoord","fixGeoCoord","fixDiaoyuIsland","geoFixFuncs","_nameCoordMap","loadGeoJson","containCoord","regionsMap","specialArea","_regionsMap","fixFunc","getRegionByCoord","getGeoCoord","regionRect","coordsOffsetMap","coordFix","geoCoordMap","mapModel","_mapDraw","_renderSymbols","fullData","mainSeries","fullIndex","polygonGroups","__mapOriginalZ2","processedMapType","mapSymbolOffsets","subMapSeries","colorList","dataStatistics","statisticType","mapKey","seriesGroups","hostGeoModel","seriesList","mapLocation","orthogonalLayout","radialLayout","treeOption","treeDepth","expandAndCollapse","expandTreeDepth","initialTreeDepth","collapsed","_oldTree","_mainGroup","curvature","updateNode","removeNode","getTreeNodeStyle","sourceSymbolEl","sourceLayout","sourceOldLayout","__radialOldRawX","__radialOldRawY","targetLayout","__radialRawX","__radialRawY","rootLayout","isLeft","__edge","getEdgeShape","radialCoor1","radialCoor2","radialCoor3","radialCoor4","commonLayout","treemapVisual","treemapLayout","_viewRoot","clipWindow","squareRatio","leafDepth","drillDownIcon","zoomToNodeRatio","roam","nodeClick","breadcrumb","emptyItemWidth","gapWidth","borderColorSaturation","visualDimension","visualMin","visualMax","colorMappingBy","visibleMin","childrenVisibleMin","completeTreeValue","setDefault","resetViewRoot","setLayoutInfo","mapIdToIndex","idIndexMap","_idIndexMap","_idIndexMapCount","getViewRoot","childValue","thisValue","globalColorList","hasColorDefine","modelColor","level0","Breadcrumb","animationUtil","DRAG_THRESHOLD","PATH_LABEL_NOAMAL","PATH_LABEL_EMPHASIS","PATH_UPPERLABEL_NORMAL","PATH_UPPERLABEL_EMPHASIS","Z_BASE","Z_BG","Z_CONTENT","getItemStyleEmphasis","getItemStyleNormal","_containerGroup","createStorage","_breadcrumb","_state","thisStorage","reRoot","rootNodeGroup","nodeGroup","containerGroup","_giveContainerGroup","renderResult","_doRender","_doAnimation","renderFinally","_resetController","_renderBreadcrumb","thisTree","oldTree","lastsForAnimation","oldStorage","willInvisibleEls","doRenderNode","renderNode","dualTravel","willDeleteEls","clearStorage","thisViewChildren","oldViewChildren","parentGroup","sameTree","processNode","thisNode","oldNode","storageName","delEls","__tmWillDelete","els","animationWrap","createWrap","__tmNodeWidth","__tmNodeHeight","targetX","targetY","last","old","fadein","_onPan","_onZoom","_clearController","rootRect","findTarget","isLeafRoot","_rootToNode","_zoomToNode","linkTarget","open","onSelect","bgEl","thisLayout","isInView","thisWidth","thisHeight","thisInvisible","thisRawIndex","oldRawIndex","upperHeight","isParent","itemStyleNormalModel","itemStyleEmphasisModel","giveGraphic","isAboveViewRoot","bg","renderContent","useUpperLabel","visualBorderColor","emphasisBorderColor","upperLabelWidth","prepareText","__tmWillVisible","upperLabelRect","nodeModel","iconChar","normalLabelModel","emphasisLabelModel","isShow","lasts","prepareAnimationWhenHasOld","calculateZ","__tmDepth","__tmStorageName","prepareAnimationWhenNoOld","lastCfg","parentOldX","parentOldY","parentOldBg","zInLevel","zb","TEXT_PADDING","ITEM_GAP","ARRAY_LENGTH","normalStyleModel","layoutParam","totalWidth","renderList","_prepare","_renderContent","lastX","availableSize","itemNode","makeItemPoints","onclick","packEventData","selfType","elExistsMap","doneCallback","actionTypes","handleRootToNode","originViewRoot","ITEM_STYLE_NORMAL","seriesItemStyleModel","levelItemStyles","travelTree","designatedVisual","viewRootAncestors","nodeLayout","nodeItemStyleModel","levelItemStyle","buildVisuals","thisNodeColor","calculateColor","calculateBorderColor","buildVisualMapping","childVisual","visualName","getValueVisualDefine","rangeVisual","getRangeVisual","__drColorMappingBy","childVisuals","mappingType","PATH_BORDER_WIDTH","PATH_GAP_WIDTH","PATH_UPPER_LABEL_SHOW","PATH_UPPER_LABEL_HEIGHT","seriesOption","viewAbovePath","rootSize","estimateRootSize","viewRootLayout","squarify","treeRoot","calculateRootPosition","prunning","hideChildren","halfGapWidth","upperLabelHeight","getUpperLabelHeight","layoutOffset","layoutOffsetUpper","totalArea","initChildren","rowFixedLength","best","row","score","worst","orderBy","overLeafDepth","statistic","filterByThreshold","orderedChildren","deletePoint","areaMax","areaMin","squareArea","idx0WhenH","idx1WhenH","rowOtherLength","rowLen","wh1","remain","modWH","wh0","currNode","defaultSize","viewArea","currNodeValue","defaultPosition","targetCenter","clipRect","nodeInViewAbovePath","childClipRect","categoryFilter","categoryVisual","edgeVisual","forceLayout","createView","createGraphFromNodeEdge","GraphSeries","_categoriesData","links","_updateCategoriesData","categoriesModels","_categoriesModels","categoryIdx","categoryModel","edgeLabelModel","fakeSeriesModel","edgeGetParent","getEdgeData","getCategoriesData","getEdgeByIndex","sourceName","targetName","categoriesData","focusNodeAdjacency","circular","rotateLabel","initLayout","repulsion","gravity","edgeLength","layoutAnimation","edgeSymbol","edgeSymbolSize","nodeScaleRatio","generateNodeKey","_directed","_nodesMap","_edgesMap","graphProto","isDirected","nodesMap","Node","hostGraph","getNodeByIndex","n1","n2","edgesMap","Edge","outEdges","inEdges","getEdge","breadthFirstTraverse","startNode","__visited","queue","currentNode","otherNode","inDegree","outDegree","createGraphDataProxyMixin","hostName","getGraphicEl","adjustEdge","nodeOpacityPath","lineOpacityPath","getItemOpacity","opacityPath","fadeOutItem","opacityRatio","fadeInItem","lineDraw","_lineDraw","_firstRender","_nodeScaleRatio","_getNodeGlobalScale","_updateNodeAndLinkScale","_layoutTimeout","_startForceLayoutIteration","warmUp","_layouting","setFixed","setUnfixed","__focusNodeAdjacency","__unfocusNodeAdjacency","edgeDataIndex","circularRotateLabel","adjacentEdge","unfocusNodeAdjacency","stopped","nodeScale","groupScale","groupZoom","roamZoom","straightLineProto","bezierCurveProto","isLine","curveTool","v3","intersectCurveCircle","curvePoints","radiusSquare","nextDiff","tmp0","pts2","fromSymbol","toSymbol","__original","originalPoints","graphSeries","categoryNames","categoryNameIdxMap","colorQuery","opacityQuery","_simpleLayoutHelper","_circularLayoutHelper","_forceHelper","preservedPoints","forceModel","nodeDataExtent","edgeDataExtent","rep","forceInstance","oldStep","pp","friction","v12","nLen","repFact","coordSysType","positions","bbWidth","bbHeight","viewCoordSys","GaugeSeries","dataOpt","PointerPath","parsePosition","formatLabel","GaugeView","posInfo","_renderMain","axisLineModel","angleRangeSpan","prevEndAngle","axisLineWidth","getColor","_renderTicks","_renderPointer","_renderTitle","_renderDetail","minVal","maxVal","subSplitNumber","splitLineLen","subStep","splitLineStyle","tickLineStyle","tickLine","valueExtent","pointerModel","titleModel","detailModel","funnelLayout","FunnelSeries","minSize","funnelAlign","FunnelPiece","funnelPieceProto","opacityAccessPath","FunnelView","funnelPiece","getSortedIndices","valueArr","isAscending","sizeExtent","getLinePoints","offY","parallelVisual","createParallelIfNeeded","mergeAxisOptionFromParallel","hasParallelSeries","parallelAxis","axisOption","parallelIndex","parallelOption","ParallelAxis","sliderMove","_axesLayout","_init","parallelAxisIndex","_updateAxesFromSeries","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","axisLength","layoutLength","_layoutAxes","layoutExtent","axisCount","axisExpandWidth","axisExpandCount","axisExpandable","winSize","axisExpandCenter","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","layoutAxisWithExpand","layoutAxisWithoutExpand","positionTable","rotationTable","axisCoordToPoint","eachActiveState","hasActiveSet","hasAxisBrushed","activeState","getActiveState","axisLayout","getAxisLayout","pointCoord","triggerArea","useJump","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","_initDimensions","setAxisExpand","activeIntervals","getAreaSelectStyle","setActiveIntervals","intervals","areaSelectStyle","parallelAxisModel","elementList","_brushController","_onBrush","fromAxisAreaSelect","areaWidth","builderOpt","_refreshBrushController","getCoverInfoList","extentLen","coverInfoList","coverInfo","parallelAxisId","parallelAxisIndices","rawData","modelDims","generateDataDims","dataDimsInfo","modelDimsIndex","translateCategoryValue","getRawIndicesByActiveState","theActiveState","inactiveOpacity","activeOpacity","axisData","numberDim","convertDimNameToNumber","maxDimNum","firstItem","SMOOTH","ParallelView","_dataGroup","_renderForNormal","dataGroup","updateElCommon","newDataIndex","addEl","oldDataIndex","createLinePoints","rectEl","isEmptyValue","seriesStyleModel","globalColors","opacityMap","itemOpacity","sankeyLayout","sankeyVisual","SankeySeries","rawDataOpt","nodeWidth","nodeGap","layoutIterations","SankeyShape","halfExtent","n1Layout","n2Layout","edgeLayout","computeNodeValues","filteredNodes","iterations","layoutSankey","computeNodeBreadths","computeNodeDepths","computeEdgeDepths","getEdgeValue","remainNodes","nextNode","moveSinksRight","scaleNodeBreadths","nodesByBreadth","ascending","initializeNodeDepth","resolveCollisions","relaxRightToLeft","relaxLeftToRight","kyArray","ky0","nodeDy","edgeDy","ascendingDepth","nodeY","weightedTarget","weightedSource","ascendingTargetDepth","ascendingSourceDepth","minValue","mapValueToColor","customColor","boxplotVisual","boxplotLayout","_whiskerBoxCommon","BoxplotSeries","boxWidth","WhiskerPath","WhiskerBox","styleUpdater","bodyIndex","whiskerIndex","_createContent","whiskerBoxProto","constDim","chartLayout","transInit","bodyEnds","whiskerEnds","makeWhiskerEndsShape","initBaseline","whiskerBoxDrawProto","BoxplotView","normalItemStyleModel","whiskerEl","bodyEl","borderColorQuery","defaulColor","groupResult","groupSeriesByAxis","groupItem","calculateBase","layoutSingleSeries","boxOffsetList","boxWidthList","axisList","seriesCount","boundList","maxDataCount","boxWidthBound","availableWidth","boxGap","halfWidth","variableDim","vDims","cDim","axisDimVal","median","getPoint","end1","end5","layEndLine","addBodyEnd","point1","point2","endCenter","preprocessor","candlestickVisual","candlestickLayout","CandlestickSeries","color0","borderColor0","barMinWidth","animationUpdate","getShadowDim","selectors","brushRect","CandlestickView","seriesItem","positiveBorderColorQuery","negativeBorderColorQuery","positiveColorQuery","negativeColorQuery","candleWidth","calculateCandleWidth","openVal","closeVal","lowestVal","highestVal","ocLow","ocHigh","ocLowPoint","ocHighPoint","lowestPoint","highestPoint","subPixelOptimizePoint","makeBrushRect","pmin","pmax","effectType","showEffectOn","rippleEffect","EffectSymbol","effectSymbolDraw","EFFECT_RIPPLE_NUMBER","updateRipplePath","rippleGroup","effectCfg","ripplePath","effectSymbolProto","stopEffectAnimation","startEffectAnimation","effectOffset","rippleScale","updateEffectAnimation","oldEffectCfg","_effectCfg","DIFFICULT_PROPS","linesLayout","linesVisual","preprocessOption","fromName","toName","LinesSeries","effect","trailLength","EffectPolyline","LargeLineDraw","hasEffect","isPolyline","isLarge","_hasEffet","_isPolyline","_isLarge","isSvg","_lastZlevel","_lastFrame","_lastFramePercent","effectPolylineProto","accLenArr","_offsets","_length","offsets","lineContain","quadraticContain","LargeLineShape","seg","_lineEl","largeLineProto","lineEl","blurSize","pointSize","maxOpacity","minOpacity","HeatmapLayer","getIsInPiecewiseRange","dataSpan","getIsInContinuousRange","isGeoCoordSys","visualMapOfThisSeries","targetSeries","_renderOnCartesianAndCalendar","_renderOnGeo","itemStyleQuery","hoverItemStyleQuery","labelQuery","hoverLabelQuery","dataToRect","contentShape","inRangeVisuals","outOfRangeVisuals","hmLayer","_hmLayer","lng","lat","isInRange","getPieceList","GRADIENT_LEVELS","Heatmap","_gradientPixels","colorFunc","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","imageData","getImageData","pixels","pixelLen","diffOpacity","gradientOffset","putImageData","brushCanvas","_brushCanvas","gradientPixels","pixelsSingleState","Uint8ClampedArray","PictorialBarSeries","symbolPosition","symbolMargin","symbolRepeat","symbolRepeatDirection","symbolClip","symbolBoundingData","symbolPatternSize","LAYOUT_ATTRS","posDesc","pathForLineWidth","BarView","coordSysRect","coordSysExtent","symbolMeta","getSymbolMeta","createBar","pictorialShapeStr","getShapeStr","__pictorialShapeStr","updateBar","__pictorialSymbolMeta","removeBar","prepareBarLength","prepareSymbolSize","boundingLength","pxSign","prepareLineWidth","symbolScale","prepareLayoutInfo","valueLineWidth","repeatCutLength","zeroPx","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","categorySize","unitLength","pathLen","absBoundingLength","hasEndGap","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","mDiff","sizeFix","pathPosition","bundlePosition","barRectShape","clipShape","createPath","createOrUpdateRepeatSymbols","bundle","__pictorialBundle","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","updateHoverAnimation","onMouseOver","onMouseOut","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","createOrUpdateClip","__pictorialClipPath","pathes","immediateAttrs","animationAttrs","barRectHoverStyle","barPositionOutside","times","roundedTimes","themeRiverLayout","themeRiverVisual","Single","singles","SingleAxis","_axis","_adjustAxis","_updateAxisTransform","extentSum","singleAxisHelper","selfBuilderAttr","SingleAxisView","modelHelper","findPointFromSeries","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","buildPayloadsBySeries","payloadBatch","snapToValue","seriesNestestValue","nestestValue","coordSysItem","coordSysId","coordSysIndex","coordSysMainType","dataByAxis","valueLabelOpt","outputAxesInfo","valItem","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","AxisPointerModel","shadowStyle","icon","globalListener","AxisPointerView","XY","WH","SingleAxisPointer","getPointDimIndex","DATA_NAME_INDEX","ThemeRiverSeries","fixData","rawDataLength","dataByName","layData","dataList","layerNum","largestLayer","timeValue","keyIndex","getLayerSeries","lenCount","indexArr","layerSeries","comparer","index1","index2","nearestIdx","pointNum","theValue","htmlName","htmlValue","keyGetter","_layersSeries","newLayersGroups","oldLayersGroups","points0","layerGroup","layerPoints","singleLayer","computeBaseline","baseLine","baseY0","layerIndex","sums","temp","barGrid","prepareCartesian2d","prepareGeo","prepareSingleAxis","preparePolar","prepareCalendar","ITEM_STYLE_NORMAL_PATH","ITEM_STYLE_EMPHASIS_PATH","LABEL_NORMAL","LABEL_EMPHASIS","GROUP_DIFF_PREFIX","prepareCustoms","customSeries","renderItem","makeRenderItem","createEl","graphicType","__customPathData","__customImagePath","__customText","Clz","__customGraphicType","updateEl","targetProps","elOptionStyle","targetStyle","prepareStyleTransition","targetOpacity","styleEmphasis","oldElStyle","prepareResult","userAPI","barLayout","currentSeriesIndices","userParams","dataInsideLength","wrapEncodeDef","currDataIndexInside","currDirty","currItemModel","currLabelNormalModel","currLabelEmphasisModel","currLabelValueDim","currVisualColor","updateCache","dataDimIndex","doCreateOrUpdate","elOptionType","oldChildren","newChildren","diffChildrenByName","diffGroupChildren","processAddUpdate","processRemove","childOption","dataToCoordSize","dataSize","halfSize","dataToRadius","dataToAngle","rangeInfo","getRangeInfo","cellWidth","getCellWidth","cellHeight","getCellHeight","weeks","dayCount","allDay","graphicOption","elements","GraphicModel","parentId","_elOptionsToUpdate","existList","flattenedList","_flatten","mappingResult","elOptionsToUpdate","newElOption","setKeyInfoToNewElOption","mergeNewElOptionToExist","setLayoutInfoToExist","$action","optionList","parentOption","useElOptionsToUpdate","_elMap","_lastGraphicModel","graphicModel","_clear","_updateElements","_relocate","rootGroup","existEl","targetElParent","elOptionCleaned","getCleanedElOption","removeEl","__ecGraphicWidth","__ecGraphicHeight","elOptions","parentEl","containerInfo","bounding","__ecGraphicId","existElParent","isSetLoc","isSet","existElOption","newElParentOption","newElOptCopy","existItem","legendFilter","legendSelectActionHandler","selectedMap","isToggleSelect","isItemSelected","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","mergeAndNormalizeLayoutParams","getOrient","raw","LegendView","ScrollableLegendView","_currentIndex","_controllerGroup","_showController","__rectSize","me","controllerGroup","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","orientIdx","hw","yx","controllerRect","showController","contentPos","containerPos","controllerPos","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","canJump","pageText","pageCount","currDataIndex","containerRectSize","pagePrevDataIndex","pageNextDataIndex","targetItemGroup","itemRect","itemLoc","winRect","startIdx","getItemRect","startItem","startRect","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","TooltipContent","axisPointerViewHelper","proxyRect","tooltipContent","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","setEnterable","_initGlobalListener","_keepShow","_tryShow","_hide","_refreshUpdateTimeout","manuallyShowTip","_ticket","_manuallyAxisShowTip","pointInfo","manuallyHideTip","hideLater","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","cbTicket","setContent","contentSize","vAlign","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","lastIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","gapH","gapV","getOuterSize","clientWidth","clientHeight","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","domWidth","domHeight","rectWidth","rectHeight","vendors","gCssText","assembleTransition","transitionCurve","transitionText","vendorPrefix","assembleFont","assembleCssText","borderName","camelCase","_container","_show","_hideTimeout","onmouseenter","_enterable","_inContent","onmouseleave","_hideDelay","currentStyle","viewportRootOffset","barPolar","barLayoutPolar","calRadialBar","valueMax","valueMin","pointToCoord","stackCoord","RadiusAxis","AngleAxis","_radiusAxis","_angleAxis","radiusToData","angleToData","maxAngle","foundAxisModel","PolarAxisModel","polarId","polarAxisDefaultExtendedOption","getAxisLineShape","rExtent","getRadiusIdx","ticksAngles","_axisLine","_axisTick","tickAngle","_axisLabel","labelsAngles","labelTextAlign","labelTextVerticalAlign","prevAngle","axisAngle","layoutAxis","prevRadius","PolarAxisPointer","coordValue","getLabelPosition","makeAction","selectableMixin","GeoModel","_optionModelMap","optionModelMap","regionOpt","DEFAULT_TOOLBOX_BTNS","brushComponents","brushComponentSpecifiedBtns","brushOpt","tbs","toolboxFeature","toolboxBrush","brushTypes","removeDuplicate","flag","selector","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","PRIORITY_BRUSH","brushModel","setBrushOption","brushTargetManager","brushSelected","throttleDelay","brushIndex","thisBrushSelected","brushId","brushName","brushLink","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","bindSelector","boundingRectBuilders","linkOthers","brushed","rangeInfoList","stepAParallel","stepAOthers","selectorsByBrushType","getSelectorsByBrushType","brushModelNotControll","checkInRange","seriesBrushSelected","doDispatch","sels","selectorsByElementType","bSelector","sel","selFn","elType","getBoundingRectFromMinMax","rg","getLineSelectors","lineIntersectPolygon","inLineRange","layoutRange","lx","ly","l2x","l2y","lineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","determinant","nearZero","namenda","miu","v4","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","coordInfoList","inBrush","outOfBrush","setAreas","generateBrushOption","updateController","modelId","$from","featureManager","brushLang","Brush","_brushMode","featureModel","isBrushed","setIconStatus","getIcons","availableIcons","icons","command","PROXIMATE_ONE_DAY","Calendar","calendarModel","_rangeInfo","_sw","_sh","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","day","getDay","formatedDate","getNextNDay","setDate","_lineWidth","_getRangeInfo","_initRangeOption","whNames","cellSize","layoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","dayInfo","week","nthWeek","pointToDate","tl","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","firstDay","setMonth","reversed","startDateNum","endDateNum","fweek","lweek","nthDay","calendarList","calendarSeries","CalendarModel","dayLabel","monthLabel","yearLabel","MONTH_TEXT","EN","CN","WEEK_TEXT","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","rangeData","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sh","addPoints","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","tmpD","_formatterLabel","_yearTextPositionControl","aligns","xc","yc","posPoints","yearText","_monthTextPositionControl","isCenter","termPoints","firstDayPoints","yyyy","yy","MM","monthText","_weekTextPositionControl","isStart","firstDayOfWeek","weekText","subtext","subtarget","subtextStyle","subtextStyleModel","subText","subTextEl","sublink","groupRect","layoutOption","alignStyle","_dimName","_axisIndex","_valueWindow","_percentWindow","_minMaxSpan","_dataZoomModel","getTargetSeriesModels","getOtherAxisModel","isCartesian","coordSysIndexName","foundOtherAxisModel","otherAxisModel","getMinMaxSpan","calculateDataWindow","percentExtent","percentWindow","valueWindow","boundValue","boundPercent","calculateDataExtent","dataWindow","setMinMaxSpan","setAxisModel","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","isInWindow","seriesExtent","fixExtentByAxis","isRestore","useOrigin","minMaxSpan","valueSpan","SliderZoomModel","dataBackground","fillerColor","handleIcon","handleStyle","labelPrecision","showDetail","showDataShadow","zoomLock","DataZoomView","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","SliderZoomView","_displayables","_range","_handleEnds","_size","_handleWidth","_handleHeight","_location","_dataShadowInfo","_buildView","_updateView","_resetLocation","_resetInterval","barGroup","_renderBackground","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","location","targetAxisModel","otherAxisInverse","_getViewExtent","_onClickPanelClick","_prepareDataShadowInfo","otherDataExtent","otherOffset","otherShadowExtent","thisShadowExtent","areaPoints","thisCoord","stride","lastIsEmpty","otherCoord","thisAxis","getOtherDim","thisDim","displaybles","handles","handleLabels","filler","getCursor","_onDragMove","ondragstart","_showDataInfo","_onDragEnd","onmouseover","onmouseout","bRect","handleColor","viewExtent","_updateInterval","viewExtend","nonRealtime","handleInterval","handleHeight","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","barTransform","textPoint","valueStr","showOrHide","_dispatchZoomAction","localPoint","disabled","roams","InsideZoomView","shouldRecordRange","allCoordIds","coordInfo","generateCoordId","dataZoomOption","coordId","containsPoint","throttleRate","panGetRange","zoomGetRange","roamControllerOpt","newX","newY","directionInfo","getDirectionInfo","percentDelta","signal","pixel","pixelLength","percentPoint","pixelStart","oldPoint","newPoint","dataZoomInfo","theDataZoomId","theCoordId","dataZoomInfos","cleanStore","createController","controllerParams","mergeControllerParams","newRecord","onPan","onZoom","wrapAndDispatch","getRange","typePriority","oneType","DEFAULT_BAR_BOUND","ContinuousModel","hoverLink","hoverLinkDataSize","hoverLinkOnHandle","_resetRange","auto","getSelected","findTargetDataIndices","oVals","getColorStopValues","iVals","setStop","iIdx","oIdx","iLen","oLen","first","stopsLen","stopValues","VisualMapView","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","_shapes","_dataInterval","_useHandle","_hoverLinkDataIndices","_hovering","_renderBar","dataRangeText","_renderEndsText","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","endsIndex","_applyTransform","targetGroup","shapes","_createBarGroup","createPolygon","_dragHandle","textSize","handleThumbs","handleLabelPoints","_createHandle","_createIndicator","onDrift","onDragEnd","handleThumb","createHandlePoints","handleLabel","handleLabelPoint","indicatorLabel","indicatorLabelPoint","visualMapId","_clearHoverLinkToSeries","useHoverLinkOnHandle","_doHoverLinkToSeries","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","barPoints","_updateHandle","_makeColorGradient","symbolSizes","_createBarPoints","handlesColor","sampleNumber","currValue","_showIndicator","cursorValue","rangeSymbol","halfHoverLinkSize","createIndicatorPoints","_hoverLinkFromSeriesMouseOver","_hideIndicator","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","oldBatch","newBatch","resultBatches","_dispatchHighDown","isRange","extentMax","PiecewiseModel","minOpen","maxOpen","itemSymbol","_pieceList","mode","_mode","_determineMode","resetMethods","_resetSelected","visualTypesInPieces","getSelectedMapKey","hasSel","pIdx","getRepresentValue","representValue","pieceInterval","splitStep","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","PiecewiseVisualMapView","_getItemAlign","viewData","_getViewData","endsText","viewPieceList","_onItemClick","_enableHoverLink","indexInModelPieceList","_createItemSymbol","visualState","onHoverLink","shapeParam","newKey","markerHelper","MarkerView","updateMarkerLayout","xPx","yPx","markPointModel","mpModel","symbolDrawMap","coordDimsInfos","markLineTransform","mlModel","mlFrom","mlTo","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","markLineModel","fromData","toData","__to","lineDrawMap","updateDataVisualAndLayout","lineColor","optData","colorUtil","markAreaTransform","maModel","ltCoord","rbCoord","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","markAreaModel","areaData","areaGroupMap","polygonGroup","__data","compatibleEC2","ec2Types","transferItem","controlStyle","controlPosition","itemStyleEmphasis","labelNormal","excludeLabelAttr","currentIndex","setCurrentIndex","isIndexMax","setPlayState","playState","TimelineModel","SliderTimelineModel","checkpointStyle","showPlayBtn","showPrevBtn","showNextBtn","playIcon","stopIcon","nextIcon","prevIcon","autoPlay","rewind","playInterval","_names","_initData","getPlayState","dataArr","idxArr","newItem","TimelineView","TimelineAxis","_timer","_currentPointer","_labelGroup","mainGroup","_createGroup","labelGroup","_createAxis","_renderAxisLabel","_position","_doPlayStop","_clearTimer","labelPosOpt","labelAlignMap","labelBaselineMap","rotationMap","mainLength","controlModel","showControl","controlSize","controlGap","sizePlusGap","playPosition","prevBtnPosition","nextBtnPosition","labelAlign","labelBaseline","rotateOriginX","rotateOriginY","viewBound","getBound","mainBound","labelBound","mainPosition","labelsPosition","mainBoundIdx","toBound","setOrigin","boundIdx","_customizeScale","newGroup","_renderAxisLine","_renderAxisTick","hoverStyleModel","symbolOpt","_changeTimeline","giveSymbol","_renderControl","makeBtn","_handlePlayClick","iconPath","willRotate","btn","makeIcon","_renderCurrentPointer","onCreate","_handlePointerDrag","_handlePointerDragend","pointerMoveTo","nextState","_pointerChangeTimeline","mousePos","_toAxisCoord","targetDataIndex","_findNearestTick","handleFrame","axisCoord","nextIndex","objPath","noAnimation","_autoLabelInterval","ToolboxModel","featureOpt","featureName","Feature","showTitle","iconStyle","listComponentHelper","toolboxModel","featureOpts","_features","featureNames","_featureNames","processFeature","oldName","isUserFeatureName","unusable","createIconPaths","iconName","iconPaths","iconStatus","iconStyleModel","titles","__title","titleText","needPutOnTop","topOffset","saveAsImageLang","SaveAsImage","$a","download","href","MouseEvent","evt","bubbles","cancelable","dispatchEvent","msSaveOrOpenBlob","bstr","atob","u8arr","Uint8Array","blob","Blob","tab","write","magicTypeLang","MagicType","seriesOptGenreator","radioTypes","generateNewSeriesTypes","newSeriesOpt","radio","currentType","dataViewLang","BLOCK_SPLITER","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","assembleSeriesWithCategoryAxis","tables","headers","columns","items","assembleOtherSeries","vals","getContentFromModel","trim","isTSVFormat","itemSplitRegex","parseTSVContents","tsv","tsvLines","header","parseListContents","hasName","parseContents","blockMetaList","blocks","blockMeta","DataView","readOnly","optionToContent","contentToOption","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","viewMain","textarea","htmlOrDom","buttonContainer","buttonStyle","closeButton","refreshButton","keyCode","selectionStart","selectionEnd","tryMergeDataOption","newSeriesOptList","history","dataZoomLang","DATA_ZOOM_ID_BASE","DataZoom","_isZoomActive","updateZoomBtnStatus","updateBackBtnStatus","nextActive","dataZoomSelectActive","retrieveAxisSetting","setBatch","findDataZoom","found","dzModel","zoomActive","dataZoomOpts","toolboxOpt","dataZoomOpt","addForAxis","axisIndicesName","givenAxisIndices","forEachComponent","$fromToolbox","restoreLang","Restore","_zrender","vmlCore","comma","imageTransformPrefix","Z2","ZLEVEL_BASE","initRootElStyle","coordsize","coordorigin","encodeHtmlAttribute","rgb2Str","append","getZIndex","setColorAndOpacity","getColorAndAlpha","updateFillNode","zrEl","gradientType","focus","expansion","cs1","cs2","colorAndAlphaList","colorAndAlpha","color1","color2","opacity1","opacity2","focusposition","updateStrokeNode","dashstyle","updateFillAndStroke","vmlEl","isFill","brushVML","vmlRoot","_vmlEl","needTransform","strokeEl","weight","zIndex","removeRectText","onRemove","onAdd","appendRectText","isImage","ow","oh","_imageSrc","_imageWidth","_imageHeight","imageRuntimeStyle","runtimeStyle","oldRuntimeWidth","oldRuntimeHeight","hasCrop","vmlElStyle","hasRotation","transformFilter","imageEl","_imageEl","cropEl","_cropEl","imageELStyle","tmpImage","overflow","cropElStyle","filterStr","DEFAULT_STYLE_NORMAL","fontStyleCache","fontStyleCacheCount","MAX_FONT_CACHE_SIZE","fontEl","getFontStyle","fontString","variant","fontVariant","family","textMeasureEl","body","ex","offsetWidth","fromTextEl","textVmlEl","_textVmlEl","textPathEl","skewEl","textpathok","textVmlElStyle","string","zrLog","VMLPainter","vmlViewport","_vmlRoot","_vmlViewport","_firstPaint","__alreadyNotVisible","_getWidth","_getHeight","vmlViewportStyle","createMethodNotSupport","arrayDiff","GradientManager","ClippathManager","checkParentAvailable","insertAfter","prevSibling","prepend","SVGPainter","gradientManager","clipPathManager","viewport","_viewport","_visibleList","visibleList","listLen","newVisibleList","svgProxy","prevSvgElement","svgElement","textSvgElement","added","addWithoutUpdate","_getDefs","viewportStyle","outerHTML","unescape","Diff","newLen","oldLen","editLength","maxEditLength","bestPath","oldPos","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","canAdd","canRemove","clonePath","pushComponent","buildValues","commonCount","tokenize","componentPos","componentLen","updateDom","clipPathEl","cloneNode","_textDom","smallImg"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"build\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 164);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n * @module zrender/core/util\n */\n// mergeDate\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source != 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    result = [];\n\n    for (var i = 0, len = source.length; i < len; i++) {\n      result[i] = clone(source[i]);\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    var Ctor = source.constructor;\n\n    if (source.constructor.from) {\n      result = Ctor.from(source);\n    } else {\n      result = new Ctor(source.length);\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // overwritetrue\n        // NOTE target[key] \n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function () {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * \n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz \n * @param {Function} baseClazz \n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    clazz.prototype[prop] = clazzPrototype[prop];\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data == 'string') {\n    return false;\n  }\n\n  return typeof data.length == 'number';\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type == 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  obj && each(obj, function (value, key) {\n    this.set(key, value);\n  }, this);\n} // Add prefix to avoid conflict with Object.prototype.\n\n\nvar HASH_MAP_PREFIX = '_ec_';\nvar HASH_MAP_PREFIX_LENGTH = 4;\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function (key) {\n    return this[HASH_MAP_PREFIX + key];\n  },\n  set: function (key, value) {\n    this[HASH_MAP_PREFIX + key] = value; // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n\n    return value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function (cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n\n    for (var prefixedKey in this) {\n      this.hasOwnProperty(prefixedKey) && cb(this[prefixedKey], prefixedKey.slice(HASH_MAP_PREFIX_LENGTH));\n    }\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function (key) {\n    delete this[HASH_MAP_PREFIX + key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.noop = noop;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrender = __webpack_require__(51);\n\nvar zrUtil = __webpack_require__(0);\n\nvar colorTool = __webpack_require__(22);\n\nvar env = __webpack_require__(11);\n\nvar timsort = __webpack_require__(69);\n\nvar Eventful = __webpack_require__(30);\n\nvar GlobalModel = __webpack_require__(178);\n\nvar ExtensionAPI = __webpack_require__(203);\n\nvar CoordinateSystemManager = __webpack_require__(21);\n\nvar OptionManager = __webpack_require__(204);\n\nvar backwardCompat = __webpack_require__(205);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar ComponentView = __webpack_require__(73);\n\nvar ChartView = __webpack_require__(26);\n\nvar graphic = __webpack_require__(2);\n\nvar modelUtil = __webpack_require__(5);\n\nvar _throttle = __webpack_require__(31);\n\nvar throttle = _throttle.throttle;\n\nvar seriesColor = __webpack_require__(207);\n\nvar loadingDefault = __webpack_require__(208);\n\n/*!\n * ECharts, a javascript interactive chart library.\n *\n * Copyright (c) 2015, Baidu Inc.\n * All rights reserved.\n *\n * LICENSE\n * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt\n */\nvar each = zrUtil.each;\nvar parseClassType = ComponentModel.parseClassType;\nvar version = '3.8.5';\nvar dependencies = {\n  zrender: '3.7.4'\n};\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000; // FIXME\n// necessary?\n\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH\n  }\n}; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\nvar IN_MAIN_PROCESS = '__flagInMainProcess';\nvar HAS_GRADIENT_OR_PATTERN_BG = '__hasGradientOrPatternBg';\nvar OPTION_UPDATED = '__optionUpdated';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\nfunction createRegisterEventWithLowercaseName(method) {\n  return function (eventName, handler, context) {\n    // Event name is all lowercase\n    eventName = eventName && eventName.toLowerCase();\n    Eventful.prototype[method].call(this, eventName, handler, context);\n  };\n}\n/**\n * @module echarts~MessageCenter\n */\n\n\nfunction MessageCenter() {\n  Eventful.call(this);\n}\n\nMessageCenter.prototype.on = createRegisterEventWithLowercaseName('on');\nMessageCenter.prototype.off = createRegisterEventWithLowercaseName('off');\nMessageCenter.prototype.one = createRegisterEventWithLowercaseName('one');\nzrUtil.mixin(MessageCenter, Eventful);\n/**\n * @module echarts~ECharts\n */\n\nfunction ECharts(dom, theme, opts) {\n  opts = opts || {}; // Get theme by name\n\n  if (typeof theme === 'string') {\n    theme = themeStorage[theme];\n  }\n  /**\n   * @type {string}\n   */\n\n\n  this.id;\n  /**\n   * Group id\n   * @type {string}\n   */\n\n  this.group;\n  /**\n   * @type {HTMLElement}\n   * @private\n   */\n\n  this._dom = dom;\n  var defaultRenderer = 'canvas';\n\n  /**\n   * @type {module:zrender/ZRender}\n   * @private\n   */\n  var zr = this._zr = zrender.init(dom, {\n    renderer: opts.renderer || defaultRenderer,\n    devicePixelRatio: opts.devicePixelRatio,\n    width: opts.width,\n    height: opts.height\n  });\n  /**\n   * Expect 60 pfs.\n   * @type {Function}\n   * @private\n   */\n\n  this._throttledZrFlush = throttle(zrUtil.bind(zr.flush, zr), 17);\n  var theme = zrUtil.clone(theme);\n  theme && backwardCompat(theme, true);\n  /**\n   * @type {Object}\n   * @private\n   */\n\n  this._theme = theme;\n  /**\n   * @type {Array.<module:echarts/view/Chart>}\n   * @private\n   */\n\n  this._chartsViews = [];\n  /**\n   * @type {Object.<string, module:echarts/view/Chart>}\n   * @private\n   */\n\n  this._chartsMap = {};\n  /**\n   * @type {Array.<module:echarts/view/Component>}\n   * @private\n   */\n\n  this._componentsViews = [];\n  /**\n   * @type {Object.<string, module:echarts/view/Component>}\n   * @private\n   */\n\n  this._componentsMap = {};\n  /**\n   * @type {module:echarts/CoordinateSystem}\n   * @private\n   */\n\n  this._coordSysMgr = new CoordinateSystemManager();\n  /**\n   * @type {module:echarts/ExtensionAPI}\n   * @private\n   */\n\n  this._api = createExtensionAPI(this);\n  Eventful.call(this);\n  /**\n   * @type {module:echarts~MessageCenter}\n   * @private\n   */\n\n  this._messageCenter = new MessageCenter(); // Init mouse events\n\n  this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n  this.resize = zrUtil.bind(this.resize, this); // Can't dispatch action during rendering procedure\n\n  this._pendingActions = []; // Sort on demand\n\n  function prioritySortFunc(a, b) {\n    return a.prio - b.prio;\n  }\n\n  timsort(visualFuncs, prioritySortFunc);\n  timsort(dataProcessorFuncs, prioritySortFunc);\n  zr.animation.on('frame', this._onframe, this); // ECharts instance can be used as value.\n\n  zrUtil.setAsPrimitive(this);\n}\n\nvar echartsProto = ECharts.prototype;\n\nechartsProto._onframe = function () {\n  // Lazy update\n  if (this[OPTION_UPDATED]) {\n    var silent = this[OPTION_UPDATED].silent;\n    this[IN_MAIN_PROCESS] = true;\n    updateMethods.prepareAndUpdate.call(this);\n    this[IN_MAIN_PROCESS] = false;\n    this[OPTION_UPDATED] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  }\n};\n/**\n * @return {HTMLElement}\n */\n\n\nechartsProto.getDom = function () {\n  return this._dom;\n};\n/**\n * @return {module:zrender~ZRender}\n */\n\n\nechartsProto.getZr = function () {\n  return this._zr;\n};\n/**\n * Usage:\n * chart.setOption(option, notMerge, lazyUpdate);\n * chart.setOption(option, {\n *     notMerge: ...,\n *     lazyUpdate: ...,\n *     silent: ...\n * });\n *\n * @param {Object} option\n * @param {Object|boolean} [opts] opts or notMerge.\n * @param {boolean} [opts.notMerge=false]\n * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n */\n\n\nechartsProto.setOption = function (option, notMerge, lazyUpdate) {\n  var silent;\n\n  if (zrUtil.isObject(notMerge)) {\n    lazyUpdate = notMerge.lazyUpdate;\n    silent = notMerge.silent;\n    notMerge = notMerge.notMerge;\n  }\n\n  this[IN_MAIN_PROCESS] = true;\n\n  if (!this._model || notMerge) {\n    var optionManager = new OptionManager(this._api);\n    var theme = this._theme;\n    var ecModel = this._model = new GlobalModel(null, null, theme, optionManager);\n    ecModel.init(null, null, theme, optionManager);\n  }\n\n  this._model.setOption(option, optionPreprocessorFuncs);\n\n  if (lazyUpdate) {\n    this[OPTION_UPDATED] = {\n      silent: silent\n    };\n    this[IN_MAIN_PROCESS] = false;\n  } else {\n    updateMethods.prepareAndUpdate.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n    // fetched after `setOption`.\n\n    this._zr.flush();\n\n    this[OPTION_UPDATED] = false;\n    this[IN_MAIN_PROCESS] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  }\n};\n/**\n * @DEPRECATED\n */\n\n\nechartsProto.setTheme = function () {\n  console.log('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n};\n/**\n * @return {module:echarts/model/Global}\n */\n\n\nechartsProto.getModel = function () {\n  return this._model;\n};\n/**\n * @return {Object}\n */\n\n\nechartsProto.getOption = function () {\n  return this._model && this._model.getOption();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getWidth = function () {\n  return this._zr.getWidth();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getHeight = function () {\n  return this._zr.getHeight();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getDevicePixelRatio = function () {\n  return this._zr.painter.dpr || window.devicePixelRatio || 1;\n};\n/**\n * Get canvas which has all thing rendered\n * @param {Object} opts\n * @param {string} [opts.backgroundColor]\n * @return {string}\n */\n\n\nechartsProto.getRenderedCanvas = function (opts) {\n  if (!env.canvasSupported) {\n    return;\n  }\n\n  opts = opts || {};\n  opts.pixelRatio = opts.pixelRatio || 1;\n  opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n  var zr = this._zr;\n  var list = zr.storage.getDisplayList(); // Stop animations\n\n  zrUtil.each(list, function (el) {\n    el.stopAnimation(true);\n  });\n  return zr.painter.getRenderedCanvas(opts);\n};\n/**\n * Get svg data url\n * @return {string}\n */\n\n\nechartsProto.getSvgDataUrl = function () {\n  if (!env.svgSupported) {\n    return;\n  }\n\n  var zr = this._zr;\n  var list = zr.storage.getDisplayList(); // Stop animations\n\n  zrUtil.each(list, function (el) {\n    el.stopAnimation(true);\n  });\n  return zr.painter.pathToSvg();\n};\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n * @param {string} [opts.excludeComponents]\n */\n\n\nechartsProto.getDataURL = function (opts) {\n  opts = opts || {};\n  var excludeComponents = opts.excludeComponents;\n  var ecModel = this._model;\n  var excludesComponentViews = [];\n  var self = this;\n  each(excludeComponents, function (componentType) {\n    ecModel.eachComponent({\n      mainType: componentType\n    }, function (component) {\n      var view = self._componentsMap[component.__viewId];\n\n      if (!view.group.ignore) {\n        excludesComponentViews.push(view);\n        view.group.ignore = true;\n      }\n    });\n  });\n  var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataUrl() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n  each(excludesComponentViews, function (view) {\n    view.group.ignore = false;\n  });\n  return url;\n};\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n */\n\n\nechartsProto.getConnectedDataURL = function (opts) {\n  if (!env.canvasSupported) {\n    return;\n  }\n\n  var groupId = this.group;\n  var mathMin = Math.min;\n  var mathMax = Math.max;\n  var MAX_NUMBER = Infinity;\n\n  if (connectedGroups[groupId]) {\n    var left = MAX_NUMBER;\n    var top = MAX_NUMBER;\n    var right = -MAX_NUMBER;\n    var bottom = -MAX_NUMBER;\n    var canvasList = [];\n    var dpr = opts && opts.pixelRatio || 1;\n    zrUtil.each(instances, function (chart, id) {\n      if (chart.group === groupId) {\n        var canvas = chart.getRenderedCanvas(zrUtil.clone(opts));\n        var boundingRect = chart.getDom().getBoundingClientRect();\n        left = mathMin(boundingRect.left, left);\n        top = mathMin(boundingRect.top, top);\n        right = mathMax(boundingRect.right, right);\n        bottom = mathMax(boundingRect.bottom, bottom);\n        canvasList.push({\n          dom: canvas,\n          left: boundingRect.left,\n          top: boundingRect.top\n        });\n      }\n    });\n    left *= dpr;\n    top *= dpr;\n    right *= dpr;\n    bottom *= dpr;\n    var width = right - left;\n    var height = bottom - top;\n    var targetCanvas = zrUtil.createCanvas();\n    targetCanvas.width = width;\n    targetCanvas.height = height;\n    var zr = zrender.init(targetCanvas);\n    each(canvasList, function (item) {\n      var img = new graphic.Image({\n        style: {\n          x: item.left * dpr - left,\n          y: item.top * dpr - top,\n          image: item.dom\n        }\n      });\n      zr.add(img);\n    });\n    zr.refreshImmediately();\n    return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n  } else {\n    return this.getDataURL(opts);\n  }\n};\n/**\n * Convert from logical coordinate system to pixel coordinate system.\n * See CoordinateSystem#convertToPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId, geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\n\n\nechartsProto.convertToPixel = zrUtil.curry(doConvertPixel, 'convertToPixel');\n/**\n * Convert from pixel coordinate system to logical coordinate system.\n * See CoordinateSystem#convertFromPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\n\nechartsProto.convertFromPixel = zrUtil.curry(doConvertPixel, 'convertFromPixel');\n\nfunction doConvertPixel(methodName, finder, value) {\n  var ecModel = this._model;\n\n  var coordSysList = this._coordSysMgr.getCoordinateSystems();\n\n  var result;\n  finder = modelUtil.parseFinder(ecModel, finder);\n\n  for (var i = 0; i < coordSysList.length; i++) {\n    var coordSys = coordSysList[i];\n\n    if (coordSys[methodName] && (result = coordSys[methodName](ecModel, finder, value)) != null) {\n      return result;\n    }\n  }\n}\n/**\n * Is the specified coordinate systems or components contain the given pixel point.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {boolean} result\n */\n\n\nechartsProto.containPixel = function (finder, value) {\n  var ecModel = this._model;\n  var result;\n  finder = modelUtil.parseFinder(ecModel, finder);\n  zrUtil.each(finder, function (models, key) {\n    key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n      var coordSys = model.coordinateSystem;\n\n      if (coordSys && coordSys.containPoint) {\n        result |= !!coordSys.containPoint(value);\n      } else if (key === 'seriesModels') {\n        var view = this._chartsMap[model.__viewId];\n\n        if (view && view.containPoint) {\n          result |= view.containPoint(value, model);\n        } else {}\n      } else {}\n    }, this);\n  }, this);\n  return !!result;\n};\n/**\n * Get visual from series or data.\n * @param {string|Object} finder\n *        If string, e.g., 'series', means {seriesIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            dataIndex / dataIndexInside\n *        }\n *        If dataIndex is not specified, series visual will be fetched,\n *        but not data item visual.\n *        If all of seriesIndex, seriesId, seriesName are not specified,\n *        visual will be fetched from first series.\n * @param {string} visualType 'color', 'symbol', 'symbolSize'\n */\n\n\nechartsProto.getVisual = function (finder, visualType) {\n  var ecModel = this._model;\n  finder = modelUtil.parseFinder(ecModel, finder, {\n    defaultMainType: 'series'\n  });\n  var seriesModel = finder.seriesModel;\n  var data = seriesModel.getData();\n  var dataIndexInside = finder.hasOwnProperty('dataIndexInside') ? finder.dataIndexInside : finder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(finder.dataIndex) : null;\n  return dataIndexInside != null ? data.getItemVisual(dataIndexInside, visualType) : data.getVisual(visualType);\n};\n/**\n * Get view of corresponding component model\n * @param  {module:echarts/model/Component} componentModel\n * @return {module:echarts/view/Component}\n */\n\n\nechartsProto.getViewOfComponentModel = function (componentModel) {\n  return this._componentsMap[componentModel.__viewId];\n};\n/**\n * Get view of corresponding series model\n * @param  {module:echarts/model/Series} seriesModel\n * @return {module:echarts/view/Chart}\n */\n\n\nechartsProto.getViewOfSeriesModel = function (seriesModel) {\n  return this._chartsMap[seriesModel.__viewId];\n};\n\nvar updateMethods = {\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  update: function (payload) {\n    // console.profile && console.profile('update');\n    var ecModel = this._model;\n    var api = this._api;\n    var coordSysMgr = this._coordSysMgr;\n    var zr = this._zr; // update before setOption\n\n    if (!ecModel) {\n      return;\n    } // Fixme First time update ?\n\n\n    ecModel.restoreData(); // TODO\n    // Save total ecModel here for undo/redo (after restoring data and before processing data).\n    // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n    // Create new coordinate system each update\n    // In LineView may save the old coordinate system and use it to get the orignal point\n\n    coordSysMgr.create(this._model, this._api);\n    processData.call(this, ecModel, api);\n    stackSeriesData.call(this, ecModel);\n    coordSysMgr.update(ecModel, api);\n    doVisualEncoding.call(this, ecModel, payload);\n    doRender.call(this, ecModel, payload); // Set background\n\n    var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n    var painter = zr.painter; // TODO all use clearColor ?\n\n    if (painter.isSingleCanvas && painter.isSingleCanvas()) {\n      zr.configLayer(0, {\n        clearColor: backgroundColor\n      });\n    } else {\n      // In IE8\n      if (!env.canvasSupported) {\n        var colorArr = colorTool.parse(backgroundColor);\n        backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n        if (colorArr[3] === 0) {\n          backgroundColor = 'transparent';\n        }\n      }\n\n      if (backgroundColor.colorStops || backgroundColor.image) {\n        // Gradient background\n        // FIXME Fixed layer\n        zr.configLayer(0, {\n          clearColor: backgroundColor\n        });\n        this[HAS_GRADIENT_OR_PATTERN_BG] = true;\n        this._dom.style.background = 'transparent';\n      } else {\n        if (this[HAS_GRADIENT_OR_PATTERN_BG]) {\n          zr.configLayer(0, {\n            clearColor: null\n          });\n        }\n\n        this[HAS_GRADIENT_OR_PATTERN_BG] = false;\n        this._dom.style.background = backgroundColor;\n      }\n    }\n\n    each(postUpdateFuncs, function (func) {\n      func(ecModel, api);\n    }); // console.profile && console.profileEnd('update');\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateView: function (payload) {\n    var ecModel = this._model; // update before setOption\n\n    if (!ecModel) {\n      return;\n    }\n\n    ecModel.eachSeries(function (seriesModel) {\n      seriesModel.getData().clearAllVisual();\n    });\n    doVisualEncoding.call(this, ecModel, payload);\n    invokeUpdateMethod.call(this, 'updateView', ecModel, payload);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateVisual: function (payload) {\n    var ecModel = this._model; // update before setOption\n\n    if (!ecModel) {\n      return;\n    }\n\n    ecModel.eachSeries(function (seriesModel) {\n      seriesModel.getData().clearAllVisual();\n    });\n    doVisualEncoding.call(this, ecModel, payload, true);\n    invokeUpdateMethod.call(this, 'updateVisual', ecModel, payload);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateLayout: function (payload) {\n    var ecModel = this._model; // update before setOption\n\n    if (!ecModel) {\n      return;\n    }\n\n    doLayout.call(this, ecModel, payload);\n    invokeUpdateMethod.call(this, 'updateLayout', ecModel, payload);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  prepareAndUpdate: function (payload) {\n    var ecModel = this._model;\n    prepareView.call(this, 'component', ecModel);\n    prepareView.call(this, 'chart', ecModel);\n    updateMethods.update.call(this, payload);\n  }\n};\n/**\n * @private\n */\n\nfunction updateDirectly(ecIns, method, payload, mainType, subType) {\n  var ecModel = ecIns._model; // broadcast\n\n  if (!mainType) {\n    each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n    return;\n  }\n\n  var query = {};\n  query[mainType + 'Id'] = payload[mainType + 'Id'];\n  query[mainType + 'Index'] = payload[mainType + 'Index'];\n  query[mainType + 'Name'] = payload[mainType + 'Name'];\n  var condition = {\n    mainType: mainType,\n    query: query\n  };\n  subType && (condition.subType = subType); // subType may be '' by parseClassType;\n  // If dispatchAction before setOption, do nothing.\n\n  ecModel && ecModel.eachComponent(condition, function (model, index) {\n    callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n  }, ecIns);\n\n  function callView(view) {\n    view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n  }\n}\n/**\n * Resize the chart\n * @param {Object} opts\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n * @param {boolean} [opts.silent=false]\n */\n\n\nechartsProto.resize = function (opts) {\n  this[IN_MAIN_PROCESS] = true;\n\n  this._zr.resize(opts);\n\n  var optionChanged = this._model && this._model.resetOption('media');\n\n  var updateMethod = optionChanged ? 'prepareAndUpdate' : 'update';\n  updateMethods[updateMethod].call(this); // Resize loading effect\n\n  this._loadingFX && this._loadingFX.resize();\n  this[IN_MAIN_PROCESS] = false;\n  var silent = opts && opts.silent;\n  flushPendingActions.call(this, silent);\n  triggerUpdatedEvent.call(this, silent);\n};\n/**\n * Show loading effect\n * @param  {string} [name='default']\n * @param  {Object} [cfg]\n */\n\n\nechartsProto.showLoading = function (name, cfg) {\n  if (zrUtil.isObject(name)) {\n    cfg = name;\n    name = '';\n  }\n\n  name = name || 'default';\n  this.hideLoading();\n\n  if (!loadingEffects[name]) {\n    return;\n  }\n\n  var el = loadingEffects[name](this._api, cfg);\n  var zr = this._zr;\n  this._loadingFX = el;\n  zr.add(el);\n};\n/**\n * Hide loading effect\n */\n\n\nechartsProto.hideLoading = function () {\n  this._loadingFX && this._zr.remove(this._loadingFX);\n  this._loadingFX = null;\n};\n/**\n * @param {Object} eventObj\n * @return {Object}\n */\n\n\nechartsProto.makeActionFromEvent = function (eventObj) {\n  var payload = zrUtil.extend({}, eventObj);\n  payload.type = eventActionMap[eventObj.type];\n  return payload;\n};\n/**\n * @pubilc\n * @param {Object} payload\n * @param {string} [payload.type] Action type\n * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n * @param {boolean} [opt.silent=false] Whether trigger events.\n * @param {boolean} [opt.flush=undefined]\n *                  true: Flush immediately, and then pixel in canvas can be fetched\n *                      immediately. Caution: it might affect performance.\n *                  false: Not not flush.\n *                  undefined: Auto decide whether perform flush.\n */\n\n\nechartsProto.dispatchAction = function (payload, opt) {\n  if (!zrUtil.isObject(opt)) {\n    opt = {\n      silent: !!opt\n    };\n  }\n\n  if (!actions[payload.type]) {\n    return;\n  } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n  if (!this._model) {\n    return;\n  } // May dispatchAction in rendering procedure\n\n\n  if (this[IN_MAIN_PROCESS]) {\n    this._pendingActions.push(payload);\n\n    return;\n  }\n\n  doDispatchAction.call(this, payload, opt.silent);\n\n  if (opt.flush) {\n    this._zr.flush(true);\n  } else if (opt.flush !== false && env.browser.weChat) {\n    // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n    // hang when sliding page (on touch event), which cause that zr does not\n    // refresh util user interaction finished, which is not expected.\n    // But `dispatchAction` may be called too frequently when pan on touch\n    // screen, which impacts performance if do not throttle them.\n    this._throttledZrFlush();\n  }\n\n  flushPendingActions.call(this, opt.silent);\n  triggerUpdatedEvent.call(this, opt.silent);\n};\n\nfunction doDispatchAction(payload, silent) {\n  var payloadType = payload.type;\n  var escapeConnect = payload.escapeConnect;\n  var actionWrap = actions[payloadType];\n  var actionInfo = actionWrap.actionInfo;\n  var cptType = (actionInfo.update || 'update').split(':');\n  var updateMethod = cptType.pop();\n  cptType = cptType[0] != null && parseClassType(cptType[0]);\n  this[IN_MAIN_PROCESS] = true;\n  var payloads = [payload];\n  var batched = false; // Batch action\n\n  if (payload.batch) {\n    batched = true;\n    payloads = zrUtil.map(payload.batch, function (item) {\n      item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n      item.batch = null;\n      return item;\n    });\n  }\n\n  var eventObjBatch = [];\n  var eventObj;\n  var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n  each(payloads, function (batchItem) {\n    // Action can specify the event by return it.\n    eventObj = actionWrap.action(batchItem, this._model, this._api); // Emit event outside\n\n    eventObj = eventObj || zrUtil.extend({}, batchItem); // Convert type to eventType\n\n    eventObj.type = actionInfo.event || eventObj.type;\n    eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n    if (isHighDown) {\n      // method, payload, mainType, subType\n      updateDirectly(this, updateMethod, batchItem, 'series');\n    } else if (cptType) {\n      updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n    }\n  }, this);\n\n  if (updateMethod !== 'none' && !isHighDown && !cptType) {\n    // Still dirty\n    if (this[OPTION_UPDATED]) {\n      // FIXME Pass payload ?\n      updateMethods.prepareAndUpdate.call(this, payload);\n      this[OPTION_UPDATED] = false;\n    } else {\n      updateMethods[updateMethod].call(this, payload);\n    }\n  } // Follow the rule of action batch\n\n\n  if (batched) {\n    eventObj = {\n      type: actionInfo.event || payloadType,\n      escapeConnect: escapeConnect,\n      batch: eventObjBatch\n    };\n  } else {\n    eventObj = eventObjBatch[0];\n  }\n\n  this[IN_MAIN_PROCESS] = false;\n  !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n}\n\nfunction flushPendingActions(silent) {\n  var pendingActions = this._pendingActions;\n\n  while (pendingActions.length) {\n    var payload = pendingActions.shift();\n    doDispatchAction.call(this, payload, silent);\n  }\n}\n\nfunction triggerUpdatedEvent(silent) {\n  !silent && this.trigger('updated');\n}\n/**\n * Register event\n * @method\n */\n\n\nechartsProto.on = createRegisterEventWithLowercaseName('on');\nechartsProto.off = createRegisterEventWithLowercaseName('off');\nechartsProto.one = createRegisterEventWithLowercaseName('one');\n/**\n * @param {string} methodName\n * @private\n */\n\nfunction invokeUpdateMethod(methodName, ecModel, payload) {\n  var api = this._api; // Update all components\n\n  each(this._componentsViews, function (component) {\n    var componentModel = component.__model;\n    component[methodName](componentModel, ecModel, api, payload);\n    updateZ(componentModel, component);\n  }, this); // Upate all charts\n\n  ecModel.eachSeries(function (seriesModel, idx) {\n    var chart = this._chartsMap[seriesModel.__viewId];\n    chart[methodName](seriesModel, ecModel, api, payload);\n    updateZ(seriesModel, chart);\n    updateProgressiveAndBlend(seriesModel, chart);\n  }, this); // If use hover layer\n\n  updateHoverLayerStatus(this._zr, ecModel); // Post render\n\n  each(postUpdateFuncs, function (func) {\n    func(ecModel, api);\n  });\n}\n/**\n * Prepare view instances of charts and components\n * @param  {module:echarts/model/Global} ecModel\n * @private\n */\n\n\nfunction prepareView(type, ecModel) {\n  var isComponent = type === 'component';\n  var viewList = isComponent ? this._componentsViews : this._chartsViews;\n  var viewMap = isComponent ? this._componentsMap : this._chartsMap;\n  var zr = this._zr;\n\n  for (var i = 0; i < viewList.length; i++) {\n    viewList[i].__alive = false;\n  }\n\n  ecModel[isComponent ? 'eachComponent' : 'eachSeries'](function (componentType, model) {\n    if (isComponent) {\n      if (componentType === 'series') {\n        return;\n      }\n    } else {\n      model = componentType;\n    } // Consider: id same and type changed.\n\n\n    var viewId = '_ec_' + model.id + '_' + model.type;\n    var view = viewMap[viewId];\n\n    if (!view) {\n      var classType = parseClassType(model.type);\n      var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) : ChartView.getClass(classType.sub);\n\n      if (Clazz) {\n        view = new Clazz();\n        view.init(ecModel, this._api);\n        viewMap[viewId] = view;\n        viewList.push(view);\n        zr.add(view.group);\n      } else {\n        // Error\n        return;\n      }\n    }\n\n    model.__viewId = view.__id = viewId;\n    view.__alive = true;\n    view.__model = model;\n    view.group.__ecComponentInfo = {\n      mainType: model.mainType,\n      index: model.componentIndex\n    };\n  }, this);\n\n  for (var i = 0; i < viewList.length;) {\n    var view = viewList[i];\n\n    if (!view.__alive) {\n      zr.remove(view.group);\n      view.dispose(ecModel, this._api);\n      viewList.splice(i, 1);\n      delete viewMap[view.__id];\n      view.__id = view.group.__ecComponentInfo = null;\n    } else {\n      i++;\n    }\n  }\n}\n/**\n * Processor data in each series\n *\n * @param {module:echarts/model/Global} ecModel\n * @private\n */\n\n\nfunction processData(ecModel, api) {\n  each(dataProcessorFuncs, function (process) {\n    process.func(ecModel, api);\n  });\n}\n/**\n * @private\n */\n\n\nfunction stackSeriesData(ecModel) {\n  var stackedDataMap = {};\n  ecModel.eachSeries(function (series) {\n    var stack = series.get('stack');\n    var data = series.getData();\n\n    if (stack && data.type === 'list') {\n      var previousStack = stackedDataMap[stack]; // Avoid conflict with Object.prototype\n\n      if (stackedDataMap.hasOwnProperty(stack) && previousStack) {\n        data.stackedOn = previousStack;\n      }\n\n      stackedDataMap[stack] = data;\n    }\n  });\n}\n/**\n * Layout before each chart render there series, special visual encoding stage\n *\n * @param {module:echarts/model/Global} ecModel\n * @private\n */\n\n\nfunction doLayout(ecModel, payload) {\n  var api = this._api;\n  each(visualFuncs, function (visual) {\n    if (visual.isLayout) {\n      visual.func(ecModel, api, payload);\n    }\n  });\n}\n/**\n * Encode visual infomation from data after data processing\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {object} layout\n * @param {boolean} [excludesLayout]\n * @private\n */\n\n\nfunction doVisualEncoding(ecModel, payload, excludesLayout) {\n  var api = this._api;\n  ecModel.clearColorPalette();\n  ecModel.eachSeries(function (seriesModel) {\n    seriesModel.clearColorPalette();\n  });\n  each(visualFuncs, function (visual) {\n    (!excludesLayout || !visual.isLayout) && visual.func(ecModel, api, payload);\n  });\n}\n/**\n * Render each chart and component\n * @private\n */\n\n\nfunction doRender(ecModel, payload) {\n  var api = this._api; // Render all components\n\n  each(this._componentsViews, function (componentView) {\n    var componentModel = componentView.__model;\n    componentView.render(componentModel, ecModel, api, payload);\n    updateZ(componentModel, componentView);\n  }, this);\n  each(this._chartsViews, function (chart) {\n    chart.__alive = false;\n  }, this); // Render all charts\n\n  ecModel.eachSeries(function (seriesModel, idx) {\n    var chartView = this._chartsMap[seriesModel.__viewId];\n    chartView.__alive = true;\n    chartView.render(seriesModel, ecModel, api, payload);\n    chartView.group.silent = !!seriesModel.get('silent');\n    updateZ(seriesModel, chartView);\n    updateProgressiveAndBlend(seriesModel, chartView);\n  }, this); // If use hover layer\n\n  updateHoverLayerStatus(this._zr, ecModel); // Remove groups of unrendered charts\n\n  each(this._chartsViews, function (chart) {\n    if (!chart.__alive) {\n      chart.remove(ecModel, api);\n    }\n  }, this);\n}\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n/**\n * @private\n */\n\nechartsProto._initEvents = function () {\n  each(MOUSE_EVENT_NAMES, function (eveName) {\n    this._zr.on(eveName, function (e) {\n      var ecModel = this.getModel();\n      var el = e.target;\n      var params; // no e.target when 'globalout'.\n\n      if (eveName === 'globalout') {\n        params = {};\n      } else if (el && el.dataIndex != null) {\n        var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n        params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType) || {};\n      } // If element has custom eventData of components\n      else if (el && el.eventData) {\n          params = zrUtil.extend({}, el.eventData);\n        }\n\n      if (params) {\n        params.event = e;\n        params.type = eveName;\n        this.trigger(eveName, params);\n      }\n    }, this);\n  }, this);\n  each(eventActionMap, function (actionType, eventType) {\n    this._messageCenter.on(eventType, function (event) {\n      this.trigger(eventType, event);\n    }, this);\n  }, this);\n};\n/**\n * @return {boolean}\n */\n\n\nechartsProto.isDisposed = function () {\n  return this._disposed;\n};\n/**\n * Clear\n */\n\n\nechartsProto.clear = function () {\n  this.setOption({\n    series: []\n  }, true);\n};\n/**\n * Dispose instance\n */\n\n\nechartsProto.dispose = function () {\n  if (this._disposed) {\n    return;\n  }\n\n  this._disposed = true;\n  var api = this._api;\n  var ecModel = this._model;\n  each(this._componentsViews, function (component) {\n    component.dispose(ecModel, api);\n  });\n  each(this._chartsViews, function (chart) {\n    chart.dispose(ecModel, api);\n  }); // Dispose after all views disposed\n\n  this._zr.dispose();\n\n  delete instances[this.id];\n};\n\nzrUtil.mixin(ECharts, Eventful);\n\nfunction updateHoverLayerStatus(zr, ecModel) {\n  var storage = zr.storage;\n  var elCount = 0;\n  storage.traverse(function (el) {\n    if (!el.isGroup) {\n      elCount++;\n    }\n  });\n\n  if (elCount > ecModel.get('hoverLayerThreshold') && !env.node) {\n    storage.traverse(function (el) {\n      if (!el.isGroup) {\n        el.useHoverLayer = true;\n      }\n    });\n  }\n}\n/**\n * Update chart progressive and blend.\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\n\n\nfunction updateProgressiveAndBlend(seriesModel, chartView) {\n  // Progressive configuration\n  var elCount = 0;\n  chartView.group.traverse(function (el) {\n    if (el.type !== 'group' && !el.ignore) {\n      elCount++;\n    }\n  });\n  var frameDrawNum = +seriesModel.get('progressive');\n  var needProgressive = elCount > seriesModel.get('progressiveThreshold') && frameDrawNum && !env.node;\n\n  if (needProgressive) {\n    chartView.group.traverse(function (el) {\n      // FIXME marker and other components\n      if (!el.isGroup) {\n        el.progressive = needProgressive ? Math.floor(elCount++ / frameDrawNum) : -1;\n\n        if (needProgressive) {\n          el.stopAnimation(true);\n        }\n      }\n    });\n  } // Blend configration\n\n\n  var blendMode = seriesModel.get('blendMode') || null;\n  chartView.group.traverse(function (el) {\n    // FIXME marker and other components\n    if (!el.isGroup) {\n      el.setStyle('blend', blendMode);\n    }\n  });\n}\n/**\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\n\n\nfunction updateZ(model, view) {\n  var z = model.get('z');\n  var zlevel = model.get('zlevel'); // Set z and zlevel\n\n  view.group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n    }\n  });\n}\n\nfunction createExtensionAPI(ecInstance) {\n  var coordSysMgr = ecInstance._coordSysMgr;\n  return zrUtil.extend(new ExtensionAPI(ecInstance), {\n    // Inject methods\n    getCoordinateSystems: zrUtil.bind(coordSysMgr.getCoordinateSystems, coordSysMgr),\n    getComponentByElement: function (el) {\n      while (el) {\n        var modelInfo = el.__ecComponentInfo;\n\n        if (modelInfo != null) {\n          return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n        }\n\n        el = el.parent;\n      }\n    }\n  });\n}\n/**\n * @type {Object} key: actionType.\n * @inner\n */\n\n\nvar actions = {};\n/**\n * Map eventType to actionType\n * @type {Object}\n */\n\nvar eventActionMap = {};\n/**\n * Data processor functions of each stage\n * @type {Array.<Object.<string, Function>>}\n * @inner\n */\n\nvar dataProcessorFuncs = [];\n/**\n * @type {Array.<Function>}\n * @inner\n */\n\nvar optionPreprocessorFuncs = [];\n/**\n * @type {Array.<Function>}\n * @inner\n */\n\nvar postUpdateFuncs = [];\n/**\n * Visual encoding functions of each stage\n * @type {Array.<Object.<string, Function>>}\n * @inner\n */\n\nvar visualFuncs = [];\n/**\n * Theme storage\n * @type {Object.<key, Object>}\n */\n\nvar themeStorage = {};\n/**\n * Loading effects\n */\n\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = new Date() - 0;\nvar groupIdBase = new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\nvar mapDataStores = {};\n\nfunction enableConnect(chart) {\n  var STATUS_PENDING = 0;\n  var STATUS_UPDATING = 1;\n  var STATUS_UPDATED = 2;\n  var STATUS_KEY = '__connectUpdateStatus';\n\n  function updateConnectedChartsStatus(charts, status) {\n    for (var i = 0; i < charts.length; i++) {\n      var otherChart = charts[i];\n      otherChart[STATUS_KEY] = status;\n    }\n  }\n\n  zrUtil.each(eventActionMap, function (actionType, eventType) {\n    chart._messageCenter.on(eventType, function (event) {\n      if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n        if (event && event.escapeConnect) {\n          return;\n        }\n\n        var action = chart.makeActionFromEvent(event);\n        var otherCharts = [];\n        zrUtil.each(instances, function (otherChart) {\n          if (otherChart !== chart && otherChart.group === chart.group) {\n            otherCharts.push(otherChart);\n          }\n        });\n        updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n        each(otherCharts, function (otherChart) {\n          if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n            otherChart.dispatchAction(action);\n          }\n        });\n        updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n      }\n    });\n  });\n}\n/**\n * @param {HTMLElement} dom\n * @param {Object} [theme]\n * @param {Object} opts\n * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n * @param {string} [opts.renderer] Currently only 'canvas' is supported.\n * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n *                              Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n *                               Can be 'auto' (the same as null/undefined)\n */\n\n\nfunction init(dom, theme, opts) {\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    return existInstance;\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n\n  if (dom.setAttribute) {\n    dom.setAttribute(DOM_ATTRIBUTE_KEY, chart.id);\n  } else {\n    dom[DOM_ATTRIBUTE_KEY] = chart.id;\n  }\n\n  enableConnect(chart);\n  return chart;\n}\n/**\n * @return {string|Array.<module:echarts~ECharts>} groupId\n */\n\n\nfunction connect(groupId) {\n  // Is array of charts\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null; // If any chart has group\n\n    zrUtil.each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    zrUtil.each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n/**\n * @DEPRECATED\n * @return {string} groupId\n */\n\n\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * @return {string} groupId\n */\n\n\nvar disconnect = disConnect;\n/**\n * Dispose a chart instance\n * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n */\n\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\n/**\n * @param  {HTMLElement} dom\n * @return {echarts~ECharts}\n */\n\n\nfunction getInstanceByDom(dom) {\n  var key;\n\n  if (dom.getAttribute) {\n    key = dom.getAttribute(DOM_ATTRIBUTE_KEY);\n  } else {\n    key = dom[DOM_ATTRIBUTE_KEY];\n  }\n\n  return instances[key];\n}\n/**\n * @param {string} key\n * @return {echarts~ECharts}\n */\n\n\nfunction getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\n\n\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n * @param {Function} preprocessorFunc\n */\n\n\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\n/**\n * @param {number} [priority=1000]\n * @param {Function} processorFunc\n */\n\n\nfunction registerProcessor(priority, processorFunc) {\n  if (typeof priority === 'function') {\n    processorFunc = priority;\n    priority = PRIORITY_PROCESSOR_FILTER;\n  }\n\n  dataProcessorFuncs.push({\n    prio: priority,\n    func: processorFunc\n  });\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\n\n\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFuncs.push(postUpdateFunc);\n}\n/**\n * Usage:\n * registerAction('someAction', 'someEvent', function () { ... });\n * registerAction('someAction', function () { ... });\n * registerAction(\n *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n *     function () { ... }\n * );\n *\n * @param {(string|Object)} actionInfo\n * @param {string} actionInfo.type\n * @param {string} [actionInfo.event]\n * @param {string} [actionInfo.update]\n * @param {string} [eventName]\n * @param {Function} action\n */\n\n\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = zrUtil.isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0]; // Event name is all lowercase\n\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event; // Validate action type and event name.\n\n  zrUtil.assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\n/**\n * @param {string} type\n * @param {*} CoordinateSystem\n */\n\n\nfunction registerCoordinateSystem(type, CoordinateSystem) {\n  CoordinateSystemManager.register(type, CoordinateSystem);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\n\n\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\n/**\n * Layout is a special stage of visual encoding\n * Most visual encoding like color are common for different chart\n * But each chart has it's own layout algorithm\n *\n * @param {number} [priority=1000]\n * @param {Function} layoutFunc\n */\n\n\nfunction registerLayout(priority, layoutFunc) {\n  if (typeof priority === 'function') {\n    layoutFunc = priority;\n    priority = PRIORITY_VISUAL_LAYOUT;\n  }\n\n  visualFuncs.push({\n    prio: priority,\n    func: layoutFunc,\n    isLayout: true\n  });\n}\n/**\n * @param {number} [priority=3000]\n * @param {Function} visualFunc\n */\n\n\nfunction registerVisual(priority, visualFunc) {\n  if (typeof priority === 'function') {\n    visualFunc = priority;\n    priority = PRIORITY_VISUAL_CHART;\n  }\n\n  visualFuncs.push({\n    prio: priority,\n    func: visualFunc\n  });\n}\n/**\n * @param {string} name\n */\n\n\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendComponentModel(opts\n/*, superClass*/\n) {\n  // var Clazz = ComponentModel;\n  // if (superClass) {\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n  // }\n  return ComponentModel.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendComponentView(opts\n/*, superClass*/\n) {\n  // var Clazz = ComponentView;\n  // if (superClass) {\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n  // }\n  return ComponentView.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendSeriesModel(opts\n/*, superClass*/\n) {\n  // var Clazz = SeriesModel;\n  // if (superClass) {\n  //     superClass = 'series.' + superClass.replace('series.', '');\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n  // }\n  return SeriesModel.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendChartView(opts\n/*, superClass*/\n) {\n  // var Clazz = ChartView;\n  // if (superClass) {\n  //     superClass = superClass.replace('series.', '');\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ChartView.getClass(classType.main, true);\n  // }\n  return ChartView.extend(opts);\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n * Be careful of using it in the browser.\n *\n * @param {Function} creator\n * @example\n *     var Canvas = require('canvas');\n *     var echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\n\n\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n/**\n * @param {string} mapName\n * @param {Object|string} geoJson\n * @param {Object} [specialAreas]\n *\n * @example\n *     $.get('USA.json', function (geoJson) {\n *         echarts.registerMap('USA', geoJson);\n *         // Or\n *         echarts.registerMap('USA', {\n *             geoJson: geoJson,\n *             specialAreas: {}\n *         })\n *     });\n */\n\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  if (geoJson.geoJson && !geoJson.features) {\n    specialAreas = geoJson.specialAreas;\n    geoJson = geoJson.geoJson;\n  }\n\n  if (typeof geoJson === 'string') {\n    geoJson = typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(geoJson) : new Function('return (' + geoJson + ');')();\n  }\n\n  mapDataStores[mapName] = {\n    geoJson: geoJson,\n    specialAreas: specialAreas\n  };\n}\n/**\n * @param {string} mapName\n * @return {Object}\n */\n\n\nfunction getMap(mapName) {\n  return mapDataStores[mapName];\n}\n\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\nregisterPreprocessor(backwardCompat);\nregisterLoading('default', loadingDefault); // Default actions\n\nregisterAction({\n  type: 'highlight',\n  event: 'highlight',\n  update: 'highlight'\n}, zrUtil.noop);\nregisterAction({\n  type: 'downplay',\n  event: 'downplay',\n  update: 'downplay'\n}, zrUtil.noop); // For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\n\nvar dataTool = {};\nexports.version = version;\nexports.dependencies = dependencies;\nexports.PRIORITY = PRIORITY;\nexports.init = init;\nexports.connect = connect;\nexports.disConnect = disConnect;\nexports.disconnect = disconnect;\nexports.dispose = dispose;\nexports.getInstanceByDom = getInstanceByDom;\nexports.getInstanceById = getInstanceById;\nexports.registerTheme = registerTheme;\nexports.registerPreprocessor = registerPreprocessor;\nexports.registerProcessor = registerProcessor;\nexports.registerPostUpdate = registerPostUpdate;\nexports.registerAction = registerAction;\nexports.registerCoordinateSystem = registerCoordinateSystem;\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\nexports.registerLayout = registerLayout;\nexports.registerVisual = registerVisual;\nexports.registerLoading = registerLoading;\nexports.extendComponentModel = extendComponentModel;\nexports.extendComponentView = extendComponentView;\nexports.extendSeriesModel = extendSeriesModel;\nexports.extendChartView = extendChartView;\nexports.setCanvasCreator = setCanvasCreator;\nexports.registerMap = registerMap;\nexports.getMap = getMap;\nexports.dataTool = dataTool;\nvar ___ec_export = __webpack_require__(109);\n(function () {\n    for (var key in ___ec_export) {\n        if (___ec_export.hasOwnProperty(key)) {\n            exports[key] = ___ec_export[key];\n        }\n    }\n})();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar pathTool = __webpack_require__(182);\n\nvar colorTool = __webpack_require__(22);\n\nvar matrix = __webpack_require__(16);\n\nvar vector = __webpack_require__(7);\n\nvar Path = __webpack_require__(12);\n\nvar Transformable = __webpack_require__(68);\n\nvar Image = __webpack_require__(42);\n\nexports.Image = Image;\n\nvar Group = __webpack_require__(52);\n\nexports.Group = Group;\n\nvar Text = __webpack_require__(43);\n\nexports.Text = Text;\n\nvar Circle = __webpack_require__(187);\n\nexports.Circle = Circle;\n\nvar Sector = __webpack_require__(188);\n\nexports.Sector = Sector;\n\nvar Ring = __webpack_require__(189);\n\nexports.Ring = Ring;\n\nvar Polygon = __webpack_require__(190);\n\nexports.Polygon = Polygon;\n\nvar Polyline = __webpack_require__(193);\n\nexports.Polyline = Polyline;\n\nvar Rect = __webpack_require__(194);\n\nexports.Rect = Rect;\n\nvar Line = __webpack_require__(195);\n\nexports.Line = Line;\n\nvar BezierCurve = __webpack_require__(196);\n\nexports.BezierCurve = BezierCurve;\n\nvar Arc = __webpack_require__(197);\n\nexports.Arc = Arc;\n\nvar CompoundPath = __webpack_require__(198);\n\nexports.CompoundPath = CompoundPath;\n\nvar LinearGradient = __webpack_require__(107);\n\nexports.LinearGradient = LinearGradient;\n\nvar RadialGradient = __webpack_require__(199);\n\nexports.RadialGradient = RadialGradient;\n\nvar BoundingRect = __webpack_require__(9);\n\nexports.BoundingRect = BoundingRect;\nvar round = Math.round;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar EMPTY_OBJ = {};\n/**\n * Extend shape with parameters\n */\n\nfunction extendShape(opts) {\n  return Path.extend(opts);\n}\n/**\n * Extend path\n */\n\n\nfunction extendPath(pathData, opts) {\n  return pathTool.extendFromString(pathData, opts);\n}\n/**\n * Create a path element from path data string\n * @param {string} pathData\n * @param {Object} opts\n * @param {module:zrender/core/BoundingRect} rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n  var boundingRect = path.getBoundingRect();\n\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, boundingRect);\n    }\n\n    resizePath(path, rect);\n  }\n\n  return path;\n}\n/**\n * Create a image element from image url\n * @param {string} imageUrl image url\n * @param {Object} opts options\n * @param {module:zrender/core/BoundingRect} rect constrain rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makeImage(imageUrl, rect, layout) {\n  var path = new Image({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        path.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return path;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  {Object} rect         element local bounding box\n * @param  {Object} boundingRect constraint bounding box\n * @return {Object} element position containing x, y, width, and height\n */\n\n\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\n\nvar mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param {module:zrender/graphic/Path} path\n * @param {Object} rect\n */\n\nfunction resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x1]\n * @param {number} [param.shape.y1]\n * @param {number} [param.shape.x2]\n * @param {number} [param.shape.y2]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeLine(param) {\n  var shape = param.shape;\n  var lineWidth = param.style.lineWidth;\n\n  if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n    shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n  }\n\n  if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n    shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n  }\n\n  return param;\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x]\n * @param {number} [param.shape.y]\n * @param {number} [param.shape.width]\n * @param {number} [param.shape.height]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeRect(param) {\n  var shape = param.shape;\n  var lineWidth = param.style.lineWidth;\n  var originX = shape.x;\n  var originY = shape.y;\n  var originWidth = shape.width;\n  var originHeight = shape.height;\n  shape.x = subPixelOptimize(shape.x, lineWidth, true);\n  shape.y = subPixelOptimize(shape.y, lineWidth, true);\n  shape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - shape.x, originWidth === 0 ? 0 : 1);\n  shape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - shape.y, originHeight === 0 ? 0 : 1);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n  // Assure that (position + lineWidth / 2) is near integer edge,\n  // otherwise line will be fuzzy in canvas.\n  var doubledPosition = round(position * 2);\n  return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke != 'none';\n}\n\nfunction liftColor(color) {\n  return typeof color === 'string' ? colorTool.lift(color, -0.1) : color;\n}\n/**\n * @private\n */\n\n\nfunction cacheElementStl(el) {\n  if (el.__hoverStlDirty) {\n    var stroke = el.style.stroke;\n    var fill = el.style.fill; // Create hoverStyle on mouseover\n\n    var hoverStyle = el.__hoverStl;\n    hoverStyle.fill = hoverStyle.fill || (hasFillOrStroke(fill) ? liftColor(fill) : null);\n    hoverStyle.stroke = hoverStyle.stroke || (hasFillOrStroke(stroke) ? liftColor(stroke) : null);\n    var normalStyle = {};\n\n    for (var name in hoverStyle) {\n      // See comment in `doSingleEnterHover`.\n      if (hoverStyle[name] != null) {\n        normalStyle[name] = el.style[name];\n      }\n    }\n\n    el.__normalStl = normalStyle;\n    el.__hoverStlDirty = false;\n  }\n}\n/**\n * @private\n */\n\n\nfunction doSingleEnterHover(el) {\n  if (el.__isHover) {\n    return;\n  }\n\n  cacheElementStl(el);\n\n  if (el.useHoverLayer) {\n    el.__zr && el.__zr.addHover(el, el.__hoverStl);\n  } else {\n    var style = el.style;\n    var insideRollbackOpt = style.insideRollbackOpt; // Consider case: only `position: 'top'` is set on emphasis, then text\n    // color should be returned to `autoColor`, rather than remain '#fff'.\n    // So we should rollback then apply again after style merging.\n\n    insideRollbackOpt && rollbackInsideStyle(style); // styles can be:\n    // {\n    //     label: {\n    //         normal: {\n    //             show: false,\n    //             position: 'outside',\n    //             fontSize: 18\n    //         },\n    //         emphasis: {\n    //             show: true\n    //         }\n    //     }\n    // },\n    // where properties of `emphasis` may not appear in `normal`. We previously use\n    // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n    // But consider rich text and setOption in merge mode, it is impossible to cover\n    // all properties in merge. So we use merge mode when setting style here, where\n    // only properties that is not `null/undefined` can be set. The disadventage:\n    // null/undefined can not be used to remove style any more in `emphasis`.\n\n    style.extendFrom(el.__hoverStl); // Do not save `insideRollback`.\n\n    if (insideRollbackOpt) {\n      applyInsideStyle(style, style.insideOriginalTextPosition, insideRollbackOpt); // textFill may be rollbacked to null.\n\n      if (style.textFill == null) {\n        style.textFill = insideRollbackOpt.autoColor;\n      }\n    }\n\n    el.dirty(false);\n    el.z2 += 1;\n  }\n\n  el.__isHover = true;\n}\n/**\n * @inner\n */\n\n\nfunction doSingleLeaveHover(el) {\n  if (!el.__isHover) {\n    return;\n  }\n\n  var normalStl = el.__normalStl;\n\n  if (el.useHoverLayer) {\n    el.__zr && el.__zr.removeHover(el);\n  } else {\n    // Consider null/undefined value, should use\n    // `setStyle` but not `extendFrom(stl, true)`.\n    normalStl && el.setStyle(normalStl);\n    el.z2 -= 1;\n  }\n\n  el.__isHover = false;\n}\n/**\n * @inner\n */\n\n\nfunction doEnterHover(el) {\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      doSingleEnterHover(child);\n    }\n  }) : doSingleEnterHover(el);\n}\n\nfunction doLeaveHover(el) {\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      doSingleLeaveHover(child);\n    }\n  }) : doSingleLeaveHover(el);\n}\n/**\n * @inner\n */\n\n\nfunction setElementHoverStl(el, hoverStl) {\n  // If element has sepcified hoverStyle, then use it instead of given hoverStyle\n  // Often used when item group has a label element and it's hoverStyle is different\n  el.__hoverStl = el.hoverStyle || hoverStl || {};\n  el.__hoverStlDirty = true;\n\n  if (el.__isHover) {\n    cacheElementStl(el);\n  }\n}\n/**\n * @inner\n */\n\n\nfunction onElementMouseOver(e) {\n  if (this.__hoverSilentOnTouch && e.zrByTouch) {\n    return;\n  } // Only if element is not in emphasis status\n\n\n  !this.__isEmphasis && doEnterHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction onElementMouseOut(e) {\n  if (this.__hoverSilentOnTouch && e.zrByTouch) {\n    return;\n  } // Only if element is not in emphasis status\n\n\n  !this.__isEmphasis && doLeaveHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction enterEmphasis() {\n  this.__isEmphasis = true;\n  doEnterHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction leaveEmphasis() {\n  this.__isEmphasis = false;\n  doLeaveHover(this);\n}\n/**\n * Set hover style of element.\n * This method can be called repeatly without side-effects.\n * @param {module:zrender/Element} el\n * @param {Object} [hoverStyle]\n * @param {Object} [opt]\n * @param {boolean} [opt.hoverSilentOnTouch=false]\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conviniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, hoverSilentOnTouch should be used to disable hover-highlight\n *        on touch device.\n */\n\n\nfunction setHoverStyle(el, hoverStyle, opt) {\n  el.__hoverSilentOnTouch = opt && opt.hoverSilentOnTouch;\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      setElementHoverStl(child, hoverStyle);\n    }\n  }) : setElementHoverStl(el, hoverStyle); // Duplicated function will be auto-ignored, see Eventful.js.\n\n  el.on('mouseover', onElementMouseOver).on('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually\n\n  el.on('emphasis', enterEmphasis).on('normal', leaveEmphasis);\n}\n/**\n * @param {Object|module:zrender/graphic/Style} normalStyle\n * @param {Object} emphasisStyle\n * @param {module:echarts/model/Model} normalModel\n * @param {module:echarts/model/Model} emphasisModel\n * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n * @param {Object} [opt.defaultText]\n * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDataIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDimIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {Object} [normalSpecified]\n * @param {Object} [emphasisSpecified]\n */\n\n\nfunction setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n  // is not supported util someone requests.\n\n  var showNormal = normalModel.getShallow('show');\n  var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n  // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n  // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n  var baseText = showNormal || showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex) : null, opt.defaultText) : null;\n  var normalStyleText = showNormal ? baseText : null;\n  var emphasisStyleText = showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n  if (normalStyleText != null || emphasisStyleText != null) {\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    // If we set default values on `emphasisStyle`, consider case:\n    // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n    // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n    // Then the 'red' will not work on emphasis.\n    setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n    setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n  }\n\n  normalStyle.text = normalStyleText;\n  emphasisStyle.text = emphasisStyleText;\n}\n/**\n * Set basic textStyle properties.\n * @param {Object|module:zrender/graphic/Style} textStyle\n * @param {module:echarts/model/Model} model\n * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n * @param {boolean} [isEmphasis]\n */\n\n\nfunction setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n  setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n  specifiedTextStyle && zrUtil.extend(textStyle, specifiedTextStyle);\n  textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  return textStyle;\n}\n/**\n * Set text option in the style.\n * @deprecated\n * @param {Object} textStyle\n * @param {module:echarts/model/Model} labelModel\n * @param {string|boolean} defaultColor Default text color.\n *        If set as false, it will be processed as a emphasis style.\n */\n\n\nfunction setText(textStyle, labelModel, defaultColor) {\n  var opt = {\n    isRectText: true\n  };\n  var isEmphasis;\n\n  if (defaultColor === false) {\n    isEmphasis = true;\n  } else {\n    // Support setting color as 'auto' to get visual color.\n    opt.autoColor = defaultColor;\n  }\n\n  setTextStyleCommon(textStyle, labelModel, opt, isEmphasis);\n  textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n}\n/**\n * {\n *      disableBox: boolean, Whether diable drawing box of block (outer most).\n *      isRectText: boolean,\n *      autoColor: string, specify a color when color is 'auto',\n *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n *              If autoColor specified, it is used as default textFill.\n *      useInsideStyle:\n *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n *                  if `textFill` is not specified.\n *              `false`: Do not use inside style.\n *              `null/undefined`: use inside style if `isRectText` is true and\n *                  `textFill` is not specified and textPosition contains `'inside'`.\n *      forceRich: boolean\n * }\n */\n\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n\n  if (opt.isRectText) {\n    var textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n    // in bar series, and magric type should be considered.\n\n    textPosition === 'outside' && (textPosition = 'top');\n    textStyle.textPosition = textPosition;\n    textStyle.textOffset = textStyleModel.getShallow('offset');\n    var labelRotate = textStyleModel.getShallow('rotate');\n    labelRotate != null && (labelRotate *= Math.PI / 180);\n    textStyle.textRotation = labelRotate;\n    textStyle.textDistance = zrUtil.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n  }\n\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             normal: {\n  //                 rich: {\n  //                     // no 'a' here but using parent 'a'.\n  //                 }\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name in richItemNames) {\n      if (richItemNames.hasOwnProperty(name)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n\n        setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n      }\n    }\n  }\n\n  textStyle.rich = richResult;\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n  if (opt.forceRich && !opt.textStyle) {\n    opt.textStyle = {};\n  }\n\n  return textStyle;\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             normal: {\n//                 rich: {\n//                     // no 'a' here but using parent 'a'.\n//                 }\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n\n      for (var name in rich) {\n        if (rich.hasOwnProperty(name)) {\n          richItemNameMap[name] = 1;\n        }\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n  textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n  textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n  textStyle.textStrokeWidth = zrUtil.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (!isEmphasis) {\n    if (isBlock) {\n      // Always set `insideRollback`, for clearing previous.\n      var originalTextPosition = textStyle.textPosition;\n      textStyle.insideRollback = applyInsideStyle(textStyle, originalTextPosition, opt); // Save original textPosition, because style.textPosition will be repalced by\n      // real location (like [10, 30]) in zrender.\n\n      textStyle.insideOriginalTextPosition = originalTextPosition;\n      textStyle.insideRollbackOpt = opt;\n    } // Set default finally.\n\n\n    if (textStyle.textFill == null) {\n      textStyle.textFill = opt.autoColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n\n  textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n  textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n  textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n  textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n  textStyle.textAlign = textStyleModel.getShallow('align');\n  textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n  textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n  textStyle.textWidth = textStyleModel.getShallow('width');\n  textStyle.textHeight = textStyleModel.getShallow('height');\n  textStyle.textTag = textStyleModel.getShallow('tag');\n\n  if (!isBlock || !opt.disableBox) {\n    textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n    textStyle.textPadding = textStyleModel.getShallow('padding');\n    textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n    textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n    textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n    textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n    textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n    textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n    textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n  }\n\n  textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n  textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n  textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n  textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n}\n\nfunction getAutoColor(color, opt) {\n  return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n}\n\nfunction applyInsideStyle(textStyle, textPosition, opt) {\n  var useInsideStyle = opt.useInsideStyle;\n  var insideRollback;\n\n  if (textStyle.textFill == null && useInsideStyle !== false && (useInsideStyle === true || opt.isRectText && textPosition // textPosition can be [10, 30]\n  && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0)) {\n    insideRollback = {\n      textFill: null,\n      textStroke: textStyle.textStroke,\n      textStrokeWidth: textStyle.textStrokeWidth\n    };\n    textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n    if (textStyle.textStroke == null) {\n      textStyle.textStroke = opt.autoColor;\n      textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n    }\n  }\n\n  return insideRollback;\n}\n\nfunction rollbackInsideStyle(style) {\n  var insideRollback = style.insideRollback;\n\n  if (insideRollback) {\n    style.textFill = insideRollback.textFill;\n    style.textStroke = insideRollback.textStroke;\n    style.textStrokeWidth = insideRollback.textStrokeWidth;\n  }\n}\n\nfunction getFont(opt, ecModel) {\n  // ecModel or default text style model.\n  var gTextStyleModel = ecModel || ecModel.getModel('textStyle');\n  return [// FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' ');\n}\n\nfunction animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n  if (typeof dataIndex === 'function') {\n    cb = dataIndex;\n    dataIndex = null;\n  } // Do not check 'animation' property directly here. Consider this case:\n  // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n  // but its parent model (`seriesModel`) does.\n\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n  if (animationEnabled) {\n    var postfix = isUpdate ? 'Update' : '';\n    var duration = animatableModel.getShallow('animationDuration' + postfix);\n    var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n    var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n    if (typeof animationDelay === 'function') {\n      animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n    }\n\n    if (typeof duration === 'function') {\n      duration = duration(dataIndex);\n    }\n\n    duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n  } else {\n    el.stopAnimation();\n    el.attr(props);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} [cb]\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} cb\n */\n\n\nfunction initProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param {module:zrender/mixin/Transformable} target\n * @param {module:zrender/mixin/Transformable} [ancestor]\n */\n\n\nfunction getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param {Array.<number>} target [x, y]\n * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param {boolean=} invert Whether use invert matrix.\n * @return {Array.<number>} [x, y]\n */\n\n\nfunction applyTransform(target, transform, invert) {\n  if (transform && !zrUtil.isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param {string} direction 'left' 'right' 'top' 'bottom'\n * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param {boolean=} invert Whether use invert matrix.\n * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n */\n\n\nfunction transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\n\n\nfunction groupTransition(g1, g2, animatableModel, cb) {\n  if (!g1 || !g2) {\n    return;\n  }\n\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n\n  function getAnimatableProps(el) {\n    var obj = {\n      position: vector.clone(el.position),\n      rotation: el.rotation\n    };\n\n    if (el.shape) {\n      obj.shape = zrUtil.extend({}, el.shape);\n    }\n\n    return obj;\n  }\n\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (!el.isGroup && el.anid) {\n      var oldEl = elMap1[el.anid];\n\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, el.dataIndex);\n      } // else {\n      //     if (el.previousProps) {\n      //         graphic.updateProps\n      //     }\n      // }\n\n    }\n  });\n}\n/**\n * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n * @param {Object} rect {x, y, width, height}\n * @return {Array.<Array.<number>>} A new clipped points.\n */\n\n\nfunction clipPointsByRect(points, rect) {\n  return zrUtil.map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * @param {Object} targetRect {x, y, width, height}\n * @param {Object} rect {x, y, width, height}\n * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n */\n\n\nfunction clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height);\n\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\n/**\n * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n * @param {Object} [rect] {x, y, width, height}\n * @return {module:zrender/Element} Icon path or image element.\n */\n\n\nfunction createIcon(iconStr, opt, rect) {\n  opt = zrUtil.extend({\n    rectHover: true\n  }, opt);\n  var style = opt.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), zrUtil.defaults(style, rect), new Image(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n  }\n}\n\nexports.extendShape = extendShape;\nexports.extendPath = extendPath;\nexports.makePath = makePath;\nexports.makeImage = makeImage;\nexports.mergePath = mergePath;\nexports.resizePath = resizePath;\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;\nexports.setHoverStyle = setHoverStyle;\nexports.setLabelStyle = setLabelStyle;\nexports.setTextStyle = setTextStyle;\nexports.setText = setText;\nexports.getFont = getFont;\nexports.updateProps = updateProps;\nexports.initProps = initProps;\nexports.getTransform = getTransform;\nexports.applyTransform = applyTransform;\nexports.transformDirection = transformDirection;\nexports.groupTransition = groupTransition;\nexports.clipPointsByRect = clipPointsByRect;\nexports.clipRectByRect = clipRectByRect;\nexports.createIcon = createIcon;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar RADIAN_EPSILON = 1e-4;\n\nfunction _trim(str) {\n  return str.replace(/^\\s+/, '').replace(/\\s+$/, '');\n}\n/**\n * Linear mapping a value from domain to range\n * @memberOf module:echarts/util/number\n * @param  {(number|Array.<number>)} val\n * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n * @param  {boolean} clamp\n * @return {(number|Array.<number>}\n */\n\n\nfunction linearMap(val, domain, range, clamp) {\n  var subDomain = domain[1] - domain[0];\n  var subRange = range[1] - range[0];\n\n  if (subDomain === 0) {\n    return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n  } // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n\n\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= domain[0]) {\n        return range[0];\n      } else if (val >= domain[1]) {\n        return range[1];\n      }\n    } else {\n      if (val >= domain[0]) {\n        return range[0];\n      } else if (val <= domain[1]) {\n        return range[1];\n      }\n    }\n  } else {\n    if (val === domain[0]) {\n      return range[0];\n    }\n\n    if (val === domain[1]) {\n      return range[1];\n    }\n  }\n\n  return (val - domain[0]) / subDomain * subRange + range[0];\n}\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n * @memberOf module:echarts/util/number\n * @param {string|number} percent\n * @param {number} all\n * @return {number}\n */\n\n\nfunction parsePercent(percent, all) {\n  switch (percent) {\n    case 'center':\n    case 'middle':\n      percent = '50%';\n      break;\n\n    case 'left':\n    case 'top':\n      percent = '0%';\n      break;\n\n    case 'right':\n    case 'bottom':\n      percent = '100%';\n      break;\n  }\n\n  if (typeof percent === 'string') {\n    if (_trim(percent).match(/%$/)) {\n      return parseFloat(percent) / 100 * all;\n    }\n\n    return parseFloat(percent);\n  }\n\n  return percent == null ? NaN : +percent;\n}\n/**\n * (1) Fix rounding error of float numbers.\n * (2) Support return string to avoid scientific notation like '3.5e-7'.\n *\n * @param {number} x\n * @param {number} [precision]\n * @param {boolean} [returnStr]\n * @return {number|string}\n */\n\n\nfunction round(x, precision, returnStr) {\n  if (precision == null) {\n    precision = 10;\n  } // Avoid range error\n\n\n  precision = Math.min(Math.max(0, precision), 20);\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n\nfunction asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision\n * @param {number} val\n */\n\n\nfunction getPrecision(val) {\n  val = +val;\n\n  if (isNaN(val)) {\n    return 0;\n  } // It is much faster than methods converting number to string as follows\n  //      var tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n\n\n  var e = 1;\n  var count = 0;\n\n  while (Math.round(val * e) / e !== val) {\n    e *= 10;\n    count++;\n  }\n\n  return count;\n}\n/**\n * @param {string|number} val\n * @return {number}\n */\n\n\nfunction getPrecisionSafe(val) {\n  var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n  var eIndex = str.indexOf('e');\n\n  if (eIndex > 0) {\n    var precision = +str.slice(eIndex + 1);\n    return precision < 0 ? -precision : 0;\n  } else {\n    var dotIndex = str.indexOf('.');\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n  }\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n *\n * @param {Array.<number>} dataExtent\n * @param {Array.<number>} pixelExtent\n * @return {number} precision\n */\n\n\nfunction getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainer method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param {Array.<number>} valueList a list of all data\n * @param {number} idx index of the data to be processed in valueList\n * @param {number} precision integer number showing digits of precision\n * @return {number} percent ranging from 0 to 100\n */\n\n\nfunction getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  if (sum === 0) {\n    return 0;\n  }\n\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  }); // Has remainding votes.\n\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    } // Add a vote to max remainder.\n\n\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n\n  return seats[idx] / digits;\n} // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n * @param {number} radian\n * @return {number}\n */\n\nfunction remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\n\n\nfunction isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n/**\n * @param {string|Date|number} value These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as loacal time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return {Date} date\n */\n\nfunction parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (typeof value === 'string') {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    } // Use local time when no timezone offset specifed.\n\n\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n    } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n        var hour = +match[4] || 0;\n\n        if (match[8].toUpperCase() !== 'Z') {\n          hour -= match[8].slice(0, 3);\n        }\n\n        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n      }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param  {number} val\n * @return {number}\n */\n\n\nfunction quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n\nfunction quantityExponent(val) {\n  return Math.floor(Math.log(val) / Math.LN10);\n}\n/**\n * find a nice number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the nicest\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  {number} val Non-negative value.\n * @param  {boolean} round\n * @return {number}\n */\n\n\nfunction nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n\n  var nf;\n\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n\n  val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param {Array.<Object>} list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return {Array.<Object>} The origin list, which has been reformed.\n */\n\n\nfunction reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close = list[i].close;\n\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close[lg] = !lg ? 1 - currClose : 1;\n      }\n\n      curr = interval[lg];\n      currClose = close[lg];\n    }\n\n    if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n\n  return list;\n\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n * subtraction forces infinities to NaN\n *\n * @param {*} v\n * @return {boolean}\n */\n\n\nfunction isNumeric(v) {\n  return v - parseFloat(v) >= 0;\n}\n\nexports.linearMap = linearMap;\nexports.parsePercent = parsePercent;\nexports.round = round;\nexports.asc = asc;\nexports.getPrecision = getPrecision;\nexports.getPrecisionSafe = getPrecisionSafe;\nexports.getPixelPrecision = getPixelPrecision;\nexports.getPercentWithPrecision = getPercentWithPrecision;\nexports.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\nexports.remRadian = remRadian;\nexports.isRadianAroundZero = isRadianAroundZero;\nexports.parseDate = parseDate;\nexports.quantity = quantity;\nexports.nice = nice;\nexports.reformIntervals = reformIntervals;\nexports.isNumeric = isNumeric;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// (1) The code `if (__DEV__) ...` can be removed by build tool.\n// (2) If intend to use `__DEV__`, this module should be imported. Use a global\n// variable `__DEV__` may cause that miss the declaration (see #6535), or the\n// declaration is behind of the using position (for example in `Model.extent`,\n// And tools like rollup can not analysis the dependency if not import).\nvar dev; // In browser\n\nif (typeof window !== 'undefined') {\n  dev = window.__DEV__;\n} // In node\nelse if (typeof global !== 'undefined') {\n    dev = global.__DEV__;\n  }\n\nif (typeof dev === 'undefined') {\n  dev = true;\n}\n\nvar __DEV__ = dev;\nexports.__DEV__ = __DEV__;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(91)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar formatUtil = __webpack_require__(8);\n\nvar nubmerUtil = __webpack_require__(3);\n\nvar Model = __webpack_require__(10);\n\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\n\nfunction normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *         normal: {\n *             show: false,\n *             position: 'outside',\n *             fontSize: 18\n *         },\n *         emphasis: {\n *             show: true\n *         }\n *     }\n * @param {Object} opt\n * @param {Array.<string>} subOpts\n */\n\n\nfunction defaultEmphasis(opt, subOpts) {\n  if (opt) {\n    var emphasisOpt = opt.emphasis = opt.emphasis || {};\n    var normalOpt = opt.normal = opt.normal || {}; // Default emphasis option from normal\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!emphasisOpt.hasOwnProperty(subOptName) && normalOpt.hasOwnProperty(subOptName)) {\n        emphasisOpt[subOptName] = normalOpt[subOptName];\n      }\n    }\n  }\n}\n\nvar TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n * @param {string|number|Date|Array|Object} dataItem\n * @return {number|string|Date|Array.<number|string|Date>}\n */\n\nfunction getDataItemValue(dataItem) {\n  // Performance sensitive.\n  return dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n * @param {string|number|Date|Array|Object} dataItem\n */\n\n\nfunction isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n/**\n * This helper method convert value in data.\n * @param {string|number|Date} value\n * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n */\n\n\nfunction converDataValue(value, dimInfo) {\n  // Performance sensitive.\n  var dimType = dimInfo && dimInfo.type;\n\n  if (dimType === 'ordinal') {\n    return value;\n  }\n\n  if (dimType === 'time' // spead up when using timestamp\n  && typeof value !== 'number' && value != null && value !== '-') {\n    value = +nubmerUtil.parseDate(value);\n  } // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n\n\n  return value == null || value === '' ? NaN : +value; // If string (like '-'), using '+' parse to NaN\n}\n/**\n * Create a model proxy to be used in tooltip for edge data, markLine data, markPoint data.\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {string} [opt.seriesIndex]\n * @param {Object} [opt.name]\n * @param {Object} [opt.mainType]\n * @param {Object} [opt.subType]\n */\n\n\nfunction createDataFormatModel(data, opt) {\n  var model = new Model();\n  zrUtil.mixin(model, dataFormatMixin);\n  model.seriesIndex = opt.seriesIndex;\n  model.name = opt.name || '';\n  model.mainType = opt.mainType;\n  model.subType = opt.subType;\n\n  model.getData = function () {\n    return data;\n  };\n\n  return model;\n} // PENDING A little ugly\n\n\nvar dataFormatMixin = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex, true);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    return {\n      componentType: this.mainType,\n      componentSubType: this.subType,\n      seriesType: this.mainType === 'series' ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: this.id,\n      seriesName: this.name,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      marker: formatUtil.getTooltipMarker(color),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex]\n   * @param {string} [labelProp='label']\n   * @return {string}\n   */\n  getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get([labelProp || 'label', status, 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      return formatUtil.formatTpl(formatter, params);\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getRawValue: function (idx, dataType) {\n    var data = this.getData(dataType);\n    var dataItem = data.getRawDataItem(idx);\n\n    if (dataItem != null) {\n      return isObject(dataItem) && !(dataItem instanceof Array) ? dataItem.value : dataItem;\n    }\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: zrUtil.noop\n};\n/**\n * Mapping to exists for merge.\n *\n * @public\n * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n * @param {Object|Array.<Object>} newCptOptions\n * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          index of which is the same as exists.\n */\n\nfunction mappingToExists(exists, newCptOptions) {\n  // Mapping by the order by original option (but not order of\n  // new option) in merge mode. Because we should ensure\n  // some specified index (like xAxisIndex) is consistent with\n  // original option, which is easy to understand, espatially in\n  // media query. And in most case, merge option is used to\n  // update partial option but not be expected to change order.\n  newCptOptions = (newCptOptions || []).slice();\n  var result = zrUtil.map(exists || [], function (obj, index) {\n    return {\n      exist: obj\n    };\n  }); // Mapping by id or name if specified.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    } // id has highest priority.\n\n\n    for (var i = 0; i < result.length; i++) {\n      if (!result[i].option // Consider name: two map to one.\n      && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Consider name: two map to one.\n      // Can not match when both ids exist but different.\n      && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n  }); // Otherwise mapping by index.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    }\n\n    var i = 0;\n\n    for (; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Existing model that already has id should be able to\n      // mapped to (because after mapping performed model may\n      // be assigned with a id, whish should not affect next\n      // mapping), except those has inner id.\n      && !isIdInner(exist) // Caution:\n      // Do not overwrite id. But name can be overwritten,\n      // because axis use name as 'show label text'.\n      // 'exist' always has id and name and we dont\n      // need to check it.\n      && cptOption.id == null) {\n        result[i].option = cptOption;\n        break;\n      }\n    }\n\n    if (i >= result.length) {\n      result.push({\n        option: cptOption\n      });\n    }\n  });\n  return result;\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n *\n * @public\n * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          which order is the same as exists.\n * @return {Array.<Object>} The input.\n */\n\n\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = zrUtil.createHashMap();\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    existCpt && idMap.set(existCpt.id, item);\n  });\n  each(mapResult, function (item, index) {\n    var opt = item.option;\n    zrUtil.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  }); // Make name and id.\n\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    var opt = item.option;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    } // name can be overwitten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n\n\n    keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name : '\\0-'; // name may be displayed on screen, so use '-'.\n\n    if (existCpt) {\n      keyInfo.id = existCpt.id;\n    } else if (opt.id != null) {\n      keyInfo.id = opt.id + '';\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n/**\n * @public\n * @param {Object} cptOption\n * @return {boolean}\n */\n\n\nfunction isIdInner(cptOption) {\n  return isObject(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n */\n\n\nfunction compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = sourceBatch[i].seriesId;\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n */\n\n\nfunction queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return zrUtil.isArray(payload.dataIndex) ? zrUtil.map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return zrUtil.isArray(payload.name) ? zrUtil.map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * var get = modelUitl.makeGetter();\n *\n * function some(hostObj) {\n *      get(hostObj)._someProperty = 1212;\n *      ...\n * }\n *\n * @return {Function}\n */\n\n\nvar makeGetter = function () {\n  var index = 0;\n  return function () {\n    var key = '\\0__ec_prop_getter_' + index++;\n    return function (hostObj) {\n      return hostObj[key] || (hostObj[key] = {});\n    };\n  };\n}();\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex, seriesId, seriesName,\n *            geoIndex, geoId, geoName,\n *            bmapIndex, bmapId, bmapName,\n *            xAxisIndex, xAxisId, xAxisName,\n *            yAxisIndex, yAxisId, yAxisName,\n *            gridIndex, gridId, gridName,\n *            ... (can be extended)\n *        }\n *        Each properties can be number|string|Array.<number>|Array.<string>\n *        For example, a finder could be\n *        {\n *            seriesIndex: 3,\n *            geoId: ['aa', 'cc'],\n *            gridName: ['xx', 'rr']\n *        }\n *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n *        If nothing or null/undefined specified, return nothing.\n * @param {Object} [opt]\n * @param {string} [opt.defaultMainType]\n * @param {Array.<string>} [opt.includeMainTypes]\n * @return {Object} result like:\n *        {\n *            seriesModels: [seriesModel1, seriesModel2],\n *            seriesModel: seriesModel1, // The first model\n *            geoModels: [geoModel1, geoModel2],\n *            geoModel: geoModel1, // The first model\n *            ...\n *        }\n */\n\n\nfunction parseFinder(ecModel, finder, opt) {\n  if (zrUtil.isString(finder)) {\n    var obj = {};\n    obj[finder + 'Index'] = 0;\n    finder = obj;\n  }\n\n  var defaultMainType = opt && opt.defaultMainType;\n\n  if (defaultMainType && !has(finder, defaultMainType + 'Index') && !has(finder, defaultMainType + 'Id') && !has(finder, defaultMainType + 'Name')) {\n    finder[defaultMainType + 'Index'] = 0;\n  }\n\n  var result = {};\n  each(finder, function (value, key) {\n    var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && zrUtil.indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    var queryParam = {\n      mainType: mainType\n    };\n\n    if (queryType !== 'index' || value !== 'all') {\n      queryParam[queryType] = value;\n    }\n\n    var models = ecModel.queryComponents(queryParam);\n    result[mainType + 'Models'] = models;\n    result[mainType + 'Model'] = models[0];\n  });\n  return result;\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string|number} dataDim\n * @return {string}\n */\n\n\nfunction dataDimToCoordDim(data, dataDim) {\n  var dimensions = data.dimensions;\n  dataDim = data.getDimension(dataDim);\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimItem = data.getDimensionInfo(dimensions[i]);\n\n    if (dimItem.name === dataDim) {\n      return dimItem.coordDim;\n    }\n  }\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} coordDim\n * @return {Array.<string>} data dimensions on the coordDim.\n */\n\n\nfunction coordDimToDataDim(data, coordDim) {\n  var dataDim = [];\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n\n    if (dimItem.coordDim === coordDim) {\n      dataDim[dimItem.coordDimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} otherDim Can be `otherDims`\n *                        like 'label' or 'tooltip'.\n * @return {Array.<string>} data dimensions on the otherDim.\n */\n\n\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n\nfunction has(obj, prop) {\n  return obj && obj.hasOwnProperty(prop);\n}\n\nexports.normalizeToArray = normalizeToArray;\nexports.defaultEmphasis = defaultEmphasis;\nexports.TEXT_STYLE_OPTIONS = TEXT_STYLE_OPTIONS;\nexports.getDataItemValue = getDataItemValue;\nexports.isDataItemOption = isDataItemOption;\nexports.converDataValue = converDataValue;\nexports.createDataFormatModel = createDataFormatModel;\nexports.dataFormatMixin = dataFormatMixin;\nexports.mappingToExists = mappingToExists;\nexports.makeIdAndName = makeIdAndName;\nexports.isIdInner = isIdInner;\nexports.compressBatches = compressBatches;\nexports.queryDataIndex = queryDataIndex;\nexports.makeGetter = makeGetter;\nexports.parseFinder = parseFinder;\nexports.dataDimToCoordDim = dataDimToCoordDim;\nexports.coordDimToDataDim = coordDimToDataDim;\nexports.otherDimToDataDim = otherDimToDataDim;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nvar formatUtil = __webpack_require__(8);\n\n// Layout helpers for each component positioning\nvar each = zrUtil.each;\n/**\n * @public\n */\n\nvar LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\n\nvar HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var position = child.position;\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n\n    if (child.newline) {\n      return;\n    }\n\n    position[0] = x;\n    position[1] = y;\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\n\nvar box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar hbox = zrUtil.curry(boxLayout, 'horizontal');\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.x]\n * @param {number|string} [positionInfo.y]\n * @param {number|string} [positionInfo.x2]\n * @param {number|string} [positionInfo.y2]\n * @param {Object} containerRect {width, height}\n * @param {string|number} margin\n * @return {Object} {width, height}\n */\n\nfunction getAvailableSize(positionInfo, containerRect, margin) {\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var x = parsePercent(positionInfo.x, containerWidth);\n  var y = parsePercent(positionInfo.y, containerHeight);\n  var x2 = parsePercent(positionInfo.x2, containerWidth);\n  var y2 = parsePercent(positionInfo.y2, containerHeight);\n  (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n  (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  return {\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\n  };\n}\n/**\n * Parse position info.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width]\n * @param {number|string} [positionInfo.height]\n * @param {number|string} [positionInfo.aspect] Aspect is width / height\n * @param {Object} containerRect\n * @param {string|number} [margin]\n *\n * @return {module:zrender/core/BoundingRect}\n */\n\n\nfunction getLayoutRect(positionInfo, containerRect, margin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    } // Calculate width or height with given aspect\n\n\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  } // If left is not specified, calculate left from right and width\n\n\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  } // Align left and top\n\n\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n  left = left || 0;\n  top = top || 0;\n\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Traslate (with el.position by this method)\n * So this method only fixes the last step 'Traslate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatly with the same input el, the same result will be gotten.\n *\n * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n * @param {Object} containerRect\n * @param {string|number} margin\n * @param {Object} [opt]\n * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n * @param {Array.<number>} [opt.boundingMode='all']\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\n\n\nfunction positionElement(el, positionInfo, containerRect, margin, opt) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n\n  if (!h && !v) {\n    return;\n  }\n\n  var rect;\n\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  } // The real width and height can not be specified but calculated by the given el.\n\n\n  positionInfo = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransfrom),\n  // we can just only modify el.position to get final result.\n\n  var elPos = el.position;\n  var dx = h ? positionInfo.x - rect.x : 0;\n  var dy = v ? positionInfo.y - rect.y : 0;\n  el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n}\n/**\n * @param {Object} option Contains some of the properties in HV_NAMES.\n * @param {number} hvIdx 0: horizontal; 1: vertical.\n */\n\n\nfunction sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\n/**\n * Consider Case:\n * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         var inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param {Object} targetOption\n * @param {Object} newOption\n * @param {Object|string} [opt]\n * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n *  that width (or height) should not be calculated by left and right (or top and bottom).\n */\n\n\nfunction mergeLayoutParam(targetOption, newOption, opt) {\n  !zrUtil.isObject(opt) && (opt = {});\n  var ignoreSize = opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n\n\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n        return newParams;\n      } else {\n        // Chose another param from targetOption by priority.\n        for (var i = 0; i < names.length; i++) {\n          var name = names[i];\n\n          if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n            newParams[name] = targetOption[name];\n            break;\n          }\n        }\n\n        return newParams;\n      }\n  }\n\n  function hasProp(obj, name) {\n    return obj.hasOwnProperty(name);\n  }\n\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    source.hasOwnProperty(name) && (target[name] = source[name]);\n  });\n  return target;\n}\n\nexports.LOCATION_PARAMS = LOCATION_PARAMS;\nexports.HV_NAMES = HV_NAMES;\nexports.box = box;\nexports.vbox = vbox;\nexports.hbox = hbox;\nexports.getAvailableSize = getAvailableSize;\nexports.getLayoutRect = getLayoutRect;\nexports.positionElement = positionElement;\nexports.sizeCalculable = sizeCalculable;\nexports.mergeLayoutParam = mergeLayoutParam;\nexports.getLayoutParams = getLayoutParams;\nexports.copyLayoutParams = copyLayoutParams;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * \n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} \n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(20);\n\nvar numberUtil = __webpack_require__(3);\n\n/**\n * ,\n * @param {string|number} x\n * @return {string}\n */\nfunction addCommas(x) {\n  if (isNaN(x)) {\n    return '-';\n  }\n\n  x = (x + '').split('.');\n  return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n}\n/**\n * @param {string} str\n * @param {boolean} [upperCaseFirst=false]\n * @return {string} str\n */\n\n\nfunction toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  return str;\n}\n\nvar normalizeCssArray = zrUtil.normalizeCssArray;\n\nfunction encodeHTML(source) {\n  return String(source).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n}\n\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\nvar wrapVar = function (varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {string} tpl\n * @param {Array.<Object>|Object} paramsList\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n\n  var seriesLen = paramsList.length;\n\n  if (!seriesLen) {\n    return '';\n  }\n\n  var $vars = paramsList[0].$vars || [];\n\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    var val = wrapVar(alias, 0);\n    tpl = tpl.replace(wrapVar(alias), encode ? encodeHTML(val) : val);\n  }\n\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n\n  return tpl;\n}\n/**\n * simple Template formatter\n *\n * @param {string} tpl\n * @param {Object} param\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\n/**\n * @param {string} color\n * @param {string} [extraCssText]\n * @return {string}\n */\n\n\nfunction getTooltipMarker(color, extraCssText) {\n  return color ? '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:9px;height:9px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '';\n}\n/**\n * @param {string} str\n * @return {string}\n * @inner\n */\n\n\nvar s2d = function (str) {\n  return str < 10 ? '0' + str : str;\n};\n/**\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\n\n\nfunction formatTime(tpl, value, isUTC) {\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n\n  var date = numberUtil.parseDate(value);\n  var utc = isUTC ? 'UTC' : '';\n  var y = date['get' + utc + 'FullYear']();\n  var M = date['get' + utc + 'Month']() + 1;\n  var d = date['get' + utc + 'Date']();\n  var h = date['get' + utc + 'Hours']();\n  var m = date['get' + utc + 'Minutes']();\n  var s = date['get' + utc + 'Seconds']();\n  tpl = tpl.replace('MM', s2d(M)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', s2d(d)).replace('d', d).replace('hh', s2d(h)).replace('h', h).replace('mm', s2d(m)).replace('m', m).replace('ss', s2d(s)).replace('s', s);\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\n\n\nfunction capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n\nvar truncateText = textContain.truncateText;\nvar getTextRect = textContain.getBoundingRect;\nexports.addCommas = addCommas;\nexports.toCamelCase = toCamelCase;\nexports.normalizeCssArray = normalizeCssArray;\nexports.encodeHTML = encodeHTML;\nexports.formatTpl = formatTpl;\nexports.formatTplSimple = formatTplSimple;\nexports.getTooltipMarker = getTooltipMarker;\nexports.formatTime = formatTime;\nexports.capitalFirst = capitalFirst;\nexports.truncateText = truncateText;\nexports.getTextRect = getTextRect;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(7);\n\nvar matrix = __webpack_require__(16);\n\n/**\n * @module echarts/core/BoundingRect\n */\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function (other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function (b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // \n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function (b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function (x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function () {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function (other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar clazzUtil = __webpack_require__(24);\n\nvar lineStyleMixin = __webpack_require__(179);\n\nvar areaStyleMixin = __webpack_require__(180);\n\nvar textStyleMixin = __webpack_require__(181);\n\nvar itemStyleMixin = __webpack_require__(200);\n\n/**\n * @module echarts/model/Model\n */\nvar mixin = zrUtil.mixin;\n/**\n * @alias module:echarts/model/Model\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} [parentModel]\n * @param {module:echarts/model/Global} [ecModel]\n */\n\nfunction Model(option, parentModel, ecModel) {\n  /**\n   * @type {module:echarts/model/Model}\n   * @readOnly\n   */\n  this.parentModel = parentModel;\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @type {Object}\n   * @protected\n   */\n\n  this.option = option; // Simple optimization\n  // if (this.init) {\n  //     if (arguments.length <= 4) {\n  //         this.init(option, parentModel, ecModel, extraOpt);\n  //     }\n  //     else {\n  //         this.init.apply(this, arguments);\n  //     }\n  // }\n}\n\nModel.prototype = {\n  constructor: Model,\n\n  /**\n   * Model \n   * @param {Object} option\n   */\n  init: null,\n\n  /**\n   *  Option merge\n   */\n  mergeOption: function (option) {\n    zrUtil.merge(this.option, option, true);\n  },\n\n  /**\n   * @param {string|Array.<string>} path\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  get: function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n\n    return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n  },\n\n  /**\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  getShallow: function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    var parentModel = !ignoreParent && getParent(this, key);\n\n    if (val == null && parentModel) {\n      val = parentModel.getShallow(key);\n    }\n\n    return val;\n  },\n\n  /**\n   * @param {string|Array.<string>} [path]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path, parentModel) {\n    var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n    var thisParentModel;\n    parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n    return new Model(obj, parentModel, this.ecModel);\n  },\n\n  /**\n   * If model has option\n   */\n  isEmpty: function () {\n    return this.option == null;\n  },\n  restoreData: function () {},\n  // Pending\n  clone: function () {\n    var Ctor = this.constructor;\n    return new Ctor(zrUtil.clone(this.option));\n  },\n  setReadOnly: function (properties) {\n    clazzUtil.setReadOnly(this, properties);\n  },\n  // If path is null/undefined, return null/undefined.\n  parsePath: function (path) {\n    if (typeof path === 'string') {\n      path = path.split('.');\n    }\n\n    return path;\n  },\n\n  /**\n   * @param {Function} getParentMethod\n   *        param {Array.<string>|string} path\n   *        return {module:echarts/model/Model}\n   */\n  customizeGetParent: function (getParentMethod) {\n    clazzUtil.set(this, 'getParent', getParentMethod);\n  },\n  isAnimationEnabled: function () {\n    if (!env.node) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  }\n};\n\nfunction doGet(obj, pathArr, parentModel) {\n  for (var i = 0; i < pathArr.length; i++) {\n    // Ignore empty\n    if (!pathArr[i]) {\n      continue;\n    } // obj could be number/string/... (like 0)\n\n\n    obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  if (obj == null && parentModel) {\n    obj = parentModel.get(pathArr);\n  }\n\n  return obj;\n} // `path` can be null/undefined\n\n\nfunction getParent(model, path) {\n  var getParentMethod = clazzUtil.get(model, 'getParent');\n  return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n} // Enable Model.extend.\n\n\nclazzUtil.enableClassExtend(Model);\nmixin(Model, lineStyleMixin);\nmixin(Model, areaStyleMixin);\nmixin(Model, textStyleMixin);\nmixin(Model, itemStyleMixin);\nvar _default = Model;\nmodule.exports = _default;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n/**\n * echarts\n *\n * @desc echartsCanvasJavascript\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\nvar env = {};\n\nif (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // canvas\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // @see <http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript>\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: 'onpointerdown' in window // Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    && (browser.edge || browser.ie && browser.version >= 11)\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(54);\n\nvar zrUtil = __webpack_require__(0);\n\nvar PathProxy = __webpack_require__(37);\n\nvar pathContain = __webpack_require__(183);\n\nvar Pattern = __webpack_require__(97);\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\nvar abs = Math.abs;\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nfunction Path(opts) {\n  Displayable.call(this, opts);\n  /**\n   * @type {module:zrender/core/PathProxy}\n   * @readOnly\n   */\n\n  this.path = null;\n}\n\nPath.prototype = {\n  constructor: Path,\n  type: 'path',\n  __dirtyPath: true,\n  strokeContainThreshold: 5,\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var path = this.path || pathProxyForDraw;\n    var hasStroke = style.hasStroke();\n    var hasFill = style.hasFill();\n    var fill = style.fill;\n    var stroke = style.stroke;\n    var hasFillGradient = hasFill && !!fill.colorStops;\n    var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n    var hasFillPattern = hasFill && !!fill.image;\n    var hasStrokePattern = hasStroke && !!stroke.image;\n    style.bind(ctx, this, prevEl);\n    this.setTransform(ctx);\n\n    if (this.__dirty) {\n      var rect; // Update gradient because bounding rect may changed\n\n      if (hasFillGradient) {\n        rect = rect || this.getBoundingRect();\n        this._fillGradient = style.getGradient(ctx, fill, rect);\n      }\n\n      if (hasStrokeGradient) {\n        rect = rect || this.getBoundingRect();\n        this._strokeGradient = style.getGradient(ctx, stroke, rect);\n      }\n    } // Use the gradient or pattern\n\n\n    if (hasFillGradient) {\n      // PENDING If may have affect the state\n      ctx.fillStyle = this._fillGradient;\n    } else if (hasFillPattern) {\n      ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n    }\n\n    if (hasStrokeGradient) {\n      ctx.strokeStyle = this._strokeGradient;\n    } else if (hasStrokePattern) {\n      ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n    }\n\n    var lineDash = style.lineDash;\n    var lineDashOffset = style.lineDashOffset;\n    var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n    var scale = this.getGlobalScale();\n    path.setScale(scale[0], scale[1]); // Proxy context\n    // Rebuild path in following 2 cases\n    // 1. Path is dirty\n    // 2. Path needs javascript implemented lineDash stroking.\n    //    In this case, lineDash information will not be saved in PathProxy\n\n    if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n      path.beginPath(ctx); // Setting line dash before build path\n\n      if (lineDash && !ctxLineDash) {\n        path.setLineDash(lineDash);\n        path.setLineDashOffset(lineDashOffset);\n      }\n\n      this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n      if (this.path) {\n        this.__dirtyPath = false;\n      }\n    } else {\n      // Replay path building\n      ctx.beginPath();\n      this.path.rebuildPath(ctx);\n    }\n\n    hasFill && path.fill(ctx);\n\n    if (lineDash && ctxLineDash) {\n      ctx.setLineDash(lineDash);\n      ctx.lineDashOffset = lineDashOffset;\n    }\n\n    hasStroke && path.stroke(ctx);\n\n    if (lineDash && ctxLineDash) {\n      // PENDING\n      // Remove lineDash\n      ctx.setLineDash([]);\n    }\n\n    this.restoreTransform(ctx); // Draw rect text\n\n    if (style.text != null) {\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n  // Like in circle\n  buildPath: function (ctx, shapeCfg, inBundle) {},\n  createPathProxy: function () {\n    this.path = new PathProxy();\n  },\n  getBoundingRect: function () {\n    var rect = this._rect;\n    var style = this.style;\n    var needsUpdateRect = !rect;\n\n    if (needsUpdateRect) {\n      var path = this.path;\n\n      if (!path) {\n        // Create path on demand.\n        path = this.path = new PathProxy();\n      }\n\n      if (this.__dirtyPath) {\n        path.beginPath();\n        this.buildPath(path, this.shape, false);\n      }\n\n      rect = path.getBoundingRect();\n    }\n\n    this._rect = rect;\n\n    if (style.hasStroke()) {\n      // Needs update rect with stroke lineWidth when\n      // 1. Element changes scale or lineWidth\n      // 2. Shape is changed\n      var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n      if (this.__dirty || needsUpdateRect) {\n        rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n        var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n        if (!style.hasFill()) {\n          w = Math.max(w, this.strokeContainThreshold || 4);\n        } // Consider line width\n        // Line scale can't be 0;\n\n\n        if (lineScale > 1e-10) {\n          rectWithStroke.width += w / lineScale;\n          rectWithStroke.height += w / lineScale;\n          rectWithStroke.x -= w / lineScale / 2;\n          rectWithStroke.y -= w / lineScale / 2;\n        }\n      } // Return rect with stroke\n\n\n      return rectWithStroke;\n    }\n\n    return rect;\n  },\n  contain: function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    var style = this.style;\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      var pathData = this.path.data;\n\n      if (style.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n        if (lineScale > 1e-10) {\n          // Only add extra hover lineWidth when there are no fill\n          if (!style.hasFill()) {\n            lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n          }\n\n          if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n            return true;\n          }\n        }\n      }\n\n      if (style.hasFill()) {\n        return pathContain.contain(pathData, x, y);\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param  {boolean} dirtyPath\n   */\n  dirty: function (dirtyPath) {\n    if (dirtyPath == null) {\n      dirtyPath = true;\n    } // Only mark dirty, not mark clean\n\n\n    if (dirtyPath) {\n      this.__dirtyPath = dirtyPath;\n      this._rect = null;\n    }\n\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n    if (this.__clipTarget) {\n      this.__clipTarget.dirty();\n    }\n  },\n\n  /**\n   * Alias for animate('shape')\n   * @param {boolean} loop\n   */\n  animateShape: function (loop) {\n    return this.animate('shape', loop);\n  },\n  // Overwrite attrKV\n  attrKV: function (key, value) {\n    // FIXME\n    if (key === 'shape') {\n      this.setShape(value);\n      this.__dirtyPath = true;\n      this._rect = null;\n    } else {\n      Displayable.prototype.attrKV.call(this, key, value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setShape: function (key, value) {\n    var shape = this.shape; // Path from string may not have shape\n\n    if (shape) {\n      if (zrUtil.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            shape[name] = key[name];\n          }\n        }\n      } else {\n        shape[key] = value;\n      }\n\n      this.dirty(true);\n    }\n\n    return this;\n  },\n  getLineScale: function () {\n    var m = this.transform; // Get the line scale.\n    // Determinant of `m` means how much the area is enlarged by the\n    // transformation. So its square root can be used as a scale factor\n    // for width.\n\n    return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n  }\n};\n/**\n *  Path element, \n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\n\nPath.extend = function (defaults) {\n  var Sub = function (opts) {\n    Path.call(this, opts);\n\n    if (defaults.style) {\n      // Extend default style\n      this.style.extendFrom(defaults.style, false);\n    } // Extend default shape\n\n\n    var defaultShape = defaults.shape;\n\n    if (defaultShape) {\n      this.shape = this.shape || {};\n      var thisShape = this.shape;\n\n      for (var name in defaultShape) {\n        if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n          thisShape[name] = defaultShape[name];\n        }\n      }\n    }\n\n    defaults.init && defaults.init.call(this, opts);\n  };\n\n  zrUtil.inherits(Sub, Path); // FIXME  extend position, rotation \n\n  for (var name in defaults) {\n    // Extending prototype values and methods\n    if (name !== 'style' && name !== 'shape') {\n      Sub.prototype[name] = defaults[name];\n    }\n  }\n\n  return Sub;\n};\n\nzrUtil.inherits(Path, Displayable);\nvar _default = Path;\nmodule.exports = _default;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Model = __webpack_require__(10);\n\nvar componentUtil = __webpack_require__(72);\n\nvar clazzUtil = __webpack_require__(24);\n\nvar layout = __webpack_require__(6);\n\nvar boxLayoutMixin = __webpack_require__(201);\n\n/**\n * Component model\n *\n * @module echarts/model/Component\n */\nvar arrayPush = Array.prototype.push;\n/**\n * @alias module:echarts/model/Component\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {module:echarts/model/Model} ecModel\n */\n\nvar ComponentModel = Model.extend({\n  type: 'component',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  id: '',\n\n  /**\n   * @readOnly\n   */\n  name: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  mainType: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  subType: '',\n\n  /**\n   * @readOnly\n   * @type {number}\n   */\n  componentIndex: 0,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n  ecModel: null,\n\n  /**\n   * key: componentType\n   * value:  Component model list, can not be null.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @readOnly\n   */\n  dependentModels: [],\n\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  uid: null,\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  $constructor: function (option, parentModel, ecModel, extraOpt) {\n    Model.call(this, option, parentModel, ecModel, extraOpt);\n    this.uid = componentUtil.getUID('componentModel');\n  },\n  init: function (option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n  mergeDefaultAndTheme: function (option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function (option, extraOpt) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  },\n  // Hooker after init or mergeOption\n  optionUpdated: function (newCptOption, isInit) {},\n  getDefaultOption: function () {\n    if (!clazzUtil.hasOwn(this, '__defaultOption')) {\n      var optList = [];\n      var Class = this.constructor;\n\n      while (Class) {\n        var opt = Class.prototype.defaultOption;\n        opt && optList.push(opt);\n        Class = Class.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      clazzUtil.set(this, '__defaultOption', defaultOption);\n    }\n\n    return clazzUtil.get(this, '__defaultOption');\n  },\n  getReferringComponents: function (mainType) {\n    return this.ecModel.queryComponents({\n      mainType: mainType,\n      index: this.get(mainType + 'Index', true),\n      id: this.get(mainType + 'Id', true)\n    });\n  }\n}); // Reset ComponentModel.extend, add preConstruct.\n// clazzUtil.enableClassExtend(\n//     ComponentModel,\n//     function (option, parentModel, ecModel, extraOpt) {\n//         // Set dependentModels, componentIndex, name, id, mainType, subType.\n//         zrUtil.extend(this, extraOpt);\n//         this.uid = componentUtil.getUID('componentModel');\n//         // this.setReadOnly([\n//         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n//         //     'dependentModels', 'componentIndex'\n//         // ]);\n//     }\n// );\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nclazzUtil.enableClassManagement(ComponentModel, {\n  registerWhenExtend: true\n});\ncomponentUtil.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n    arrayPush.apply(deps, Clazz.prototype.dependencies || []);\n  }); // Ensure main type\n\n  return zrUtil.map(deps, function (type) {\n    return clazzUtil.parseClassType(type).main;\n  });\n}\n\nzrUtil.mixin(ComponentModel, boxLayoutMixin);\nvar _default = ComponentModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar Model = __webpack_require__(10);\n\nvar DataDiffer = __webpack_require__(38);\n\nvar modelUtil = __webpack_require__(5);\n\n/**\n * List for data storage\n * @module echarts/data/List\n */\nvar isObject = zrUtil.isObject;\nvar UNDEFINED = 'undefined';\nvar globalObj = typeof window === UNDEFINED ? global : window;\nvar dataCtors = {\n  'float': typeof globalObj.Float64Array === UNDEFINED ? Array : globalObj.Float64Array,\n  'int': typeof globalObj.Int32Array === UNDEFINED ? Array : globalObj.Int32Array,\n  // Ordinal data type can be string or int\n  'ordinal': Array,\n  'number': Array,\n  'time': Array\n};\nvar TRANSFERABLE_PROPERTIES = ['stackedOn', 'hasItemOption', '_nameList', '_idList', '_rawData'];\n\nfunction transferProperties(a, b) {\n  zrUtil.each(TRANSFERABLE_PROPERTIES.concat(b.__wrappedMethods || []), function (propName) {\n    if (b.hasOwnProperty(propName)) {\n      a[propName] = b[propName];\n    }\n  });\n  a.__wrappedMethods = b.__wrappedMethods;\n}\n\nfunction DefaultDataProvider(dataArray) {\n  this._array = dataArray || [];\n}\n\nDefaultDataProvider.prototype.pure = false;\n\nDefaultDataProvider.prototype.count = function () {\n  return this._array.length;\n};\n\nDefaultDataProvider.prototype.getItem = function (idx) {\n  return this._array[idx];\n};\n/**\n * @constructor\n * @alias module:echarts/data/List\n *\n * @param {Array.<string|Object>} dimensions\n *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n * @param {module:echarts/model/Model} hostModel\n */\n\n\nvar List = function (dimensions, hostModel) {\n  dimensions = dimensions || ['x', 'y'];\n  var dimensionInfos = {};\n  var dimensionNames = [];\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimensionName;\n    var dimensionInfo = {};\n\n    if (typeof dimensions[i] === 'string') {\n      dimensionName = dimensions[i];\n      dimensionInfo = {\n        name: dimensionName,\n        coordDim: dimensionName,\n        coordDimIndex: 0,\n        stackable: false,\n        // Type can be 'float', 'int', 'number'\n        // Default is number, Precision of float may not enough\n        type: 'number'\n      };\n    } else {\n      dimensionInfo = dimensions[i];\n      dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'number';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n    }\n\n    dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n    dimensionNames.push(dimensionName);\n    dimensionInfos[dimensionName] = dimensionInfo;\n  }\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n\n\n  this.dimensions = dimensionNames;\n  /**\n   * Infomation of each data dimension, like data type.\n   * @type {Object}\n   */\n\n  this._dimensionInfos = dimensionInfos;\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.hostModel = hostModel;\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.dataType;\n  /**\n   * Indices stores the indices of data subset after filtered.\n   * This data subset will be used in chart.\n   * @type {Array.<number>}\n   * @readOnly\n   */\n\n  this.indices = [];\n  /**\n   * Data storage\n   * @type {Object.<key, TypedArray|Array>}\n   * @private\n   */\n\n  this._storage = {};\n  /**\n   * @type {Array.<string>}\n   */\n\n  this._nameList = [];\n  /**\n   * @type {Array.<string>}\n   */\n\n  this._idList = [];\n  /**\n   * Models of data option is stored sparse for optimizing memory cost\n   * @type {Array.<module:echarts/model/Model>}\n   * @private\n   */\n\n  this._optionModels = [];\n  /**\n   * @param {module:echarts/data/List}\n   */\n\n  this.stackedOn = null;\n  /**\n   * Global visual properties after visual coding\n   * @type {Object}\n   * @private\n   */\n\n  this._visual = {};\n  /**\n   * Globel layout properties.\n   * @type {Object}\n   * @private\n   */\n\n  this._layout = {};\n  /**\n   * Item visual properties after visual coding\n   * @type {Array.<Object>}\n   * @private\n   */\n\n  this._itemVisuals = [];\n  /**\n   * Item layout properties after layout\n   * @type {Array.<Object>}\n   * @private\n   */\n\n  this._itemLayouts = [];\n  /**\n   * Graphic elemnents\n   * @type {Array.<module:zrender/Element>}\n   * @private\n   */\n\n  this._graphicEls = [];\n  /**\n   * @type {Array.<Array|Object>}\n   * @private\n   */\n\n  this._rawData;\n  /**\n   * @type {Object}\n   * @private\n   */\n\n  this._extent;\n};\n\nvar listProto = List.prototype;\nlistProto.type = 'list';\n/**\n * If each data item has it's own option\n * @type {boolean}\n */\n\nlistProto.hasItemOption = true;\n/**\n * Get dimension name\n * @param {string|number} dim\n *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n * @return {string} Concrete dim name.\n */\n\nlistProto.getDimension = function (dim) {\n  if (!isNaN(dim)) {\n    dim = this.dimensions[dim] || dim;\n  }\n\n  return dim;\n};\n/**\n * Get type and stackable info of particular dimension\n * @param {string|number} dim\n *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n */\n\n\nlistProto.getDimensionInfo = function (dim) {\n  return zrUtil.clone(this._dimensionInfos[this.getDimension(dim)]);\n};\n/**\n * Initialize from data\n * @param {Array.<Object|number|Array>} data\n * @param {Array.<string>} [nameList]\n * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n */\n\n\nlistProto.initData = function (data, nameList, dimValueGetter) {\n  data = data || [];\n  var isDataArray = zrUtil.isArray(data);\n\n  if (isDataArray) {\n    data = new DefaultDataProvider(data);\n  }\n\n  this._rawData = data; // Clear\n\n  var storage = this._storage = {};\n  var indices = this.indices = [];\n  var dimensions = this.dimensions;\n  var dimensionInfoMap = this._dimensionInfos;\n  var size = data.count();\n  var idList = [];\n  var nameRepeatCount = {};\n  var nameDimIdx;\n  nameList = nameList || []; // Init storage\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimInfo = dimensionInfoMap[dimensions[i]];\n    dimInfo.otherDims.itemName === 0 && (nameDimIdx = i);\n    var DataCtor = dataCtors[dimInfo.type];\n    storage[dimensions[i]] = new DataCtor(size);\n  }\n\n  var self = this;\n\n  if (!dimValueGetter) {\n    self.hasItemOption = false;\n  } // Default dim value getter\n\n\n  dimValueGetter = dimValueGetter || function (dataItem, dimName, dataIndex, dimIndex) {\n    var value = modelUtil.getDataItemValue(dataItem); // If any dataItem is like { value: 10 }\n\n    if (modelUtil.isDataItemOption(dataItem)) {\n      self.hasItemOption = true;\n    }\n\n    return modelUtil.converDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n    : value, dimensionInfoMap[dimName]);\n  };\n\n  for (var i = 0; i < size; i++) {\n    // NOTICE: Try not to write things into dataItem\n    var dataItem = data.getItem(i); // Each data item is value\n    // [1, 2]\n    // 2\n    // Bar chart, line chart which uses category axis\n    // only gives the 'y' value. 'x' value is the indices of cateogry\n    // Use a tempValue to normalize the value to be a (x, y) value\n    // Store the data by dimensions\n\n    for (var k = 0; k < dimensions.length; k++) {\n      var dim = dimensions[k];\n      var dimStorage = storage[dim]; // PENDING NULL is empty or zero\n\n      dimStorage[i] = dimValueGetter(dataItem, dim, i, k);\n    }\n\n    indices.push(i);\n  } // Use the name in option and create id\n\n\n  for (var i = 0; i < size; i++) {\n    var dataItem = data.getItem(i);\n\n    if (!nameList[i] && dataItem) {\n      if (dataItem.name != null) {\n        nameList[i] = dataItem.name;\n      } else if (nameDimIdx != null) {\n        nameList[i] = storage[dimensions[nameDimIdx]][i];\n      }\n    }\n\n    var name = nameList[i] || ''; // Try using the id in option\n\n    var id = dataItem && dataItem.id;\n\n    if (!id && name) {\n      // Use name as id and add counter to avoid same name\n      nameRepeatCount[name] = nameRepeatCount[name] || 0;\n      id = name;\n\n      if (nameRepeatCount[name] > 0) {\n        id += '__ec__' + nameRepeatCount[name];\n      }\n\n      nameRepeatCount[name]++;\n    }\n\n    id && (idList[i] = id);\n  }\n\n  this._nameList = nameList;\n  this._idList = idList;\n};\n/**\n * @return {number}\n */\n\n\nlistProto.count = function () {\n  return this.indices.length;\n};\n/**\n * Get value. Return NaN if idx is out of range.\n * @param {string} dim Dim must be concrete name.\n * @param {number} idx\n * @param {boolean} stack\n * @return {number}\n */\n\n\nlistProto.get = function (dim, idx, stack) {\n  var storage = this._storage;\n  var dataIndex = this.indices[idx]; // If value not exists\n\n  if (dataIndex == null || !storage[dim]) {\n    return NaN;\n  }\n\n  var value = storage[dim][dataIndex]; // FIXME ordinal data type is not stackable\n\n  if (stack) {\n    var dimensionInfo = this._dimensionInfos[dim];\n\n    if (dimensionInfo && dimensionInfo.stackable) {\n      var stackedOn = this.stackedOn;\n\n      while (stackedOn) {\n        // Get no stacked data of stacked on\n        var stackedValue = stackedOn.get(dim, idx); // Considering positive stack, negative stack and empty data\n\n        if (value >= 0 && stackedValue > 0 || // Positive stack\n        value <= 0 && stackedValue < 0 // Negative stack\n        ) {\n            value += stackedValue;\n          }\n\n        stackedOn = stackedOn.stackedOn;\n      }\n    }\n  }\n\n  return value;\n};\n/**\n * Get value for multi dimensions.\n * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n * @param {number} idx\n * @param {boolean} stack\n * @return {number}\n */\n\n\nlistProto.getValues = function (dimensions, idx, stack) {\n  var values = [];\n\n  if (!zrUtil.isArray(dimensions)) {\n    stack = idx;\n    idx = dimensions;\n    dimensions = this.dimensions;\n  }\n\n  for (var i = 0, len = dimensions.length; i < len; i++) {\n    values.push(this.get(dimensions[i], idx, stack));\n  }\n\n  return values;\n};\n/**\n * If value is NaN. Inlcuding '-'\n * @param {string} dim\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.hasValue = function (idx) {\n  var dimensions = this.dimensions;\n  var dimensionInfos = this._dimensionInfos;\n\n  for (var i = 0, len = dimensions.length; i < len; i++) {\n    if ( // Ordinal type can be string or number\n    dimensionInfos[dimensions[i]].type !== 'ordinal' && isNaN(this.get(dimensions[i], idx))) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Get extent of data in one dimension\n * @param {string} dim\n * @param {boolean} stack\n * @param {Function} filter\n */\n\n\nlistProto.getDataExtent = function (dim, stack, filter) {\n  dim = this.getDimension(dim);\n  var dimData = this._storage[dim];\n  var dimInfo = this.getDimensionInfo(dim);\n  stack = dimInfo && dimInfo.stackable && stack;\n  var dimExtent = (this._extent || (this._extent = {}))[dim + !!stack];\n  var value;\n\n  if (dimExtent) {\n    return dimExtent;\n  } // var dimInfo = this._dimensionInfos[dim];\n\n\n  if (dimData) {\n    var min = Infinity;\n    var max = -Infinity; // var isOrdinal = dimInfo.type === 'ordinal';\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      value = this.get(dim, i, stack); // FIXME\n      // if (isOrdinal && typeof value === 'string') {\n      //     value = zrUtil.indexOf(dimData, value);\n      // }\n\n      if (!filter || filter(value, dim, i)) {\n        value < min && (min = value);\n        value > max && (max = value);\n      }\n    }\n\n    return this._extent[dim + !!stack] = [min, max];\n  } else {\n    return [Infinity, -Infinity];\n  }\n};\n/**\n * Get sum of data in one dimension\n * @param {string} dim\n * @param {boolean} stack\n */\n\n\nlistProto.getSum = function (dim, stack) {\n  var dimData = this._storage[dim];\n  var sum = 0;\n\n  if (dimData) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var value = this.get(dim, i, stack);\n\n      if (!isNaN(value)) {\n        sum += value;\n      }\n    }\n  }\n\n  return sum;\n};\n/**\n * Retreive the index with given value\n * @param {number} idx\n * @param {number} value\n * @return {number}\n */\n// FIXME Precision of float value\n\n\nlistProto.indexOf = function (dim, value) {\n  var storage = this._storage;\n  var dimData = storage[dim];\n  var indices = this.indices;\n\n  if (dimData) {\n    for (var i = 0, len = indices.length; i < len; i++) {\n      var rawIndex = indices[i];\n\n      if (dimData[rawIndex] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n};\n/**\n * Retreive the index with given name\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\n\n\nlistProto.indexOfName = function (name) {\n  var indices = this.indices;\n  var nameList = this._nameList;\n\n  for (var i = 0, len = indices.length; i < len; i++) {\n    var rawIndex = indices[i];\n\n    if (nameList[rawIndex] === name) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n/**\n * Retreive the index with given raw data index\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\n\n\nlistProto.indexOfRawIndex = function (rawIndex) {\n  // Indices are ascending\n  var indices = this.indices; // If rawIndex === dataIndex\n\n  var rawDataIndex = indices[rawIndex];\n\n  if (rawDataIndex != null && rawDataIndex === rawIndex) {\n    return rawIndex;\n  }\n\n  var left = 0;\n  var right = indices.length - 1;\n\n  while (left <= right) {\n    var mid = (left + right) / 2 | 0;\n\n    if (indices[mid] < rawIndex) {\n      left = mid + 1;\n    } else if (indices[mid] > rawIndex) {\n      right = mid - 1;\n    } else {\n      return mid;\n    }\n  }\n\n  return -1;\n};\n/**\n * Retreive the index of nearest value\n * @param {string} dim\n * @param {number} value\n * @param {boolean} stack If given value is after stacked\n * @param {number} [maxDistance=Infinity]\n * @return {Array.<number>} Considere multiple points has the same value.\n */\n\n\nlistProto.indicesOfNearest = function (dim, value, stack, maxDistance) {\n  var storage = this._storage;\n  var dimData = storage[dim];\n  var nearestIndices = [];\n\n  if (!dimData) {\n    return nearestIndices;\n  }\n\n  if (maxDistance == null) {\n    maxDistance = Infinity;\n  }\n\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n\n  for (var i = 0, len = this.count(); i < len; i++) {\n    var diff = value - this.get(dim, i, stack);\n    var dist = Math.abs(diff);\n\n    if (diff <= maxDistance && dist <= minDist) {\n      // For the case of two data are same on xAxis, which has sequence data.\n      // Show the nearest index\n      // https://github.com/ecomfe/echarts/issues/2869\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        nearestIndices.length = 0;\n      }\n\n      nearestIndices.push(i);\n    }\n  }\n\n  return nearestIndices;\n};\n/**\n * Get raw data index\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.getRawIndex = function (idx) {\n  var rawIdx = this.indices[idx];\n  return rawIdx == null ? -1 : rawIdx;\n};\n/**\n * Get raw data item\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.getRawDataItem = function (idx) {\n  return this._rawData.getItem(this.getRawIndex(idx));\n};\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\n\n\nlistProto.getName = function (idx) {\n  return this._nameList[this.indices[idx]] || '';\n};\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\n\n\nlistProto.getId = function (idx) {\n  return this._idList[this.indices[idx]] || this.getRawIndex(idx) + '';\n};\n\nfunction normalizeDimensions(dimensions) {\n  if (!zrUtil.isArray(dimensions)) {\n    dimensions = [dimensions];\n  }\n\n  return dimensions;\n}\n/**\n * Data iteration\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n *\n * @example\n *  list.each('x', function (x, idx) {});\n *  list.each(['x', 'y'], function (x, y, idx) {});\n *  list.each(function (idx) {})\n */\n\n\nlistProto.each = function (dims, cb, stack, context) {\n  if (typeof dims === 'function') {\n    context = stack;\n    stack = cb;\n    cb = dims;\n    dims = [];\n  }\n\n  dims = zrUtil.map(normalizeDimensions(dims), this.getDimension, this);\n  var value = [];\n  var dimSize = dims.length;\n  var indices = this.indices;\n  context = context || this;\n\n  for (var i = 0; i < indices.length; i++) {\n    // Simple optimization\n    switch (dimSize) {\n      case 0:\n        cb.call(context, i);\n        break;\n\n      case 1:\n        cb.call(context, this.get(dims[0], i, stack), i);\n        break;\n\n      case 2:\n        cb.call(context, this.get(dims[0], i, stack), this.get(dims[1], i, stack), i);\n        break;\n\n      default:\n        for (var k = 0; k < dimSize; k++) {\n          value[k] = this.get(dims[k], i, stack);\n        } // Index\n\n\n        value[k] = i;\n        cb.apply(context, value);\n    }\n  }\n};\n/**\n * Data filter\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n */\n\n\nlistProto.filterSelf = function (dimensions, cb, stack, context) {\n  if (typeof dimensions === 'function') {\n    context = stack;\n    stack = cb;\n    cb = dimensions;\n    dimensions = [];\n  }\n\n  dimensions = zrUtil.map(normalizeDimensions(dimensions), this.getDimension, this);\n  var newIndices = [];\n  var value = [];\n  var dimSize = dimensions.length;\n  var indices = this.indices;\n  context = context || this;\n\n  for (var i = 0; i < indices.length; i++) {\n    var keep; // Simple optimization\n\n    if (!dimSize) {\n      keep = cb.call(context, i);\n    } else if (dimSize === 1) {\n      keep = cb.call(context, this.get(dimensions[0], i, stack), i);\n    } else {\n      for (var k = 0; k < dimSize; k++) {\n        value[k] = this.get(dimensions[k], i, stack);\n      }\n\n      value[k] = i;\n      keep = cb.apply(context, value);\n    }\n\n    if (keep) {\n      newIndices.push(indices[i]);\n    }\n  }\n\n  this.indices = newIndices; // Reset data extent\n\n  this._extent = {};\n  return this;\n};\n/**\n * Data mapping to a plain array\n * @param {string|Array.<string>} [dimensions]\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n * @return {Array}\n */\n\n\nlistProto.mapArray = function (dimensions, cb, stack, context) {\n  if (typeof dimensions === 'function') {\n    context = stack;\n    stack = cb;\n    cb = dimensions;\n    dimensions = [];\n  }\n\n  var result = [];\n  this.each(dimensions, function () {\n    result.push(cb && cb.apply(this, arguments));\n  }, stack, context);\n  return result;\n};\n\nfunction cloneListForMapAndSample(original, excludeDimensions) {\n  var allDimensions = original.dimensions;\n  var list = new List(zrUtil.map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n  transferProperties(list, original);\n  var storage = list._storage = {};\n  var originalStorage = original._storage; // Init storage\n\n  for (var i = 0; i < allDimensions.length; i++) {\n    var dim = allDimensions[i];\n    var dimStore = originalStorage[dim];\n\n    if (zrUtil.indexOf(excludeDimensions, dim) >= 0) {\n      storage[dim] = new dimStore.constructor(originalStorage[dim].length);\n    } else {\n      // Direct reference for other dimensions\n      storage[dim] = originalStorage[dim];\n    }\n  }\n\n  return list;\n}\n/**\n * Data mapping to a new List with given dimensions\n * @param {string|Array.<string>} dimensions\n * @param {Function} cb\n * @param {boolean} [stack=false]\n * @param {*} [context=this]\n * @return {Array}\n */\n\n\nlistProto.map = function (dimensions, cb, stack, context) {\n  dimensions = zrUtil.map(normalizeDimensions(dimensions), this.getDimension, this);\n  var list = cloneListForMapAndSample(this, dimensions); // Following properties are all immutable.\n  // So we can reference to the same value\n\n  var indices = list.indices = this.indices;\n  var storage = list._storage;\n  var tmpRetValue = [];\n  this.each(dimensions, function () {\n    var idx = arguments[arguments.length - 1];\n    var retValue = cb && cb.apply(this, arguments);\n\n    if (retValue != null) {\n      // a number\n      if (typeof retValue === 'number') {\n        tmpRetValue[0] = retValue;\n        retValue = tmpRetValue;\n      }\n\n      for (var i = 0; i < retValue.length; i++) {\n        var dim = dimensions[i];\n        var dimStore = storage[dim];\n        var rawIdx = indices[idx];\n\n        if (dimStore) {\n          dimStore[rawIdx] = retValue[i];\n        }\n      }\n    }\n  }, stack, context);\n  return list;\n};\n/**\n * Large data down sampling on given dimension\n * @param {string} dimension\n * @param {number} rate\n * @param {Function} sampleValue\n * @param {Function} sampleIndex Sample index for name and id\n */\n\n\nlistProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n  var list = cloneListForMapAndSample(this, [dimension]);\n  var storage = this._storage;\n  var targetStorage = list._storage;\n  var originalIndices = this.indices;\n  var indices = list.indices = [];\n  var frameValues = [];\n  var frameIndices = [];\n  var frameSize = Math.floor(1 / rate);\n  var dimStore = targetStorage[dimension];\n  var len = this.count(); // Copy data from original data\n\n  for (var i = 0; i < storage[dimension].length; i++) {\n    targetStorage[dimension][i] = storage[dimension][i];\n  }\n\n  for (var i = 0; i < len; i += frameSize) {\n    // Last frame\n    if (frameSize > len - i) {\n      frameSize = len - i;\n      frameValues.length = frameSize;\n    }\n\n    for (var k = 0; k < frameSize; k++) {\n      var idx = originalIndices[i + k];\n      frameValues[k] = dimStore[idx];\n      frameIndices[k] = idx;\n    }\n\n    var value = sampleValue(frameValues);\n    var idx = frameIndices[sampleIndex(frameValues, value) || 0]; // Only write value on the filtered data\n\n    dimStore[idx] = value;\n    indices.push(idx);\n  }\n\n  return list;\n};\n/**\n * Get model of one data item.\n *\n * @param {number} idx\n */\n// FIXME Model proxy ?\n\n\nlistProto.getItemModel = function (idx) {\n  var hostModel = this.hostModel;\n  idx = this.indices[idx];\n  return new Model(this._rawData.getItem(idx), hostModel, hostModel && hostModel.ecModel);\n};\n/**\n * Create a data differ\n * @param {module:echarts/data/List} otherList\n * @return {module:echarts/data/DataDiffer}\n */\n\n\nlistProto.diff = function (otherList) {\n  var idList = this._idList;\n  var otherIdList = otherList && otherList._idList;\n  var val; // Use prefix to avoid index to be the same as otherIdList[idx],\n  // which will cause weird udpate animation.\n\n  var prefix = 'e\\0\\0';\n  return new DataDiffer(otherList ? otherList.indices : [], this.indices, function (idx) {\n    return (val = otherIdList[idx]) != null ? val : prefix + idx;\n  }, function (idx) {\n    return (val = idList[idx]) != null ? val : prefix + idx;\n  });\n};\n/**\n * Get visual property.\n * @param {string} key\n */\n\n\nlistProto.getVisual = function (key) {\n  var visual = this._visual;\n  return visual && visual[key];\n};\n/**\n * Set visual property\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setVisual('color', color);\n *  setVisual({\n *      'color': color\n *  });\n */\n\n\nlistProto.setVisual = function (key, val) {\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        this.setVisual(name, key[name]);\n      }\n    }\n\n    return;\n  }\n\n  this._visual = this._visual || {};\n  this._visual[key] = val;\n};\n/**\n * Set layout property.\n * @param {string|Object} key\n * @param {*} [val]\n */\n\n\nlistProto.setLayout = function (key, val) {\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        this.setLayout(name, key[name]);\n      }\n    }\n\n    return;\n  }\n\n  this._layout[key] = val;\n};\n/**\n * Get layout property.\n * @param  {string} key.\n * @return {*}\n */\n\n\nlistProto.getLayout = function (key) {\n  return this._layout[key];\n};\n/**\n * Get layout of single data item\n * @param {number} idx\n */\n\n\nlistProto.getItemLayout = function (idx) {\n  return this._itemLayouts[idx];\n};\n/**\n * Set layout of single data item\n * @param {number} idx\n * @param {Object} layout\n * @param {boolean=} [merge=false]\n */\n\n\nlistProto.setItemLayout = function (idx, layout, merge) {\n  this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n};\n/**\n * Clear all layout of single data item\n */\n\n\nlistProto.clearItemLayouts = function () {\n  this._itemLayouts.length = 0;\n};\n/**\n * Get visual property of single data item\n * @param {number} idx\n * @param {string} key\n * @param {boolean} [ignoreParent=false]\n */\n\n\nlistProto.getItemVisual = function (idx, key, ignoreParent) {\n  var itemVisual = this._itemVisuals[idx];\n  var val = itemVisual && itemVisual[key];\n\n  if (val == null && !ignoreParent) {\n    // Use global visual property\n    return this.getVisual(key);\n  }\n\n  return val;\n};\n/**\n * Set visual property of single data item\n *\n * @param {number} idx\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setItemVisual(0, 'color', color);\n *  setItemVisual(0, {\n *      'color': color\n *  });\n */\n\n\nlistProto.setItemVisual = function (idx, key, value) {\n  var itemVisual = this._itemVisuals[idx] || {};\n  this._itemVisuals[idx] = itemVisual;\n\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        itemVisual[name] = key[name];\n      }\n    }\n\n    return;\n  }\n\n  itemVisual[key] = value;\n};\n/**\n * Clear itemVisuals and list visual.\n */\n\n\nlistProto.clearAllVisual = function () {\n  this._visual = {};\n  this._itemVisuals = [];\n};\n\nvar setItemDataAndSeriesIndex = function (child) {\n  child.seriesIndex = this.seriesIndex;\n  child.dataIndex = this.dataIndex;\n  child.dataType = this.dataType;\n};\n/**\n * Set graphic element relative to data. It can be set as null\n * @param {number} idx\n * @param {module:zrender/Element} [el]\n */\n\n\nlistProto.setItemGraphicEl = function (idx, el) {\n  var hostModel = this.hostModel;\n\n  if (el) {\n    // Add data index and series index for indexing the data by element\n    // Useful in tooltip\n    el.dataIndex = idx;\n    el.dataType = this.dataType;\n    el.seriesIndex = hostModel && hostModel.seriesIndex;\n\n    if (el.type === 'group') {\n      el.traverse(setItemDataAndSeriesIndex, el);\n    }\n  }\n\n  this._graphicEls[idx] = el;\n};\n/**\n * @param {number} idx\n * @return {module:zrender/Element}\n */\n\n\nlistProto.getItemGraphicEl = function (idx) {\n  return this._graphicEls[idx];\n};\n/**\n * @param {Function} cb\n * @param {*} context\n */\n\n\nlistProto.eachItemGraphicEl = function (cb, context) {\n  zrUtil.each(this._graphicEls, function (el, idx) {\n    if (el) {\n      cb && cb.call(context, el, idx);\n    }\n  });\n};\n/**\n * Shallow clone a new list except visual and layout properties, and graph elements.\n * New list only change the indices.\n */\n\n\nlistProto.cloneShallow = function () {\n  var dimensionInfoList = zrUtil.map(this.dimensions, this.getDimensionInfo, this);\n  var list = new List(dimensionInfoList, this.hostModel); // FIXME\n\n  list._storage = this._storage;\n  transferProperties(list, this); // Clone will not change the data extent and indices\n\n  list.indices = this.indices.slice();\n\n  if (this._extent) {\n    list._extent = zrUtil.extend({}, this._extent);\n  }\n\n  return list;\n};\n/**\n * Wrap some method to add more feature\n * @param {string} methodName\n * @param {Function} injectFunction\n */\n\n\nlistProto.wrapMethod = function (methodName, injectFunction) {\n  var originalMethod = this[methodName];\n\n  if (typeof originalMethod !== 'function') {\n    return;\n  }\n\n  this.__wrappedMethods = this.__wrappedMethods || [];\n\n  this.__wrappedMethods.push(methodName);\n\n  this[methodName] = function () {\n    var res = originalMethod.apply(this, arguments);\n    return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n  };\n}; // Methods that create a new list based on this list should be listed here.\n// Notice that those method should `RETURN` the new list.\n\n\nlistProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map']; // Methods that change indices of this list should be listed here.\n\nlistProto.CHANGABLE_METHODS = ['filterSelf'];\nvar _default = List;\nmodule.exports = _default;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(91)))\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar _format = __webpack_require__(8);\n\nvar formatTime = _format.formatTime;\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\nvar getTooltipMarker = _format.getTooltipMarker;\n\nvar _clazz = __webpack_require__(24);\n\nvar set = _clazz.set;\nvar get = _clazz.get;\n\nvar modelUtil = __webpack_require__(5);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar colorPaletteMixin = __webpack_require__(108);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar SeriesModel = ComponentModel.extend({\n  type: 'series.__base__',\n\n  /**\n   * @readOnly\n   */\n  seriesIndex: 0,\n  // coodinateSystem will be injected in the echarts/CoordinateSystem\n  coordinateSystem: null,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * Data provided for legend\n   * @type {Function}\n   */\n  // PENDING\n  legendDataProvider: null,\n\n  /**\n   * Access path of color for visual\n   */\n  visualColorAccessPath: 'itemStyle.normal.color',\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  init: function (option, parentModel, ecModel, extraOpt) {\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.seriesIndex = this.componentIndex;\n    this.mergeDefaultAndTheme(option, ecModel);\n    var data = this.getInitialData(option, ecModel);\n\n    /**\n     * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n     * @private\n     */\n    set(this, 'dataBeforeProcessed', data); // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkList\n\n    this.restoreData();\n  },\n\n  /**\n   * Util for merge default and theme to option\n   * @param  {Object} option\n   * @param  {module:echarts/model/Global} ecModel\n   */\n  mergeDefaultAndTheme: function (option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option.label, ['show']);\n    this.fillDataTextStyle(option.data);\n\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function (newSeriesOption, ecModel) {\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n\n    var data = this.getInitialData(newSeriesOption, ecModel); // TODO Merge data?\n\n    if (data) {\n      set(this, 'data', data);\n      set(this, 'dataBeforeProcessed', data.cloneShallow());\n    }\n  },\n  fillDataTextStyle: function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data) {\n      var props = ['show'];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i].label, props);\n        }\n      }\n    }\n  },\n\n  /**\n   * Init a data structure from data related option in series\n   * Must be overwritten\n   */\n  getInitialData: function () {},\n\n  /**\n   * @param {string} [dataType]\n   * @return {module:echarts/data/List}\n   */\n  getData: function (dataType) {\n    var data = get(this, 'data');\n    return dataType == null ? data : data.getLinkedData(dataType);\n  },\n\n  /**\n   * @param {module:echarts/data/List} data\n   */\n  setData: function (data) {\n    set(this, 'data', data);\n  },\n\n  /**\n   * Get data before processed\n   * @return {module:echarts/data/List}\n   */\n  getRawData: function () {\n    return get(this, 'dataBeforeProcessed');\n  },\n\n  /**\n   * Coord dimension to data dimension.\n   *\n   * By default the result is the same as dimensions of series data.\n   * But in some series data dimensions are different from coord dimensions (i.e.\n   * candlestick and boxplot). Override this method to handle those cases.\n   *\n   * Coord dimension to data dimension can be one-to-many\n   *\n   * @param {string} coordDim\n   * @return {Array.<string>} dimensions on the axis.\n   */\n  coordDimToDataDim: function (coordDim) {\n    return modelUtil.coordDimToDataDim(this.getData(), coordDim);\n  },\n\n  /**\n   * Convert data dimension to coord dimension.\n   *\n   * @param {string|number} dataDim\n   * @return {string}\n   */\n  dataDimToCoordDim: function (dataDim) {\n    return modelUtil.dataDimToCoordDim(this.getData(), dataDim);\n  },\n\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overrided for some chart.\n   * @return {type} description\n   */\n  getBaseAxis: function () {\n    var coordSys = this.coordinateSystem;\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  },\n  // FIXME\n\n  /**\n   * Default tooltip formatter\n   *\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    function formatArrayValue(value) {\n      var vertially = zrUtil.reduce(value, function (vertially, val, idx) {\n        var dimItem = data.getDimensionInfo(idx);\n        return vertially |= dimItem && dimItem.tooltip !== false && dimItem.tooltipName != null;\n      }, 0);\n      var result = [];\n      var tooltipDims = modelUtil.otherDimToDataDim(data, 'tooltip');\n      tooltipDims.length ? zrUtil.each(tooltipDims, function (dimIdx) {\n        setEachItem(data.get(dimIdx, dataIndex), dimIdx);\n      }) // By default, all dims is used on tooltip.\n      : zrUtil.each(value, setEachItem);\n\n      function setEachItem(val, dimIdx) {\n        var dimInfo = data.getDimensionInfo(dimIdx); // If `dimInfo.tooltip` is not set, show tooltip.\n\n        if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n          return;\n        }\n\n        var dimType = dimInfo.type;\n        var valStr = (vertially ? '- ' + (dimInfo.tooltipName || dimInfo.name) + ': ' : '') + (dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : formatTime('yyyy/MM/dd hh:mm:ss', val) : addCommas(val));\n        valStr && result.push(encodeHTML(valStr));\n      }\n\n      return (vertially ? '<br/>' : '') + result.join(vertially ? '<br/>' : ', ');\n    }\n\n    var data = get(this, 'data');\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? formatArrayValue(value) : encodeHTML(addCommas(value));\n    var name = data.getName(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n\n    if (zrUtil.isObject(color) && color.colorStops) {\n      color = (color.colorStops[0] || {}).color;\n    }\n\n    color = color || 'transparent';\n    var colorEl = getTooltipMarker(color);\n    var seriesName = this.name; // FIXME\n\n    if (seriesName === '\\0-') {\n      // Not show '-'\n      seriesName = '';\n    }\n\n    seriesName = seriesName ? encodeHTML(seriesName) + (!multipleSeries ? '<br/>' : ': ') : '';\n    return !multipleSeries ? seriesName + colorEl + (name ? encodeHTML(name) + ': ' + formattedValue : formattedValue) : colorEl + seriesName + formattedValue;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var animationEnabled = this.getShallow('animation');\n\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n\n    return animationEnabled;\n  },\n  restoreData: function () {\n    set(this, 'data', get(this, 'dataBeforeProcessed').cloneShallow());\n  },\n  getColorFromPalette: function (name, scope) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = colorPaletteMixin.getColorFromPalette.call(this, name, scope);\n\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope);\n    }\n\n    return color;\n  },\n\n  /**\n   * Get data indices for show tooltip content. See tooltip.\n   * @abstract\n   * @param {Array.<string>|string} dim\n   * @param {Array.<number>} value\n   * @param {module:echarts/coord/single/SingleAxis} baseAxis\n   * @return {Object} {dataIndices, nestestValue}.\n   */\n  getAxisTooltipData: null,\n\n  /**\n   * See tooltip.\n   * @abstract\n   * @param {number} dataIndex\n   * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n   */\n  getTooltipPosition: null\n});\nzrUtil.mixin(SeriesModel, modelUtil.dataFormatMixin);\nzrUtil.mixin(SeriesModel, colorPaletteMixin);\nvar _default = SeriesModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n/**\n * 3x2\n * @exports zrender/tool/matrix\n */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * \n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(20);\n\nvar OrdinalScale = __webpack_require__(210);\n\nvar IntervalScale = __webpack_require__(58);\n\nvar Scale = __webpack_require__(57);\n\nvar numberUtil = __webpack_require__(3);\n\n__webpack_require__(211);\n\n__webpack_require__(212);\n\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n */\nfunction getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var min = model.getMin();\n  var max = model.getMax();\n  var fixMin = min != null;\n  var fixMax = max != null;\n  var originalExtent = scale.getExtent();\n  var axisDataLen;\n  var boundaryGap;\n  var span;\n\n  if (scaleType === 'ordinal') {\n    axisDataLen = (model.get('data') || []).length;\n  } else {\n    boundaryGap = model.get('boundaryGap');\n\n    if (!zrUtil.isArray(boundaryGap)) {\n      boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n    }\n\n    if (typeof boundaryGap[0] === 'boolean') {\n      boundaryGap = [0, 0];\n    }\n\n    boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], 1);\n    boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], 1);\n    span = originalExtent[1] - originalExtent[0] || Math.abs(originalExtent[0]);\n  } // Notice: When min/max is not set (that is, when there are null/undefined,\n  // which is the most common case), these cases should be ensured:\n  // (1) For 'ordinal', show all axis.data.\n  // (2) For others:\n  //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n  //      disabled).\n  //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n  //      be the result that originalExtent enlarged by boundaryGap.\n  // (3) If no data, it should be ensured that `scale.setBlank` is set.\n  // FIXME\n  // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n  // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n  // that the results processed by boundaryGap are positive/negative?\n\n\n  if (min == null) {\n    min = scaleType === 'ordinal' ? axisDataLen ? 0 : NaN : originalExtent[0] - boundaryGap[0] * span;\n  }\n\n  if (max == null) {\n    max = scaleType === 'ordinal' ? axisDataLen ? axisDataLen - 1 : NaN : originalExtent[1] + boundaryGap[1] * span;\n  }\n\n  if (min === 'dataMin') {\n    min = originalExtent[0];\n  } else if (typeof min === 'function') {\n    min = min({\n      min: originalExtent[0],\n      max: originalExtent[1]\n    });\n  }\n\n  if (max === 'dataMax') {\n    max = originalExtent[1];\n  } else if (typeof max === 'function') {\n    max = max({\n      min: originalExtent[0],\n      max: originalExtent[1]\n    });\n  }\n\n  (min == null || !isFinite(min)) && (min = NaN);\n  (max == null || !isFinite(max)) && (max = NaN);\n  scale.setBlank(zrUtil.eqNaN(min) || zrUtil.eqNaN(max)); // Evaluate if axis needs cross zero\n\n  if (model.getNeedCrossZero()) {\n    // Axis is over zero and min is not set\n    if (min > 0 && max > 0 && !fixMin) {\n      min = 0;\n    } // Axis is under zero and max is not set\n\n\n    if (min < 0 && max < 0 && !fixMax) {\n      max = 0;\n    }\n  }\n\n  return [min, max];\n}\n\nfunction niceScaleExtent(scale, model) {\n  var extent = getScaleExtent(scale, model);\n  var fixMin = model.getMin() != null;\n  var fixMax = model.getMax() != null;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale.type === 'log') {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  scale.setExtent(extent[0], extent[1]);\n  scale.niceExtent({\n    splitNumber: splitNumber,\n    fixMin: fixMin,\n    fixMax: fixMax,\n    minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n    maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  var interval = model.get('interval');\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param {module:echarts/model/Model} model\n * @param {string} [axisType] Default retrieve from model.type\n * @return {module:echarts/scale/*}\n */\n\n\nfunction createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale(model.getCategories(), [Infinity, -Infinity]);\n\n      case 'value':\n        return new IntervalScale();\n      // Extended scale, like time and log\n\n      default:\n        return (Scale.getClass(axisType) || IntervalScale).create(model);\n    }\n  }\n}\n/**\n * Check if the axis corss 0\n */\n\n\nfunction ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param {Array.<number>} tickCoords In axis self coordinate.\n * @param {Array.<string>} labels\n * @param {string} font\n * @param {number} axisRotate 0: towards right horizontally, clock-wise is negative.\n * @param {number} [labelRotate=0] 0: towards right horizontally, clock-wise is negative.\n * @return {number}\n */\n\n\nfunction getAxisLabelInterval(tickCoords, labels, font, axisRotate, labelRotate) {\n  var textSpaceTakenRect;\n  var autoLabelInterval = 0;\n  var accumulatedLabelInterval = 0;\n  var rotation = (axisRotate - labelRotate) / 180 * Math.PI;\n  var step = 1;\n\n  if (labels.length > 40) {\n    // Simple optimization for large amount of labels\n    step = Math.floor(labels.length / 40);\n  }\n\n  for (var i = 0; i < tickCoords.length; i += step) {\n    var tickCoord = tickCoords[i]; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labels[i], font, 'center', 'top');\n    rect.x += tickCoord * Math.cos(rotation);\n    rect.y += tickCoord * Math.sin(rotation); // Magic number\n\n    rect.width *= 1.3;\n    rect.height *= 1.3;\n\n    if (!textSpaceTakenRect) {\n      textSpaceTakenRect = rect.clone();\n    } // There is no space for current label;\n    else if (textSpaceTakenRect.intersect(rect)) {\n        accumulatedLabelInterval++;\n        autoLabelInterval = Math.max(autoLabelInterval, accumulatedLabelInterval);\n      } else {\n        textSpaceTakenRect.union(rect); // Reset\n\n        accumulatedLabelInterval = 0;\n      }\n  }\n\n  if (autoLabelInterval === 0 && step > 1) {\n    return step;\n  }\n\n  return (autoLabelInterval + 1) * step - 1;\n}\n/**\n * @param {Object} axis\n * @param {Function} labelFormatter\n * @return {Array.<string>}\n */\n\n\nfunction getFormattedLabels(axis, labelFormatter) {\n  var scale = axis.scale;\n  var labels = scale.getTicksLabels();\n  var ticks = scale.getTicks();\n\n  if (typeof labelFormatter === 'string') {\n    labelFormatter = function (tpl) {\n      return function (val) {\n        return tpl.replace('{value}', val != null ? val : '');\n      };\n    }(labelFormatter); // Consider empty array\n\n\n    return zrUtil.map(labels, labelFormatter);\n  } else if (typeof labelFormatter === 'function') {\n    return zrUtil.map(ticks, function (tick, idx) {\n      return labelFormatter(getAxisRawValue(axis, tick), idx);\n    }, this);\n  } else {\n    return labels;\n  }\n}\n\nfunction getAxisRawValue(axis, value) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n}\n\nexports.getScaleExtent = getScaleExtent;\nexports.niceScaleExtent = niceScaleExtent;\nexports.createScaleByModel = createScaleByModel;\nexports.ifAxisCrossZero = ifAxisCrossZero;\nexports.getAxisLabelInterval = getAxisLabelInterval;\nexports.getFormattedLabels = getFormattedLabels;\nexports.getAxisRawValue = getAxisRawValue;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar BoundingRect = __webpack_require__(9);\n\n// Symbol factory\n\n/**\n * Triangle shape\n * @inner\n */\nvar Triangle = graphic.extendShape({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\n\nvar Diamond = graphic.extendShape({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\n\nvar Pin = graphic.extendShape({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3; // Height must be larger than width\n\n    var h = Math.max(w, shape.height);\n    var r = w / 2; // Dist on y with tangent point and circle center\n\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\n\nvar Arrow = graphic.extendShape({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path contructors\n * @type {Object.<string, module:zrender/graphic/Path>}\n */\n\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    // FIXME\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nvar symbolBuildProxies = {};\nzrUtil.each(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.extendShape({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  beforeBrush: function () {\n    var style = this.style;\n    var shape = this.shape; // FIXME\n\n    if (shape.symbolType === 'pin' && style.textPosition === 'inside') {\n      style.textPosition = ['50%', '40%'];\n      style.textAlign = 'center';\n      style.textVerticalAlign = 'middle';\n    }\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n    var proxySymbol = symbolBuildProxies[symbolType];\n\n    if (shape.symbolType !== 'none') {\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    var symbolShape = this.shape;\n\n    if (symbolShape && symbolShape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff';\n    } else {\n      // FIXME  onlyStroke ?\n      symbolStyle.fill && (symbolStyle.fill = color);\n      symbolStyle.stroke && (symbolStyle.stroke = color);\n    }\n\n    this.dirty(false);\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n * @param {string} symbolType\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {string} color\n * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n *                            for path and image only.\n */\n\n\nfunction createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n\n  var symbolPath;\n\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n\n  symbolPath.__isEmptyBrush = isEmpty;\n  symbolPath.setColor = symbolPathSetColor;\n  symbolPath.setColor(color);\n  return symbolPath;\n}\n\nexports.createSymbol = createSymbol;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _model = __webpack_require__(5);\n\nvar normalizeToArray = _model.normalizeToArray;\n\n/**\n * Complete dimensions by data (guess dimension).\n */\nvar each = zrUtil.each;\nvar isString = zrUtil.isString;\nvar defaults = zrUtil.defaults;\nvar OTHER_DIMS = {\n  tooltip: 1,\n  label: 1,\n  itemName: 1\n};\n/**\n * Complete the dimensions array, by user defined `dimension` and `encode`,\n * and guessing from the data structure.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n *      provides not only dim template, but also default order.\n *      `name` of each item provides default coord name.\n *      [{dimsDef: []}, ...] can be specified to give names.\n * @param {Array} data Data list. [[1, 2, 3], [2, 3, 4]].\n * @param {Object} [opt]\n * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n *      For example: ['asdf', {name, type}, ...].\n * @param {Object} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n * @param {string} [opt.extraPrefix] Prefix of name when filling the left dimensions.\n * @param {string} [opt.extraFromZero] If specified, extra dim names will be:\n *                      extraPrefix + 0, extraPrefix + extraBaseIndex + 1 ...\n *                      If not specified, extra dim names will be:\n *                      extraPrefix, extraPrefix + 0, extraPrefix + 1 ...\n * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n * @return {Array.<Object>} [{\n *      name: string mandatory,\n *      coordDim: string mandatory,\n *      coordDimIndex: number mandatory,\n *      type: string optional,\n *      tooltipName: string optional,\n *      otherDims: {\n *          tooltip: number optional,\n *          label: number optional\n *      },\n *      isExtraCoord: boolean true or undefined.\n *      other props ...\n * }]\n */\n\nfunction completeDimensions(sysDims, data, opt) {\n  data = data || [];\n  opt = opt || {};\n  sysDims = (sysDims || []).slice();\n  var dimsDef = (opt.dimsDef || []).slice();\n  var encodeDef = zrUtil.createHashMap(opt.encodeDef);\n  var dataDimNameMap = zrUtil.createHashMap();\n  var coordDimNameMap = zrUtil.createHashMap(); // var valueCandidate;\n\n  var result = [];\n  var dimCount = opt.dimCount;\n\n  if (dimCount == null) {\n    var value0 = retrieveValue(data[0]);\n    dimCount = Math.max(zrUtil.isArray(value0) && value0.length || 1, sysDims.length, dimsDef.length);\n    each(sysDims, function (sysDimItem) {\n      var sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n    });\n  } // Apply user defined dims (`name` and `type`) and init result.\n\n\n  for (var i = 0; i < dimCount; i++) {\n    var dimDefItem = isString(dimsDef[i]) ? {\n      name: dimsDef[i]\n    } : dimsDef[i] || {};\n    var userDimName = dimDefItem.name;\n    var resultItem = result[i] = {\n      otherDims: {}\n    }; // Name will be applied later for avoiding duplication.\n\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      // Only if `series.dimensions` is defined in option, tooltipName\n      // will be set, and dimension will be diplayed vertically in\n      // tooltip by default.\n      resultItem.name = resultItem.tooltipName = userDimName;\n      dataDimNameMap.set(userDimName, i);\n    }\n\n    dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n  } // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n\n  encodeDef.each(function (dataDims, coordDim) {\n    dataDims = encodeDef.set(coordDim, normalizeToArray(dataDims).slice());\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      // The input resultDimIdx can be dim name or index.\n      isString(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n      if (resultDimIdx != null && resultDimIdx < dimCount) {\n        dataDims[coordDimIndex] = resultDimIdx;\n        applyDim(result[resultDimIdx], coordDim, coordDimIndex);\n      }\n    });\n  }); // Apply templetes and default order from `sysDims`.\n\n  var availDimIdx = 0;\n  each(sysDims, function (sysDimItem, sysDimIndex) {\n    var coordDim;\n    var sysDimItem;\n    var sysDimItemDimsDef;\n    var sysDimItemOtherDims;\n\n    if (isString(sysDimItem)) {\n      coordDim = sysDimItem;\n      sysDimItem = {};\n    } else {\n      coordDim = sysDimItem.name;\n      sysDimItem = zrUtil.clone(sysDimItem); // `coordDimIndex` should not be set directly.\n\n      sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemOtherDims = sysDimItem.otherDims;\n      sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n    }\n\n    var dataDims = normalizeToArray(encodeDef.get(coordDim)); // dimensions provides default dim sequences.\n\n    if (!dataDims.length) {\n      for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n        while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n          availDimIdx++;\n        }\n\n        availDimIdx < result.length && dataDims.push(availDimIdx++);\n      }\n    } // Apply templates.\n\n\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      var resultItem = result[resultDimIdx];\n      applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n      if (resultItem.name == null && sysDimItemDimsDef) {\n        resultItem.name = resultItem.tooltipName = sysDimItemDimsDef[coordDimIndex];\n      }\n\n      sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n    });\n  }); // Make sure the first extra dim is 'value'.\n\n  var extra = opt.extraPrefix || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n  for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n    var resultItem = result[resultDimIdx] = result[resultDimIdx] || {};\n    var coordDim = resultItem.coordDim;\n    coordDim == null && (resultItem.coordDim = genName(extra, coordDimNameMap, opt.extraFromZero), resultItem.coordDimIndex = 0, resultItem.isExtraCoord = true);\n    resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n    resultItem.type == null && guessOrdinal(data, resultDimIdx) && (resultItem.type = 'ordinal');\n  }\n\n  return result;\n\n  function applyDim(resultItem, coordDim, coordDimIndex) {\n    if (OTHER_DIMS[coordDim]) {\n      resultItem.otherDims[coordDim] = coordDimIndex;\n    } else {\n      resultItem.coordDim = coordDim;\n      resultItem.coordDimIndex = coordDimIndex;\n      coordDimNameMap.set(coordDim, true);\n    }\n  }\n\n  function genName(name, map, fromZero) {\n    if (fromZero || map.get(name) != null) {\n      var i = 0;\n\n      while (map.get(name + i) != null) {\n        i++;\n      }\n\n      name += i;\n    }\n\n    map.set(name, true);\n    return name;\n  }\n} // The rule should not be complex, otherwise user might not\n// be able to known where the data is wrong.\n\n\nvar guessOrdinal = completeDimensions.guessOrdinal = function (data, dimIndex) {\n  for (var i = 0, len = data.length; i < len; i++) {\n    var value = retrieveValue(data[i]);\n\n    if (!zrUtil.isArray(value)) {\n      return false;\n    }\n\n    var value = value[dimIndex]; // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `isFinit('')` get `true`.\n\n    if (value != null && isFinite(value) && value !== '') {\n      return false;\n    } else if (isString(value) && value !== '-') {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nfunction retrieveValue(o) {\n  return zrUtil.isArray(o) ? o : zrUtil.isObject(o) ? o.value : o;\n}\n\nvar _default = completeDimensions;\nmodule.exports = _default;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BoundingRect = __webpack_require__(9);\n\nvar imageHelper = __webpack_require__(70);\n\nvar _util = __webpack_require__(0);\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var x = rect.x;\n  var y = rect.y;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  return {\n    x: x,\n    y: y,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight}\n *  Notice: for performance, do not calculate outerWidth util needed.\n */\n\n\nfunction parsePlainText(text, font, padding, truncate) {\n  text != null && (text += '');\n  var lineHeight = getLineHeight(font);\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  return (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ') || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar coordinateSystemCreators = {};\n\nfunction CoordinateSystemManager() {\n  this._coordinateSystems = [];\n}\n\nCoordinateSystemManager.prototype = {\n  constructor: CoordinateSystemManager,\n  create: function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creater, type) {\n      var list = creater.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  },\n  update: function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      // FIXME MUST have\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  },\n  getCoordinateSystems: function () {\n    return this._coordinateSystems.slice();\n  }\n};\n\nCoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n  coordinateSystemCreators[type] = coordinateSystemCreator;\n};\n\nCoordinateSystemManager.get = function (type) {\n  return coordinateSystemCreators[type];\n};\n\nvar _default = CoordinateSystemManager;\nmodule.exports = _default;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar LRU = __webpack_require__(95);\n\nvar kCSSColorTable = {\n  'transparent': [0, 0, 0, 0],\n  'aliceblue': [240, 248, 255, 1],\n  'antiquewhite': [250, 235, 215, 1],\n  'aqua': [0, 255, 255, 1],\n  'aquamarine': [127, 255, 212, 1],\n  'azure': [240, 255, 255, 1],\n  'beige': [245, 245, 220, 1],\n  'bisque': [255, 228, 196, 1],\n  'black': [0, 0, 0, 1],\n  'blanchedalmond': [255, 235, 205, 1],\n  'blue': [0, 0, 255, 1],\n  'blueviolet': [138, 43, 226, 1],\n  'brown': [165, 42, 42, 1],\n  'burlywood': [222, 184, 135, 1],\n  'cadetblue': [95, 158, 160, 1],\n  'chartreuse': [127, 255, 0, 1],\n  'chocolate': [210, 105, 30, 1],\n  'coral': [255, 127, 80, 1],\n  'cornflowerblue': [100, 149, 237, 1],\n  'cornsilk': [255, 248, 220, 1],\n  'crimson': [220, 20, 60, 1],\n  'cyan': [0, 255, 255, 1],\n  'darkblue': [0, 0, 139, 1],\n  'darkcyan': [0, 139, 139, 1],\n  'darkgoldenrod': [184, 134, 11, 1],\n  'darkgray': [169, 169, 169, 1],\n  'darkgreen': [0, 100, 0, 1],\n  'darkgrey': [169, 169, 169, 1],\n  'darkkhaki': [189, 183, 107, 1],\n  'darkmagenta': [139, 0, 139, 1],\n  'darkolivegreen': [85, 107, 47, 1],\n  'darkorange': [255, 140, 0, 1],\n  'darkorchid': [153, 50, 204, 1],\n  'darkred': [139, 0, 0, 1],\n  'darksalmon': [233, 150, 122, 1],\n  'darkseagreen': [143, 188, 143, 1],\n  'darkslateblue': [72, 61, 139, 1],\n  'darkslategray': [47, 79, 79, 1],\n  'darkslategrey': [47, 79, 79, 1],\n  'darkturquoise': [0, 206, 209, 1],\n  'darkviolet': [148, 0, 211, 1],\n  'deeppink': [255, 20, 147, 1],\n  'deepskyblue': [0, 191, 255, 1],\n  'dimgray': [105, 105, 105, 1],\n  'dimgrey': [105, 105, 105, 1],\n  'dodgerblue': [30, 144, 255, 1],\n  'firebrick': [178, 34, 34, 1],\n  'floralwhite': [255, 250, 240, 1],\n  'forestgreen': [34, 139, 34, 1],\n  'fuchsia': [255, 0, 255, 1],\n  'gainsboro': [220, 220, 220, 1],\n  'ghostwhite': [248, 248, 255, 1],\n  'gold': [255, 215, 0, 1],\n  'goldenrod': [218, 165, 32, 1],\n  'gray': [128, 128, 128, 1],\n  'green': [0, 128, 0, 1],\n  'greenyellow': [173, 255, 47, 1],\n  'grey': [128, 128, 128, 1],\n  'honeydew': [240, 255, 240, 1],\n  'hotpink': [255, 105, 180, 1],\n  'indianred': [205, 92, 92, 1],\n  'indigo': [75, 0, 130, 1],\n  'ivory': [255, 255, 240, 1],\n  'khaki': [240, 230, 140, 1],\n  'lavender': [230, 230, 250, 1],\n  'lavenderblush': [255, 240, 245, 1],\n  'lawngreen': [124, 252, 0, 1],\n  'lemonchiffon': [255, 250, 205, 1],\n  'lightblue': [173, 216, 230, 1],\n  'lightcoral': [240, 128, 128, 1],\n  'lightcyan': [224, 255, 255, 1],\n  'lightgoldenrodyellow': [250, 250, 210, 1],\n  'lightgray': [211, 211, 211, 1],\n  'lightgreen': [144, 238, 144, 1],\n  'lightgrey': [211, 211, 211, 1],\n  'lightpink': [255, 182, 193, 1],\n  'lightsalmon': [255, 160, 122, 1],\n  'lightseagreen': [32, 178, 170, 1],\n  'lightskyblue': [135, 206, 250, 1],\n  'lightslategray': [119, 136, 153, 1],\n  'lightslategrey': [119, 136, 153, 1],\n  'lightsteelblue': [176, 196, 222, 1],\n  'lightyellow': [255, 255, 224, 1],\n  'lime': [0, 255, 0, 1],\n  'limegreen': [50, 205, 50, 1],\n  'linen': [250, 240, 230, 1],\n  'magenta': [255, 0, 255, 1],\n  'maroon': [128, 0, 0, 1],\n  'mediumaquamarine': [102, 205, 170, 1],\n  'mediumblue': [0, 0, 205, 1],\n  'mediumorchid': [186, 85, 211, 1],\n  'mediumpurple': [147, 112, 219, 1],\n  'mediumseagreen': [60, 179, 113, 1],\n  'mediumslateblue': [123, 104, 238, 1],\n  'mediumspringgreen': [0, 250, 154, 1],\n  'mediumturquoise': [72, 209, 204, 1],\n  'mediumvioletred': [199, 21, 133, 1],\n  'midnightblue': [25, 25, 112, 1],\n  'mintcream': [245, 255, 250, 1],\n  'mistyrose': [255, 228, 225, 1],\n  'moccasin': [255, 228, 181, 1],\n  'navajowhite': [255, 222, 173, 1],\n  'navy': [0, 0, 128, 1],\n  'oldlace': [253, 245, 230, 1],\n  'olive': [128, 128, 0, 1],\n  'olivedrab': [107, 142, 35, 1],\n  'orange': [255, 165, 0, 1],\n  'orangered': [255, 69, 0, 1],\n  'orchid': [218, 112, 214, 1],\n  'palegoldenrod': [238, 232, 170, 1],\n  'palegreen': [152, 251, 152, 1],\n  'paleturquoise': [175, 238, 238, 1],\n  'palevioletred': [219, 112, 147, 1],\n  'papayawhip': [255, 239, 213, 1],\n  'peachpuff': [255, 218, 185, 1],\n  'peru': [205, 133, 63, 1],\n  'pink': [255, 192, 203, 1],\n  'plum': [221, 160, 221, 1],\n  'powderblue': [176, 224, 230, 1],\n  'purple': [128, 0, 128, 1],\n  'red': [255, 0, 0, 1],\n  'rosybrown': [188, 143, 143, 1],\n  'royalblue': [65, 105, 225, 1],\n  'saddlebrown': [139, 69, 19, 1],\n  'salmon': [250, 128, 114, 1],\n  'sandybrown': [244, 164, 96, 1],\n  'seagreen': [46, 139, 87, 1],\n  'seashell': [255, 245, 238, 1],\n  'sienna': [160, 82, 45, 1],\n  'silver': [192, 192, 192, 1],\n  'skyblue': [135, 206, 235, 1],\n  'slateblue': [106, 90, 205, 1],\n  'slategray': [112, 128, 144, 1],\n  'slategrey': [112, 128, 144, 1],\n  'snow': [255, 250, 250, 1],\n  'springgreen': [0, 255, 127, 1],\n  'steelblue': [70, 130, 180, 1],\n  'tan': [210, 180, 140, 1],\n  'teal': [0, 128, 128, 1],\n  'thistle': [216, 191, 216, 1],\n  'tomato': [255, 99, 71, 1],\n  'turquoise': [64, 224, 208, 1],\n  'violet': [238, 130, 238, 1],\n  'wheat': [245, 222, 179, 1],\n  'white': [255, 255, 255, 1],\n  'whitesmoke': [245, 245, 245, 1],\n  'yellow': [255, 255, 0, 1],\n  'yellowgreen': [154, 205, 50, 1]\n};\n\nfunction clampCssByte(i) {\n  // Clamp to integer 0 .. 255.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {\n  // Clamp to integer 0 .. 360.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {\n  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {\n  // int or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssByte(parseFloat(str) / 100 * 255);\n  }\n\n  return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {\n  // float or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssFloat(parseFloat(str) / 100);\n  }\n\n  return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n  if (h < 0) {\n    h += 1;\n  } else if (h > 1) {\n    h -= 1;\n  }\n\n  if (h * 6 < 1) {\n    return m1 + (m2 - m1) * h * 6;\n  }\n\n  if (h * 2 < 1) {\n    return m2;\n  }\n\n  if (h * 3 < 2) {\n    return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n  }\n\n  return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n  return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n  out[0] = r;\n  out[1] = g;\n  out[2] = b;\n  out[3] = a;\n  return out;\n}\n\nfunction copyRgba(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n  // Reuse removed array\n  if (lastRemovedArr) {\n    copyRgba(lastRemovedArr, rgbaArr);\n  }\n\n  lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n}\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction parse(colorStr, rgbaArr) {\n  if (!colorStr) {\n    return;\n  }\n\n  rgbaArr = rgbaArr || [];\n  var cached = colorCache.get(colorStr);\n\n  if (cached) {\n    return copyRgba(rgbaArr, cached);\n  } // colorStr may be not string\n\n\n  colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n  var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n  if (str in kCSSColorTable) {\n    copyRgba(rgbaArr, kCSSColorTable[str]);\n    putToCache(colorStr, rgbaArr);\n    return rgbaArr;\n  } // #abc and #abc123 syntax.\n\n\n  if (str.charAt(0) === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xfff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xffffff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    }\n\n    return;\n  }\n\n  var op = str.indexOf('('),\n      ep = str.indexOf(')');\n\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op + 1, ep - (op + 1)).split(',');\n    var alpha = 1; // To allow case fallthrough.\n\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        alpha = parseCssFloat(params.pop());\n      // jshint ignore:line\n      // Fall through.\n\n      case 'rgb':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsla':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        params[3] = parseCssFloat(params[3]);\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsl':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      default:\n        return;\n    }\n  }\n\n  setRgba(rgbaArr, 0, 0, 0, 1);\n  return;\n}\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\n\n\nfunction hsla2rgba(hsla, rgba) {\n  var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n  // NOTE(deanm): According to the CSS spec s/l should only be\n  // percentages, but we don't bother and let float or percentage.\n\n  var s = parseCssFloat(hsla[1]);\n  var l = parseCssFloat(hsla[2]);\n  var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n  var m1 = l * 2 - m2;\n  rgba = rgba || [];\n  setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n  if (hsla.length === 4) {\n    rgba[3] = hsla[3];\n  }\n\n  return rgba;\n}\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\n\n\nfunction rgba2hsla(rgba) {\n  if (!rgba) {\n    return;\n  } // RGB from 0 to 255\n\n\n  var R = rgba[0] / 255;\n  var G = rgba[1] / 255;\n  var B = rgba[2] / 255;\n  var vMin = Math.min(R, G, B); // Min. value of RGB\n\n  var vMax = Math.max(R, G, B); // Max. value of RGB\n\n  var delta = vMax - vMin; // Delta RGB value\n\n  var L = (vMax + vMin) / 2;\n  var H;\n  var S; // HSL results from 0 to 1\n\n  if (delta === 0) {\n    H = 0;\n    S = 0;\n  } else {\n    if (L < 0.5) {\n      S = delta / (vMax + vMin);\n    } else {\n      S = delta / (2 - vMax - vMin);\n    }\n\n    var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n    var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n    var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n    if (R === vMax) {\n      H = deltaB - deltaG;\n    } else if (G === vMax) {\n      H = 1 / 3 + deltaR - deltaB;\n    } else if (B === vMax) {\n      H = 2 / 3 + deltaG - deltaR;\n    }\n\n    if (H < 0) {\n      H += 1;\n    }\n\n    if (H > 1) {\n      H -= 1;\n    }\n  }\n\n  var hsla = [H * 360, S, L];\n\n  if (rgba[3] != null) {\n    hsla.push(rgba[3]);\n  }\n\n  return hsla;\n}\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction lift(color, level) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    for (var i = 0; i < 3; i++) {\n      if (level < 0) {\n        colorArr[i] = colorArr[i] * (1 - level) | 0;\n      } else {\n        colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n      }\n    }\n\n    return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n  }\n}\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction toHex(color) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n  }\n}\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\n\n\nfunction fastLerp(normalizedValue, colors, out) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  out = out || [];\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = colors[leftIndex];\n  var rightColor = colors[rightIndex];\n  var dv = value - leftIndex;\n  out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n  out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n  out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n  out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n  return out;\n}\n/**\n * @deprecated\n */\n\n\nvar fastMapToColor = fastLerp;\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\n\nfunction lerp(normalizedValue, colors, fullOutput) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = parse(colors[leftIndex]);\n  var rightColor = parse(colors[rightIndex]);\n  var dv = value - leftIndex;\n  var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n  return fullOutput ? {\n    color: color,\n    leftIndex: leftIndex,\n    rightIndex: rightIndex,\n    value: value\n  } : color;\n}\n/**\n * @deprecated\n */\n\n\nvar mapToColor = lerp;\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\nfunction modifyHSL(color, h, s, l) {\n  color = parse(color);\n\n  if (color) {\n    color = rgba2hsla(color);\n    h != null && (color[0] = clampCssAngle(h));\n    s != null && (color[1] = parseCssFloat(s));\n    l != null && (color[2] = parseCssFloat(l));\n    return stringify(hsla2rgba(color), 'rgba');\n  }\n}\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\n\nfunction modifyAlpha(color, alpha) {\n  color = parse(color);\n\n  if (color && alpha != null) {\n    color[3] = clampCssFloat(alpha);\n    return stringify(color, 'rgba');\n  }\n}\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\n\n\nfunction stringify(arrColor, type) {\n  if (!arrColor || !arrColor.length) {\n    return;\n  }\n\n  var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n  if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n    colorStr += ',' + arrColor[3];\n  }\n\n  return type + '(' + colorStr + ')';\n}\n\nexports.parse = parse;\nexports.lift = lift;\nexports.toHex = toHex;\nexports.fastLerp = fastLerp;\nexports.fastMapToColor = fastMapToColor;\nexports.lerp = lerp;\nexports.mapToColor = mapToColor;\nexports.modifyHSL = modifyHSL;\nexports.modifyAlpha = modifyAlpha;\nexports.stringify = stringify;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Eventful = __webpack_require__(30);\n\nexports.Dispatcher = Eventful;\n\nvar env = __webpack_require__(11);\n\n/**\n * \n * @module zrender/core/event\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\n\nfunction getBoundingClientRect(el) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect\n  return el.getBoundingClientRect ? el.getBoundingClientRect() : {\n    left: 0,\n    top: 0\n  };\n} // `calculate` is optional, default false\n\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n  // FIXME\n  // When mousemove event triggered on ec tooltip, target is not zr painter.dom, and\n  // offsetX/Y is relative to e.target, where the calculation of zrX/Y via offsetX/Y\n  // is too complex. So css-transfrom dont support in this case temporarily.\n\n  if (calculate || !env.canvasSupported) {\n    defaultGetZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n      out.zrX = e.layerX;\n      out.zrY = e.layerY;\n    } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n      } // For some other device, e.g., IOS safari.\n      else {\n          defaultGetZrXY(el, e, out);\n        }\n\n  return out;\n}\n\nfunction defaultGetZrXY(el, e, out) {\n  // This well-known method below does not support css transform.\n  var box = getBoundingClientRect(el);\n  out.zrX = e.clientX - box.left;\n  out.zrY = e.clientY - box.top;\n}\n/**\n * domtouch.\n * `calculate` is optional, default false.\n */\n\n\nfunction normalizeEvent(el, e, calculate) {\n  e = e || window.event;\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType != 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, if may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  }\n\n  return e;\n}\n\nfunction addEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    el.addEventListener(name, handler);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\n\nfunction removeEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not do that in zrender. Upper application\n * do that if necessary.\n *\n * @memberOf module:zrender/core/event\n * @method\n * @param {Event} e : event\n */\n\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // \n\n\nexports.clientToLocal = clientToLocal;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.notLeftMouse = notLeftMouse;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar MEMBER_PRIFIX = '\\0ec_\\0';\n/**\n * Hide private class member.\n * The same behavior as `host[name] = value;` (can be right-value)\n * @public\n */\n\nfunction set(host, name, value) {\n  return host[MEMBER_PRIFIX + name] = value;\n}\n/**\n * Hide private class member.\n * The same behavior as `host[name];`\n * @public\n */\n\n\nfunction get(host, name) {\n  return host[MEMBER_PRIFIX + name];\n}\n/**\n * For hidden private class member.\n * The same behavior as `host.hasOwnProperty(name);`\n * @public\n */\n\n\nfunction hasOwn(host, name) {\n  return host.hasOwnProperty(MEMBER_PRIFIX + name);\n}\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\n\n\nfunction parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n\n  if (componentType) {\n    componentType = componentType.split(TYPE_DELIMITER);\n    ret.main = componentType[0] || '';\n    ret.sub = componentType[1] || '';\n  }\n\n  return ret;\n}\n/**\n * @public\n */\n\n\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\n/**\n * @public\n */\n\n\nfunction enableClassExtend(RootClass, mandatoryMethods) {\n  RootClass.$constructor = RootClass;\n\n  RootClass.extend = function (proto) {\n    var superClass = this;\n\n    var ExtendedClass = function () {\n      if (!proto.$constructor) {\n        superClass.apply(this, arguments);\n      } else {\n        proto.$constructor.apply(this, arguments);\n      }\n    };\n\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    zrUtil.inherits(ExtendedClass, this);\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n} // superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\n\n\nfunction superCall(context, methodName) {\n  var args = zrUtil.slice(arguments, 2);\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * @param {Object} entity\n * @param {Object} options\n * @param {boolean} [options.registerWhenExtend]\n * @public\n */\n\n\nfunction enableClassManagement(entity, options) {\n  options = options || {};\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'xxx'\n   *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n   * @type {Object}\n   */\n\n  var storage = {};\n\n  entity.registerClass = function (Clazz, componentType) {\n    if (componentType) {\n      checkClassType(componentType);\n      componentType = parseClassType(componentType);\n\n      if (!componentType.sub) {\n        storage[componentType.main] = Clazz;\n      } else if (componentType.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentType);\n        container[componentType.sub] = Clazz;\n      }\n    }\n\n    return Clazz;\n  };\n\n  entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n    var Clazz = storage[componentMainType];\n\n    if (Clazz && Clazz[IS_CONTAINER]) {\n      Clazz = subType ? Clazz[subType] : null;\n    }\n\n    if (throwWhenNotFound && !Clazz) {\n      throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n    }\n\n    return Clazz;\n  };\n\n  entity.getClassesByMainType = function (componentType) {\n    componentType = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentType.main];\n\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n\n    return result;\n  };\n\n  entity.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    componentType = parseClassType(componentType);\n    return !!storage[componentType.main];\n  };\n  /**\n   * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n\n\n  entity.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   * @param  {string}  mainType\n   * @return {boolean}\n   */\n\n\n  entity.hasSubTypes = function (componentType) {\n    componentType = parseClassType(componentType);\n    var obj = storage[componentType.main];\n    return obj && obj[IS_CONTAINER];\n  };\n\n  entity.parseClassType = parseClassType;\n\n  function makeContainer(componentType) {\n    var container = storage[componentType.main];\n\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentType.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n\n    return container;\n  }\n\n  if (options.registerWhenExtend) {\n    var originalExtend = entity.extend;\n\n    if (originalExtend) {\n      entity.extend = function (proto) {\n        var ExtendedClass = originalExtend.call(this, proto);\n        return entity.registerClass(ExtendedClass, proto.type);\n      };\n    }\n  }\n\n  return entity;\n}\n/**\n * @param {string|Array.<string>} properties\n */\n\n\nfunction setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n  // if (!zrUtil.isArray(properties)) {\n  //     properties = properties != null ? [properties] : [];\n  // }\n  // zrUtil.each(properties, function (prop) {\n  //     var value = obj[prop];\n  //     Object.defineProperty\n  //         && Object.defineProperty(obj, prop, {\n  //             value: value, writable: false\n  //         });\n  //     zrUtil.isArray(obj[prop])\n  //         && Object.freeze\n  //         && Object.freeze(obj[prop]);\n  // });\n}\n\nexports.set = set;\nexports.get = get;\nexports.hasOwn = hasOwn;\nexports.parseClassType = parseClassType;\nexports.enableClassExtend = enableClassExtend;\nexports.enableClassManagement = enableClassManagement;\nexports.setReadOnly = setReadOnly;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(7);\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n\n/**\n * \n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // \n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} \n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] \n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out \n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Group = __webpack_require__(52);\n\nvar componentUtil = __webpack_require__(72);\n\nvar clazzUtil = __webpack_require__(24);\n\nvar modelUtil = __webpack_require__(5);\n\nfunction Chart() {\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n  this.group = new Group();\n  /**\n   * @type {string}\n   * @readOnly\n   */\n\n  this.uid = componentUtil.getUID('viewChart');\n}\n\nChart.prototype = {\n  type: 'chart',\n\n  /**\n   * Init the chart\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {},\n\n  /**\n   * Render the chart\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  render: function (seriesModel, ecModel, api, payload) {},\n\n  /**\n   * Highlight series or specified data item\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  highlight: function (seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n  },\n\n  /**\n   * Downplay series or specified data item\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  downplay: function (seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'normal');\n  },\n\n  /**\n   * Remove self\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  remove: function (ecModel, api) {\n    this.group.removeAll();\n  },\n\n  /**\n   * Dispose self\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  dispose: function () {}\n  /**\n   * The view contains the given point.\n   * @interface\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  // containPoint: function () {}\n\n};\nvar chartProto = Chart.prototype;\n\nchartProto.updateView = chartProto.updateLayout = chartProto.updateVisual = function (seriesModel, ecModel, api, payload) {\n  this.render(seriesModel, ecModel, api, payload);\n};\n/**\n * Set state of single element\n * @param  {module:zrender/Element} el\n * @param  {string} state\n */\n\n\nfunction elSetState(el, state) {\n  if (el) {\n    el.trigger(state);\n\n    if (el.type === 'group') {\n      for (var i = 0; i < el.childCount(); i++) {\n        elSetState(el.childAt(i), state);\n      }\n    }\n  }\n}\n/**\n * @param  {module:echarts/data/List} data\n * @param  {Object} payload\n * @param  {string} state 'normal'|'emphasis'\n * @inner\n */\n\n\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n  if (dataIndex != null) {\n    zrUtil.each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state);\n    });\n  }\n} // Enable Chart.extend.\n\n\nclazzUtil.enableClassExtend(Chart, ['dispose']); // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nclazzUtil.enableClassManagement(Chart, {\n  registerWhenExtend: true\n});\nvar _default = Chart;\nmodule.exports = _default;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar List = __webpack_require__(14);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar _model = __webpack_require__(5);\n\nvar getDataItemValue = _model.getDataItemValue;\nvar converDataValue = _model.converDataValue;\nvar isDataItemOption = _model.isDataItemOption;\n\nvar CoordinateSystem = __webpack_require__(21);\n\nfunction firstDataNotNull(data) {\n  var i = 0;\n\n  while (i < data.length && data[i] == null) {\n    i++;\n  }\n\n  return data[i];\n}\n\nfunction ifNeedCompleteOrdinalData(data) {\n  var sampleItem = firstDataNotNull(data);\n  return sampleItem != null && !zrUtil.isArray(getDataItemValue(sampleItem));\n}\n/**\n * Helper function to create a list from option data\n */\n\n\nfunction createListFromArray(data, seriesModel, ecModel) {\n  // If data is undefined\n  data = data || [];\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var creator = creators[coordSysName];\n  var registeredCoordSys = CoordinateSystem.get(coordSysName);\n  var completeDimOpt = {\n    encodeDef: seriesModel.get('encode'),\n    dimsDef: seriesModel.get('dimensions')\n  }; // FIXME\n\n  var axesInfo = creator && creator(data, seriesModel, ecModel, completeDimOpt);\n  var dimensions = axesInfo && axesInfo.dimensions;\n\n  if (!dimensions) {\n    // Get dimensions from registered coordinate system\n    dimensions = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n    dimensions = completeDimensions(dimensions, data, completeDimOpt);\n  }\n\n  var categoryIndex = axesInfo ? axesInfo.categoryIndex : -1;\n  var list = new List(dimensions, seriesModel);\n  var nameList = createNameList(axesInfo, data);\n  var categories = {};\n  var dimValueGetter = categoryIndex >= 0 && ifNeedCompleteOrdinalData(data) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n    // If any dataItem is like { value: 10 }\n    if (isDataItemOption(itemOpt)) {\n      list.hasItemOption = true;\n    } // Use dataIndex as ordinal value in categoryAxis\n\n\n    return dimIndex === categoryIndex ? dataIndex : converDataValue(getDataItemValue(itemOpt), dimensions[dimIndex]);\n  } : function (itemOpt, dimName, dataIndex, dimIndex) {\n    var value = getDataItemValue(itemOpt);\n    var val = converDataValue(value && value[dimIndex], dimensions[dimIndex]); // If any dataItem is like { value: 10 }\n\n    if (isDataItemOption(itemOpt)) {\n      list.hasItemOption = true;\n    }\n\n    var categoryAxesModels = axesInfo && axesInfo.categoryAxesModels;\n\n    if (categoryAxesModels && categoryAxesModels[dimName]) {\n      // If given value is a category string\n      if (typeof val === 'string') {\n        // Lazy get categories\n        categories[dimName] = categories[dimName] || categoryAxesModels[dimName].getCategories();\n        val = zrUtil.indexOf(categories[dimName], val);\n\n        if (val < 0 && !isNaN(val)) {\n          // In case some one write '1', '2' istead of 1, 2\n          val = +val;\n        }\n      }\n    }\n\n    return val;\n  };\n  list.hasItemOption = false;\n  list.initData(data, nameList, dimValueGetter);\n  return list;\n}\n\nfunction isStackable(axisType) {\n  return axisType !== 'category' && axisType !== 'time';\n}\n\nfunction getDimTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n/**\n * Creaters for each coord system.\n */\n\n\nvar creators = {\n  cartesian2d: function (data, seriesModel, ecModel, completeDimOpt) {\n    var axesModels = zrUtil.map(['xAxis', 'yAxis'], function (name) {\n      return ecModel.queryComponents({\n        mainType: name,\n        index: seriesModel.get(name + 'Index'),\n        id: seriesModel.get(name + 'Id')\n      })[0];\n    });\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var dimensions = [{\n      name: 'x',\n      type: getDimTypeByAxis(xAxisType),\n      stackable: isStackable(xAxisType)\n    }, {\n      name: 'y',\n      // If two category axes\n      type: getDimTypeByAxis(yAxisType),\n      stackable: isStackable(yAxisType)\n    }];\n    var isXAxisCateogry = xAxisType === 'category';\n    var isYAxisCategory = yAxisType === 'category';\n    dimensions = completeDimensions(dimensions, data, completeDimOpt);\n    var categoryAxesModels = {};\n\n    if (isXAxisCateogry) {\n      categoryAxesModels.x = xAxisModel;\n    }\n\n    if (isYAxisCategory) {\n      categoryAxesModels.y = yAxisModel;\n    }\n\n    return {\n      dimensions: dimensions,\n      categoryIndex: isXAxisCateogry ? 0 : isYAxisCategory ? 1 : -1,\n      categoryAxesModels: categoryAxesModels\n    };\n  },\n  singleAxis: function (data, seriesModel, ecModel, completeDimOpt) {\n    var singleAxisModel = ecModel.queryComponents({\n      mainType: 'singleAxis',\n      index: seriesModel.get('singleAxisIndex'),\n      id: seriesModel.get('singleAxisId')\n    })[0];\n    var singleAxisType = singleAxisModel.get('type');\n    var isCategory = singleAxisType === 'category';\n    var dimensions = [{\n      name: 'single',\n      type: getDimTypeByAxis(singleAxisType),\n      stackable: isStackable(singleAxisType)\n    }];\n    dimensions = completeDimensions(dimensions, data, completeDimOpt);\n    var categoryAxesModels = {};\n\n    if (isCategory) {\n      categoryAxesModels.single = singleAxisModel;\n    }\n\n    return {\n      dimensions: dimensions,\n      categoryIndex: isCategory ? 0 : -1,\n      categoryAxesModels: categoryAxesModels\n    };\n  },\n  polar: function (data, seriesModel, ecModel, completeDimOpt) {\n    var polarModel = ecModel.queryComponents({\n      mainType: 'polar',\n      index: seriesModel.get('polarIndex'),\n      id: seriesModel.get('polarId')\n    })[0];\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var radiusAxisType = radiusAxisModel.get('type');\n    var angleAxisType = angleAxisModel.get('type');\n    var dimensions = [{\n      name: 'radius',\n      type: getDimTypeByAxis(radiusAxisType),\n      stackable: isStackable(radiusAxisType)\n    }, {\n      name: 'angle',\n      type: getDimTypeByAxis(angleAxisType),\n      stackable: isStackable(angleAxisType)\n    }];\n    var isAngleAxisCateogry = angleAxisType === 'category';\n    var isRadiusAxisCateogry = radiusAxisType === 'category';\n    dimensions = completeDimensions(dimensions, data, completeDimOpt);\n    var categoryAxesModels = {};\n\n    if (isRadiusAxisCateogry) {\n      categoryAxesModels.radius = radiusAxisModel;\n    }\n\n    if (isAngleAxisCateogry) {\n      categoryAxesModels.angle = angleAxisModel;\n    }\n\n    return {\n      dimensions: dimensions,\n      categoryIndex: isAngleAxisCateogry ? 1 : isRadiusAxisCateogry ? 0 : -1,\n      categoryAxesModels: categoryAxesModels\n    };\n  },\n  geo: function (data, seriesModel, ecModel, completeDimOpt) {\n    // TODO Region\n    // \n    return {\n      dimensions: completeDimensions([{\n        name: 'lng'\n      }, {\n        name: 'lat'\n      }], data, completeDimOpt)\n    };\n  }\n};\n\nfunction createNameList(result, data) {\n  var nameList = [];\n  var categoryDim = result && result.dimensions[result.categoryIndex];\n  var categoryAxisModel;\n\n  if (categoryDim) {\n    categoryAxisModel = result.categoryAxesModels[categoryDim.name];\n  }\n\n  if (categoryAxisModel) {\n    // FIXME Two category axis\n    var categories = categoryAxisModel.getCategories();\n\n    if (categories) {\n      var dataLen = data.length; // Ordered data is given explicitly like\n      // [[3, 0.2], [1, 0.3], [2, 0.15]]\n      // or given scatter data,\n      // pick the category\n\n      if (zrUtil.isArray(data[0]) && data[0].length > 1) {\n        nameList = [];\n\n        for (var i = 0; i < dataLen; i++) {\n          nameList[i] = categories[data[i][result.categoryIndex || 0]];\n        }\n      } else {\n        nameList = categories.slice(0);\n      }\n    }\n  }\n\n  return nameList;\n}\n\nvar _default = createListFromArray;\nmodule.exports = _default;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar numberUtil = __webpack_require__(3);\n\nvar axisHelper = __webpack_require__(17);\n\nvar linearMap = numberUtil.linearMap;\n\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n}\n\nvar normalizedExtent = [0, 1];\n/**\n * @name module:echarts/coord/CartesianAxis\n * @constructor\n */\n\nvar Axis = function (dim, scale, extent) {\n  /**\n   * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'\n   * @type {string}\n   */\n  this.dim = dim;\n  /**\n   * Axis scale\n   * @type {module:echarts/coord/scale/*}\n   */\n\n  this.scale = scale;\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n\n  this._extent = extent || [0, 0];\n  /**\n   * @type {boolean}\n   */\n\n  this.inverse = false;\n  /**\n   * Usually true when axis has a ordinal scale\n   * @type {boolean}\n   */\n\n  this.onBand = false;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._labelInterval;\n};\n\nAxis.prototype = {\n  constructor: Axis,\n\n  /**\n   * If axis extent contain given coord\n   * @param {number} coord\n   * @return {boolean}\n   */\n  contain: function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  },\n\n  /**\n   * If axis extent contain given data\n   * @param {number} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.contain(this.dataToCoord(data));\n  },\n\n  /**\n   * Get coord extent.\n   * @return {Array.<number>}\n   */\n  getExtent: function () {\n    return this._extent.slice();\n  },\n\n  /**\n   * Get precision used for formatting\n   * @param {Array.<number>} [dataExtent]\n   * @return {number}\n   */\n  getPixelPrecision: function (dataExtent) {\n    return numberUtil.getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  },\n\n  /**\n   * Set coord extent\n   * @param {number} start\n   * @param {number} end\n   */\n  setExtent: function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  },\n\n  /**\n   * Convert data to coord. Data is the rank if it has a ordinal scale\n   * @param {number} data\n   * @param  {boolean} clamp\n   * @return {number}\n   */\n  dataToCoord: function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    return linearMap(data, normalizedExtent, extent, clamp);\n  },\n\n  /**\n   * Convert coord to data. Data is the rank if it has a ordinal scale\n   * @param {number} coord\n   * @param  {boolean} clamp\n   * @return {number}\n   */\n  coordToData: function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    var t = linearMap(coord, extent, normalizedExtent, clamp);\n    return this.scale.scale(t);\n  },\n\n  /**\n   * Convert pixel point to data in axis\n   * @param {Array.<number>} point\n   * @param  {boolean} clamp\n   * @return {number} data\n   */\n  pointToData: function (point, clamp) {// Should be implemented in derived class if necessary.\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getTicksCoords: function (alignWithLabel) {\n    if (this.onBand && !alignWithLabel) {\n      var bands = this.getBands();\n      var coords = [];\n\n      for (var i = 0; i < bands.length; i++) {\n        coords.push(bands[i][0]);\n      }\n\n      if (bands[i - 1]) {\n        coords.push(bands[i - 1][1]);\n      }\n\n      return coords;\n    } else {\n      return zrUtil.map(this.scale.getTicks(), this.dataToCoord, this);\n    }\n  },\n\n  /**\n   * Coords of labels are on the ticks or on the middle of bands\n   * @return {Array.<number>}\n   */\n  getLabelsCoords: function () {\n    return zrUtil.map(this.scale.getTicks(), this.dataToCoord, this);\n  },\n\n  /**\n   * Get bands.\n   *\n   * If axis has labels [1, 2, 3, 4]. Bands on the axis are\n   * |---1---|---2---|---3---|---4---|.\n   *\n   * @return {Array}\n   */\n  // FIXME Situation when labels is on ticks\n  getBands: function () {\n    var extent = this.getExtent();\n    var bands = [];\n    var len = this.scale.count();\n    var start = extent[0];\n    var end = extent[1];\n    var span = end - start;\n\n    for (var i = 0; i < len; i++) {\n      bands.push([span * i / len + start, span * (i + 1) / len + start]);\n    }\n\n    return bands;\n  },\n\n  /**\n   * Get width of band\n   * @return {number}\n   */\n  getBandWidth: function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  },\n\n  /**\n   * @abstract\n   * @return {boolean} Is horizontal\n   */\n  isHorizontal: null,\n\n  /**\n   * @abstract\n   * @return {number} Get axis rotate, by degree.\n   */\n  getRotate: null,\n\n  /**\n   * Get interval of the axis label.\n   * To get precise result, at least one of `getRotate` and `isHorizontal`\n   * should be implemented.\n   * @return {number}\n   */\n  getLabelInterval: function () {\n    var labelInterval = this._labelInterval;\n\n    if (!labelInterval) {\n      var axisModel = this.model;\n      var labelModel = axisModel.getModel('axisLabel');\n      labelInterval = labelModel.get('interval');\n\n      if (this.type === 'category' && (labelInterval == null || labelInterval === 'auto')) {\n        labelInterval = axisHelper.getAxisLabelInterval(zrUtil.map(this.scale.getTicks(), this.dataToCoord, this), axisModel.getFormattedLabels(), labelModel.getFont(), this.getRotate ? this.getRotate() : this.isHorizontal && !this.isHorizontal() ? 90 : 0, labelModel.get('rotate'));\n      }\n\n      this._labelInterval = labelInterval;\n    }\n\n    return labelInterval;\n  }\n};\nvar _default = Axis;\nmodule.exports = _default;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nvar features = {};\n\nfunction register(name, ctor) {\n  features[name] = ctor;\n}\n\nfunction get(name) {\n  return features[name];\n}\n\nexports.register = register;\nexports.get = get;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n/**\n * \n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\nvar arrySlice = Array.prototype.slice;\n/**\n * \n * @alias module:zrender/mixin/Eventful\n * @constructor\n */\n\nvar Eventful = function () {\n  this._$handlers = {};\n};\n\nEventful.prototype = {\n  constructor: Eventful,\n\n  /**\n   * trigger\n   *\n   * @param {string} event \n   * @param {Function} handler \n   * @param {Object} context\n   */\n  one: function (event, handler, context) {\n    var _h = this._$handlers;\n\n    if (!handler || !event) {\n      return this;\n    }\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return this;\n      }\n    }\n\n    _h[event].push({\n      h: handler,\n      one: true,\n      ctx: context || this\n    });\n\n    return this;\n  },\n\n  /**\n   * \n   * @param {string} event \n   * @param {Function} handler \n   * @param {Object} [context]\n   */\n  on: function (event, handler, context) {\n    var _h = this._$handlers;\n\n    if (!handler || !event) {\n      return this;\n    }\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return this;\n      }\n    }\n\n    _h[event].push({\n      h: handler,\n      one: false,\n      ctx: context || this\n    });\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {string}  event\n   * @return {boolean}\n   */\n  isSilent: function (event) {\n    var _h = this._$handlers;\n    return _h[event] && _h[event].length;\n  },\n\n  /**\n   * \n   * @param {string} event \n   * @param {Function} [handler] \n   */\n  off: function (event, handler) {\n    var _h = this._$handlers;\n\n    if (!event) {\n      this._$handlers = {};\n      return this;\n    }\n\n    if (handler) {\n      if (_h[event]) {\n        var newList = [];\n\n        for (var i = 0, l = _h[event].length; i < l; i++) {\n          if (_h[event][i]['h'] != handler) {\n            newList.push(_h[event][i]);\n          }\n        }\n\n        _h[event] = newList;\n      }\n\n      if (_h[event] && _h[event].length === 0) {\n        delete _h[event];\n      }\n    } else {\n      delete _h[event];\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   *\n   * @param {string} type \n   */\n  trigger: function (type) {\n    if (this._$handlers[type]) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 3) {\n        args = arrySlice.call(args, 1);\n      }\n\n      var _h = this._$handlers[type];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        // Optimize advise from backbone\n        switch (argLen) {\n          case 1:\n            _h[i]['h'].call(_h[i]['ctx']);\n\n            break;\n\n          case 2:\n            _h[i]['h'].call(_h[i]['ctx'], args[1]);\n\n            break;\n\n          case 3:\n            _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);\n\n            break;\n\n          default:\n            // have more than 2 given arguments\n            _h[i]['h'].apply(_h[i]['ctx'], args);\n\n            break;\n        }\n\n        if (_h[i]['one']) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * context, context\n   * @param {string} type \n   */\n  triggerWithContext: function (type) {\n    if (this._$handlers[type]) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 4) {\n        args = arrySlice.call(args, 1, args.length - 1);\n      }\n\n      var ctx = args[args.length - 1];\n      var _h = this._$handlers[type];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        // Optimize advise from backbone\n        switch (argLen) {\n          case 1:\n            _h[i]['h'].call(ctx);\n\n            break;\n\n          case 2:\n            _h[i]['h'].call(ctx, args[1]);\n\n            break;\n\n          case 3:\n            _h[i]['h'].call(ctx, args[1], args[2]);\n\n            break;\n\n          default:\n            // have more than 2 given arguments\n            _h[i]['h'].apply(ctx, args);\n\n            break;\n        }\n\n        if (_h[i]['one']) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    return this;\n  }\n}; //  onxxxx \n\n/**\n * @event module:zrender/mixin/Eventful#onclick\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseout\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousemove\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousewheel\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousedown\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseup\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrag\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragstart\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragend\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragenter\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragleave\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrop\n * @type {Function}\n * @default null\n */\n\nvar _default = Eventful;\nmodule.exports = _default;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\n\nfunction throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n\n  var cb = function () {\n    currCall = new Date().getTime();\n    scope = this;\n    args = arguments;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer);\n\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n\n\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n\n\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n * @param {number} [rate]\n * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n * @return {Function} throttled function.\n */\n\n\nfunction createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n\n  if (!fn) {\n    return;\n  }\n\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n */\n\n\nfunction clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n\n  if (fn && fn[ORIGIN_METHOD]) {\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}\n\nexports.throttle = throttle;\nexports.createOrUpdate = createOrUpdate;\nexports.clear = clear;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\nfunction _default(seriesType, defaultSymbolType, legendSymbol, ecModel, api) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  ecModel.eachRawSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var symbolType = seriesModel.get('symbol') || defaultSymbolType;\n    var symbolSize = seriesModel.get('symbolSize');\n    data.setVisual({\n      legendSymbol: legendSymbol || symbolType,\n      symbol: symbolType,\n      symbolSize: symbolSize\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      if (typeof symbolSize === 'function') {\n        data.each(function (idx) {\n          var rawValue = seriesModel.getRawValue(idx); // FIXME\n\n          var params = seriesModel.getDataParams(idx);\n          data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n        });\n      }\n\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var itemSymbolType = itemModel.getShallow('symbol', true);\n        var itemSymbolSize = itemModel.getShallow('symbolSize', true); // If has item symbol\n\n        if (itemSymbolType != null) {\n          data.setItemVisual(idx, 'symbol', itemSymbolType);\n        }\n\n        if (itemSymbolSize != null) {\n          // PENDING Transform symbolSize ?\n          data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(0);\n\nvar retrieve = _util.retrieve;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar each = _util.each;\n\nvar formatUtil = __webpack_require__(8);\n\nvar graphic = __webpack_require__(2);\n\nvar Model = __webpack_require__(10);\n\nvar _number = __webpack_require__(3);\n\nvar isRadianAroundZero = _number.isRadianAroundZero;\nvar remRadian = _number.remRadian;\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar matrixUtil = __webpack_require__(16);\n\nvar _vector = __webpack_require__(7);\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar PI = Math.PI;\n\nfunction makeAxisEventDataBase(axisModel) {\n  var eventData = {\n    componentType: axisModel.mainType\n  };\n  eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n  return eventData;\n}\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.labelInterval] Default label interval when label\n *                                     interval from model is null or 'auto'.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\n\n\nvar AxisBuilder = function (axisModel, opt) {\n  /**\n   * @readOnly\n   */\n  this.opt = opt;\n  /**\n   * @readOnly\n   */\n\n  this.axisModel = axisModel; // Default value\n\n  defaults(opt, {\n    labelOffset: 0,\n    nameDirection: 1,\n    tickDirection: 1,\n    labelDirection: 1,\n    silent: true\n  });\n  /**\n   * @readOnly\n   */\n\n  this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n  var dumbGroup = new graphic.Group({\n    position: opt.position.slice(),\n    rotation: opt.rotation\n  }); // this.group.add(dumbGroup);\n  // this._dumbGroup = dumbGroup;\n\n  dumbGroup.updateTransform();\n  this._transform = dumbGroup.transform;\n  this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n  constructor: AxisBuilder,\n  hasBuilder: function (name) {\n    return !!builders[name];\n  },\n  add: function (name) {\n    builders[name].call(this);\n  },\n  getGroup: function () {\n    return this.group;\n  }\n};\nvar builders = {\n  /**\n   * @private\n   */\n  axisLine: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n\n    if (!axisModel.get('axisLine.show')) {\n      return;\n    }\n\n    var extent = this.axisModel.axis.getExtent();\n    var matrix = this._transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n    this.group.add(new graphic.Line(graphic.subPixelOptimizeLine({\n      // Id for animation\n      anid: 'line',\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    })));\n    var arrows = axisModel.get('axisLine.symbol');\n    var arrowSize = axisModel.get('axisLine.symbolSize');\n\n    if (arrows != null) {\n      if (typeof arrows === 'string') {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n\n      if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n\n      var symbolWidth = arrowSize[0];\n      var symbolHeight = arrowSize[1];\n      each([[opt.rotation + Math.PI / 2, pt1], [opt.rotation - Math.PI / 2, pt2]], function (item, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true);\n          symbol.attr({\n            rotation: item[0],\n            position: item[1],\n            silent: true\n          });\n          this.group.add(symbol);\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  axisTickLabel: function () {\n    var axisModel = this.axisModel;\n    var opt = this.opt;\n    var tickEls = buildAxisTick(this, axisModel, opt);\n    var labelEls = buildAxisLabel(this, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, tickEls);\n  },\n\n  /**\n   * @private\n   */\n  axisName: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n\n    if (!name) {\n      return;\n    }\n\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = this.axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n    // truncate rich text? (consider performance)\n\n    var truncatedText = ellipsis != null && maxWidth != null ? formatUtil.truncateText(name, maxWidth, textFont, ellipsis, {\n      minChar: 2,\n      placeholder: truncateOpt.placeholder\n    }) : name;\n    var tooltipOpt = axisModel.get('tooltip', true);\n    var mainType = axisModel.mainType;\n    var formatterParams = {\n      componentType: mainType,\n      name: name,\n      $vars: ['name']\n    };\n    formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'name',\n      __fullText: name,\n      __truncatedText: truncatedText,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: isSilent(axisModel),\n      z2: 1,\n      tooltip: tooltipOpt && tooltipOpt.show ? extend({\n        content: name,\n        formatter: function () {\n          return name;\n        },\n        formatterParams: formatterParams\n      }, tooltipOpt) : null\n    });\n    graphic.setTextStyle(textEl.style, textStyleModel, {\n      text: truncatedText,\n      textFont: textFont,\n      textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.textVerticalAlign\n    });\n\n    if (axisModel.get('triggerEvent')) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisName';\n      textEl.eventData.name = name;\n    } // FIXME\n\n\n    this._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    this.group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\n\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n  var rotationDiff = remRadian(textRotation - axisRotation);\n  var textAlign;\n  var textVerticalAlign;\n\n  if (isRadianAroundZero(rotationDiff)) {\n    // Label is parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI)) {\n    // Label is inverse parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff > 0 && rotationDiff < PI) {\n      textAlign = direction > 0 ? 'right' : 'left';\n    } else {\n      textAlign = direction > 0 ? 'left' : 'right';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - opt.rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nfunction isSilent(axisModel) {\n  var tooltipOpt = axisModel.get('tooltip');\n  return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n  || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n}\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\n\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n\n  if (!firstRect || !nextRect) {\n    return;\n  } // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\n/**\n * @static\n */\n\n\nvar ifIgnoreOnTick = AxisBuilder.ifIgnoreOnTick = function (axis, i, interval, ticksCnt, showMinLabel, showMaxLabel) {\n  if (i === 0 && showMinLabel || i === ticksCnt - 1 && showMaxLabel) {\n    return false;\n  } // FIXME\n  // Have not consider label overlap (if label is too long) yet.\n\n\n  var rawTick;\n  var scale = axis.scale;\n  return scale.type === 'ordinal' && (typeof interval === 'function' ? (rawTick = scale.getTicks()[i], !interval(rawTick, scale.getLabel(rawTick))) : i % (interval + 1));\n};\n/**\n * @static\n */\n\n\nvar getInterval = AxisBuilder.getInterval = function (model, labelInterval) {\n  var interval = model.get('interval');\n\n  if (interval == null || interval == 'auto') {\n    interval = labelInterval;\n  }\n\n  return interval;\n};\n\nfunction buildAxisTick(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n\n  if (!axisModel.get('axisTick.show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var tickModel = axisModel.getModel('axisTick');\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickLen = tickModel.get('length');\n  var tickInterval = getInterval(tickModel, opt.labelInterval);\n  var ticksCoords = axis.getTicksCoords(tickModel.get('alignWithLabel')); // FIXME\n  // Corresponds to ticksCoords ?\n\n  var ticks = axis.scale.getTicks();\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n  var pt1 = [];\n  var pt2 = [];\n  var matrix = axisBuilder._transform;\n  var tickEls = [];\n  var ticksCnt = ticksCoords.length;\n\n  for (var i = 0; i < ticksCnt; i++) {\n    // Only ordinal scale support tick interval\n    if (ifIgnoreOnTick(axis, i, tickInterval, ticksCnt, showMinLabel, showMaxLabel)) {\n      continue;\n    }\n\n    var tickCoord = ticksCoords[i];\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = opt.tickDirection * tickLen;\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    } // Tick line, Not use group transform to have better line draw\n\n\n    var tickEl = new graphic.Line(graphic.subPixelOptimizeLine({\n      // Id for animation\n      anid: 'tick_' + ticks[i],\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: defaults(lineStyleModel.getLineStyle(), {\n        stroke: axisModel.get('axisLine.lineStyle.color')\n      }),\n      z2: 2,\n      silent: true\n    }));\n    axisBuilder.group.add(tickEl);\n    tickEls.push(tickEl);\n  }\n\n  return tickEls;\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var ticks = axis.scale.getTicks();\n  var labels = axisModel.getFormattedLabels(); // Special label rotate.\n\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var categoryData = axisModel.get('data');\n  var labelEls = [];\n  var silent = isSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n  each(ticks, function (tickVal, index) {\n    if (ifIgnoreOnTick(axis, index, opt.labelInterval, ticks.length, showMinLabel, showMaxLabel)) {\n      return;\n    }\n\n    var itemLabelModel = labelModel;\n\n    if (categoryData && categoryData[tickVal] && categoryData[tickVal].textStyle) {\n      itemLabelModel = new Model(categoryData[tickVal].textStyle, labelModel, axisModel.ecModel);\n    }\n\n    var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n    var tickCoord = axis.dataToCoord(tickVal);\n    var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n    var labelStr = axis.scale.getLabel(tickVal);\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'label_' + tickVal,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10\n    });\n    graphic.setTextStyle(textEl.style, itemLabelModel, {\n      text: labels[index],\n      textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n      textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n      textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n      // index of axis.data. So tick should not be exposed to user\n      // in category axis.\n      // (2) Compatible with previous version, which always returns labelStr.\n      // But in interval scale labelStr is like '223,445', which maked\n      // user repalce ','. So we modify it to return original val but remain\n      // it as 'string' to avoid error in replacing.\n      axis.type === 'category' ? labelStr : axis.type === 'value' ? tickVal + '' : tickVal, index) : textColor\n    }); // Pack data for mouse event\n\n    if (triggerEvent) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisLabel';\n      textEl.eventData.value = labelStr;\n    } // FIXME\n\n\n    axisBuilder._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    axisBuilder.group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\n\nvar _default = AxisBuilder;\nmodule.exports = _default;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar axisPointerModelHelper = __webpack_require__(61);\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = echarts.extendComponentView({\n  type: 'axis',\n\n  /**\n   * @private\n   */\n  _axisPointer: null,\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  axisPointerClass: null,\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    AxisView.superApply(this, 'render', arguments);\n    updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n  },\n\n  /**\n   * Action handler.\n   * @public\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} payload\n   */\n  updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n    updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n    AxisView.superApply(this, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    disposeAxisPointer(this, api);\n    AxisView.superApply(this, 'dispose', arguments);\n  }\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n  var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n  if (!Clazz) {\n    return;\n  }\n\n  var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n  axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n  var axisPointer = axisView._axisPointer;\n  axisPointer && axisPointer.dispose(ecModel, api);\n  axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n  axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n  return type && axisPointerClazz[type];\n};\n\nvar _default = AxisView;\nmodule.exports = _default;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar zrColor = __webpack_require__(22);\n\nvar _number = __webpack_require__(3);\n\nvar linearMap = _number.linearMap;\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\n/**\n * @param {Object} option\n * @param {string} [option.type] See visualHandlers.\n * @param {string} [option.mappingMethod] 'linear' or 'piecewise' or 'category' or 'fixed'\n * @param {Array.<number>=} [option.dataExtent] [minExtent, maxExtent],\n *                                              required when mappingMethod is 'linear'\n * @param {Array.<Object>=} [option.pieceList] [\n *                                             {value: someValue},\n *                                             {interval: [min1, max1], visual: {...}},\n *                                             {interval: [min2, max2]}\n *                                             ],\n *                                            required when mappingMethod is 'piecewise'.\n *                                            Visual for only each piece can be specified.\n * @param {Array.<string|Object>=} [option.categories] ['cate1', 'cate2']\n *                                            required when mappingMethod is 'category'.\n *                                            If no option.categories, categories is set\n *                                            as [0, 1, 2, ...].\n * @param {boolean} [option.loop=false] Whether loop mapping when mappingMethod is 'category'.\n * @param {(Array|Object|*)} [option.visual]  Visual data.\n *                                            when mappingMethod is 'category',\n *                                            visual data can be array or object\n *                                            (like: {cate1: '#222', none: '#fff'})\n *                                            or primary types (which represents\n *                                            defualt category visual), otherwise visual\n *                                            can be array or primary (which will be\n *                                            normalized to array).\n *\n */\n\nvar VisualMapping = function (option) {\n  var mappingMethod = option.mappingMethod;\n  var visualType = option.type;\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n\n  var thisOption = this.option = zrUtil.clone(option);\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.type = visualType;\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.mappingMethod = mappingMethod;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._normalizeData = normalizers[mappingMethod];\n  var visualHandler = visualHandlers[visualType];\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.applyVisual = visualHandler.applyVisual;\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.getColorMapper = visualHandler.getColorMapper;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._doMap = visualHandler._doMap[mappingMethod];\n\n  if (mappingMethod === 'piecewise') {\n    normalizeVisualRange(thisOption);\n    preprocessForPiecewise(thisOption);\n  } else if (mappingMethod === 'category') {\n    thisOption.categories ? preprocessForSpecifiedCategory(thisOption) // categories is ordinal when thisOption.categories not specified,\n    // which need no more preprocess except normalize visual.\n    : normalizeVisualRange(thisOption, true);\n  } else {\n    // mappingMethod === 'linear' or 'fixed'\n    zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n    normalizeVisualRange(thisOption);\n  }\n};\n\nVisualMapping.prototype = {\n  constructor: VisualMapping,\n  mapValueToVisual: function (value) {\n    var normalized = this._normalizeData(value);\n\n    return this._doMap(normalized, value);\n  },\n  getNormalizer: function () {\n    return zrUtil.bind(this._normalizeData, this);\n  }\n};\nvar visualHandlers = VisualMapping.visualHandlers = {\n  color: {\n    applyVisual: makeApplyVisual('color'),\n\n    /**\n     * Create a mapper function\n     * @return {Function}\n     */\n    getColorMapper: function () {\n      var thisOption = this.option;\n      return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n        !isNormalized && (value = this._normalizeData(value));\n        return doMapCategory.call(this, value);\n      } : function (value, isNormalized, out) {\n        // If output rgb array\n        // which will be much faster and useful in pixel manipulation\n        var returnRGBArray = !!out;\n        !isNormalized && (value = this._normalizeData(value));\n        out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n        return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n      }, this);\n    },\n    _doMap: {\n      linear: function (normalized) {\n        return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n      },\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  colorHue: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, value);\n  }),\n  colorSaturation: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, value);\n  }),\n  colorLightness: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, null, value);\n  }),\n  colorAlpha: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyAlpha(color, value);\n  }),\n  opacity: {\n    applyVisual: makeApplyVisual('opacity'),\n    _doMap: makeDoMap([0, 1])\n  },\n  symbol: {\n    applyVisual: function (value, getter, setter) {\n      var symbolCfg = this.mapValueToVisual(value);\n\n      if (zrUtil.isString(symbolCfg)) {\n        setter('symbol', symbolCfg);\n      } else if (isObject(symbolCfg)) {\n        for (var name in symbolCfg) {\n          if (symbolCfg.hasOwnProperty(name)) {\n            setter(name, symbolCfg[name]);\n          }\n        }\n      }\n    },\n    _doMap: {\n      linear: doMapToArray,\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = doMapToArray.call(this, normalized);\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  symbolSize: {\n    applyVisual: makeApplyVisual('symbolSize'),\n    _doMap: makeDoMap([0, 1])\n  }\n};\n\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index; // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\n\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var visual = thisOption.visual;\n  var categoryMap = thisOption.categoryMap = {};\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  }); // Process visual map input.\n\n  if (!zrUtil.isArray(visual)) {\n    var visualArr = [];\n\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n\n    visual = setVisualToOption(thisOption, visualArr);\n  } // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n\n\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\n\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n\n  setVisualToOption(thisOption, visualArr);\n}\n\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      value = this.mapValueToVisual(value); // Must not be array value\n\n      setter('color', applyValue(getter('color'), value));\n    },\n    _doMap: makeDoMap([0, 1])\n  };\n}\n\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {};\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\n\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\n\nfunction doMapFixed() {\n  return this.option.visual[0];\n}\n\nfunction makeDoMap(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\n\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\n\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      return zrColor.parse(item);\n    });\n  }\n\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\n\n\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal\n\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\n/**\n * List available visual types.\n *\n * @public\n * @return {Array.<string>}\n */\n\nVisualMapping.listVisualTypes = function () {\n  var visualTypes = [];\n  zrUtil.each(visualHandlers, function (handler, key) {\n    visualTypes.push(key);\n  });\n  return visualTypes;\n};\n/**\n * @public\n */\n\n\nVisualMapping.addVisualHandler = function (name, handler) {\n  visualHandlers[name] = handler;\n};\n/**\n * @public\n */\n\n\nVisualMapping.isValidType = function (visualType) {\n  return visualHandlers.hasOwnProperty(visualType);\n};\n/**\n * Convinent method.\n * Visual can be Object or Array or primary type.\n *\n * @public\n */\n\n\nVisualMapping.eachVisual = function (visual, callback, context) {\n  if (zrUtil.isObject(visual)) {\n    zrUtil.each(visual, callback, context);\n  } else {\n    callback.call(context, visual);\n  }\n};\n\nVisualMapping.mapVisual = function (visual, callback, context) {\n  var isPrimary;\n  var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n  VisualMapping.eachVisual(visual, function (v, key) {\n    var newVal = callback.call(context, v, key);\n    isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n  });\n  return newVisual;\n};\n/**\n * @public\n * @param {Object} obj\n * @return {Object} new object containers visual values.\n *                 If no visuals, return null.\n */\n\n\nVisualMapping.retrieveVisuals = function (obj) {\n  var ret = {};\n  var hasVisual;\n  obj && each(visualHandlers, function (h, visualType) {\n    if (obj.hasOwnProperty(visualType)) {\n      ret[visualType] = obj[visualType];\n      hasVisual = true;\n    }\n  });\n  return hasVisual ? ret : null;\n};\n/**\n * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n *\n * @public\n * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n * @return {Array.<string>} Sorted visual types.\n */\n\n\nVisualMapping.prepareVisualTypes = function (visualTypes) {\n  if (isObject(visualTypes)) {\n    var types = [];\n    each(visualTypes, function (item, type) {\n      types.push(type);\n    });\n    visualTypes = types;\n  } else if (zrUtil.isArray(visualTypes)) {\n    visualTypes = visualTypes.slice();\n  } else {\n    return [];\n  }\n\n  visualTypes.sort(function (type1, type2) {\n    // color should be front of colorSaturation, colorAlpha, ...\n    // symbol and symbolSize do not matter.\n    return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n  });\n  return visualTypes;\n};\n/**\n * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n * Other visuals are only depends on themself.\n *\n * @public\n * @param {string} visualType1\n * @param {string} visualType2\n * @return {boolean}\n */\n\n\nVisualMapping.dependsOn = function (visualType1, visualType2) {\n  return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n};\n/**\n * @param {number} value\n * @param {Array.<Object>} pieceList [{value: ..., interval: [min, max]}, ...]\n *                         Always from small to big.\n * @param {boolean} [findClosestWhenOutside=false]\n * @return {number} index\n */\n\n\nVisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n  var possibleI;\n  var abs = Infinity; // value has the higher priority.\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var pieceValue = pieceList[i].value;\n\n    if (pieceValue != null) {\n      if (pieceValue === value // FIXME\n      // It is supposed to compare value according to value type of dimension,\n      // but currently value type can exactly be string or number.\n      // Compromise for numeric-like string (like '12'), especially\n      // in the case that visualMap.categories is ['22', '33'].\n      || typeof pieceValue === 'string' && pieceValue === value + '') {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(pieceValue, i);\n    }\n  }\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var piece = pieceList[i];\n    var interval = piece.interval;\n    var close = piece.close;\n\n    if (interval) {\n      if (interval[0] === -Infinity) {\n        if (littleThan(close[1], value, interval[1])) {\n          return i;\n        }\n      } else if (interval[1] === Infinity) {\n        if (littleThan(close[0], interval[0], value)) {\n          return i;\n        }\n      } else if (littleThan(close[0], interval[0], value) && littleThan(close[1], value, interval[1])) {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(interval[0], i);\n      findClosestWhenOutside && updatePossible(interval[1], i);\n    }\n  }\n\n  if (findClosestWhenOutside) {\n    return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n  }\n\n  function updatePossible(val, index) {\n    var newAbs = Math.abs(val - value);\n\n    if (newAbs < abs) {\n      abs = newAbs;\n      possibleI = index;\n    }\n  }\n};\n\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\n\nvar _default = VisualMapping;\nmodule.exports = _default;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n// TODO Parse shadow style\n// TODO Only shallow path support\nfunction _default(properties) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    }\n\n    return style;\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar curve = __webpack_require__(25);\n\nvar vec2 = __webpack_require__(7);\n\nvar bbox = __webpack_require__(71);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar _config = __webpack_require__(53);\n\nvar dpr = _config.devicePixelRatio;\n\n/**\n * Path `buildPath``ctx`, pathpathCommands\n *  isInsidePath boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array != 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function (notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * Path\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function (sx, sy) {\n    this._ux = mathAbs(1 / dpr / sx) || 0;\n    this._uy = mathAbs(1 / dpr / sy) || 0;\n  },\n  getContext: function () {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function (ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function (x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n    // xi, yi , x0, y0  closePath \n    //  beginPath  lineTo x0, y0 \n    //  lineTo dashed line  IE10- \n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function (x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function (x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cx;\n    return this;\n  },\n  // TODO\n  arcTo: function (x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function (x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function () {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context  rebuildPath  fill\n   * stroke \n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function (ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function (ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function (lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function (offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function () {\n    return this._len;\n  },\n\n  /**\n   *  Path \n   */\n  setData: function (data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length == len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * \n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function (path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   *  Path \n   * \n   */\n  addData: function (cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      //  Float32Array\n      // \n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function () {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function () {\n    return this._lineDash;\n  },\n  _dashedLineTo: function (x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx == 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function (x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   *  Float32Array \n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function () {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i == 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc \n\n          var psi = data[i++];\n          var anticlockwise = 1 - data[i++];\n\n          if (i == 1) {\n            //  arc \n            // \n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function (ctx) {\n    var d = this.data;\n    var x0, y0;\n    var xi, yi;\n    var x, y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i == 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i == 1) {\n            //  arc \n            // \n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nfunction defaultKeyGetter(item) {\n  return item;\n}\n/**\n * @param {Array} oldArr\n * @param {Array} newArr\n * @param {Function} oldKeyGetter\n * @param {Function} newKeyGetter\n * @param {Object} [context] Can be visited by this.context in callback.\n */\n\n\nfunction DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n  this._old = oldArr;\n  this._new = newArr;\n  this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n  this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n  this.context = context;\n}\n\nDataDiffer.prototype = {\n  constructor: DataDiffer,\n\n  /**\n   * Callback function when add a data\n   */\n  add: function (func) {\n    this._add = func;\n    return this;\n  },\n\n  /**\n   * Callback function when update a data\n   */\n  update: function (func) {\n    this._update = func;\n    return this;\n  },\n\n  /**\n   * Callback function when remove a data\n   */\n  remove: function (func) {\n    this._remove = func;\n    return this;\n  },\n  execute: function () {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var oldDataIndexMap = {};\n    var newDataIndexMap = {};\n    var oldDataKeyArr = [];\n    var newDataKeyArr = [];\n    var i;\n    initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n    initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this); // Travel by inverted order to make sure order consistency\n    // when duplicate keys exists (consider newDataIndex.pop() below).\n    // For performance consideration, these code below do not look neat.\n\n    for (i = 0; i < oldArr.length; i++) {\n      var key = oldDataKeyArr[i];\n      var idx = newDataIndexMap[key]; // idx can never be empty array here. see 'set null' logic below.\n\n      if (idx != null) {\n        // Consider there is duplicate key (for example, use dataItem.name as key).\n        // We should make sure every item in newArr and oldArr can be visited.\n        var len = idx.length;\n\n        if (len) {\n          len === 1 && (newDataIndexMap[key] = null);\n          idx = idx.unshift();\n        } else {\n          newDataIndexMap[key] = null;\n        }\n\n        this._update && this._update(idx, i);\n      } else {\n        this._remove && this._remove(i);\n      }\n    }\n\n    for (var i = 0; i < newDataKeyArr.length; i++) {\n      var key = newDataKeyArr[i];\n\n      if (newDataIndexMap.hasOwnProperty(key)) {\n        var idx = newDataIndexMap[key];\n\n        if (idx == null) {\n          continue;\n        } // idx can never be empty array here. see 'set null' logic above.\n\n\n        if (!idx.length) {\n          this._add && this._add(idx);\n        } else {\n          for (var j = 0, len = idx.length; j < len; j++) {\n            this._add && this._add(idx[j]);\n          }\n        }\n      }\n    }\n  }\n};\n\nfunction initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n  for (var i = 0; i < arr.length; i++) {\n    // Add prefix to avoid conflict with Object.prototype.\n    var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n    var existence = map[key];\n\n    if (existence == null) {\n      keyArr.push(key);\n      map[key] = i;\n    } else {\n      if (!existence.length) {\n        map[key] = existence = [existence];\n      }\n\n      existence.push(i);\n    }\n  }\n}\n\nvar _default = DataDiffer;\nmodule.exports = _default;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar axisHelper = __webpack_require__(17);\n\nfunction getName(obj) {\n  if (zrUtil.isObject(obj) && obj.value != null) {\n    return obj.value;\n  } else {\n    return obj + '';\n  }\n}\n\nvar _default = {\n  /**\n   * Format labels\n   * @return {Array.<string>}\n   */\n  getFormattedLabels: function () {\n    return axisHelper.getFormattedLabels(this.axis, this.get('axisLabel.formatter'));\n  },\n\n  /**\n   * Get categories\n   */\n  getCategories: function () {\n    return this.get('type') === 'category' && zrUtil.map(this.get('data'), getName);\n  },\n\n  /**\n   * @param {boolean} origin\n   * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n   */\n  getMin: function (origin) {\n    var option = this.option;\n    var min = !origin && option.rangeStart != null ? option.rangeStart : option.min;\n\n    if (this.axis && min != null && min !== 'dataMin' && typeof min !== 'function' && !zrUtil.eqNaN(min)) {\n      min = this.axis.scale.parse(min);\n    }\n\n    return min;\n  },\n\n  /**\n   * @param {boolean} origin\n   * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n   */\n  getMax: function (origin) {\n    var option = this.option;\n    var max = !origin && option.rangeEnd != null ? option.rangeEnd : option.max;\n\n    if (this.axis && max != null && max !== 'dataMax' && typeof max !== 'function' && !zrUtil.eqNaN(max)) {\n      max = this.axis.scale.parse(max);\n    }\n\n    return max;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  getNeedCrossZero: function () {\n    var option = this.option;\n    return option.rangeStart != null || option.rangeEnd != null ? false : !option.scale;\n  },\n\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return {module:echarts/model/Component} coordinate system model\n   */\n  getCoordSysModel: zrUtil.noop,\n\n  /**\n   * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n   * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n   */\n  setRange: function (rangeStart, rangeEnd) {\n    this.option.rangeStart = rangeStart;\n    this.option.rangeEnd = rangeEnd;\n  },\n\n  /**\n   * Reset range\n   */\n  resetRange: function () {\n    // rangeStart and rangeEnd is readonly.\n    this.option.rangeStart = this.option.rangeEnd = null;\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\nvar _default = {\n  toolbox: {\n    brush: {\n      title: {\n        rect: '',\n        polygon: '',\n        lineX: '',\n        lineY: '',\n        keep: '',\n        clear: ''\n      }\n    },\n    dataView: {\n      title: '',\n      lang: ['', '', '']\n    },\n    dataZoom: {\n      title: {\n        zoom: '',\n        back: ''\n      }\n    },\n    magicType: {\n      title: {\n        line: '',\n        bar: '',\n        stack: '',\n        tiled: ''\n      }\n    },\n    restore: {\n      title: ''\n    },\n    saveAsImage: {\n      title: '',\n      lang: ['']\n    }\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(53);\n\nvar debugMode = _config.debugMode;\n\nvar log = function () {};\n\nif (debugMode === 1) {\n  log = function () {\n    for (var k in arguments) {\n      throw new Error(arguments[k]);\n    }\n  };\n} else if (debugMode > 1) {\n  log = function () {\n    for (var k in arguments) {\n      console.log(arguments[k]);\n    }\n  };\n}\n\nvar _default = log;\nmodule.exports = _default;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(54);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar zrUtil = __webpack_require__(0);\n\nvar imageHelper = __webpack_require__(70);\n\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction ZImage(opts) {\n  Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n  constructor: ZImage,\n  type: 'image',\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var src = style.image; // Must bind each time\n\n    style.bind(ctx, this, prevEl);\n    var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n    if (!image || !imageHelper.isImageReady(image)) {\n      return;\n    } // \n    // if (image.nodeName.toUpperCase() == 'IMG') {\n    //     if (!image.complete) {\n    //         return;\n    //     }\n    // }\n    // Else is canvas\n\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = style.width;\n    var height = style.height;\n    var aspect = image.width / image.height;\n\n    if (width == null && height != null) {\n      // Keep image/height ratio\n      width = height * aspect;\n    } else if (height == null && width != null) {\n      height = width / aspect;\n    } else if (width == null && height == null) {\n      width = image.width;\n      height = image.height;\n    } // transform\n\n\n    this.setTransform(ctx);\n\n    if (style.sWidth && style.sHeight) {\n      var sx = style.sx || 0;\n      var sy = style.sy || 0;\n      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    } else if (style.sx && style.sy) {\n      var sx = style.sx;\n      var sy = style.sy;\n      var sWidth = width - sx;\n      var sHeight = height - sy;\n      ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    } else {\n      ctx.drawImage(image, x, y, width, height);\n    }\n\n    this.restoreTransform(ctx); // Draw rect text\n\n    if (style.text != null) {\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  getBoundingRect: function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(ZImage, Displayable);\nvar _default = ZImage;\nmodule.exports = _default;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(54);\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(20);\n\nvar textHelper = __webpack_require__(55);\n\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nvar Text = function (opts) {\n  // jshint ignore:line\n  Displayable.call(this, opts);\n};\n\nText.prototype = {\n  constructor: Text,\n  type: 'text',\n  brush: function (ctx, prevEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n    style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n    var text = style.text; // Convert to string\n\n    text != null && (text += ''); // Always bind style\n\n    style.bind(ctx, this, prevEl);\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    }\n\n    this.setTransform(ctx);\n    textHelper.renderText(this, ctx, text, style);\n    this.restoreTransform(ctx);\n  },\n  getBoundingRect: function () {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.rich);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n        var w = style.textStrokeWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(Text, Displayable);\nvar _default = Text;\nmodule.exports = _default;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar SymbolClz = __webpack_require__(59);\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, idx, isIgnore) {\n  var point = data.getItemLayout(idx); // Is an object\n  // if (point && point.hasOwnProperty('point')) {\n  //     point = point.point;\n  // }\n\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(isIgnore && isIgnore(idx)) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Array.<boolean>} [isIgnore]\n */\n\n\nsymbolDrawProto.updateData = function (data, isIgnore) {\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = {\n    itemStyle: seriesModel.getModel('itemStyle.normal').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('itemStyle.emphasis').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label.normal'),\n    hoverLabelModel: seriesModel.getModel('label.emphasis'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, newIdx, isIgnore)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, newIdx, isIgnore)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data;\n\n  if (data) {\n    if (enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  }\n};\n\nvar _default = SymbolDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\n__webpack_require__(75);\n\n__webpack_require__(222);\n\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction retrieveTargetInfo(payload, seriesModel) {\n  if (payload && (payload.type === 'treemapZoomToNode' || payload.type === 'treemapRootToNode')) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\n\nfunction getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\n\nfunction aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\n\nfunction wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}\n\nexports.retrieveTargetInfo = retrieveTargetInfo;\nexports.getPathToRoot = getPathToRoot;\nexports.aboveViewRoot = aboveViewRoot;\nexports.wrapTreePathInfo = wrapTreePathInfo;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds,\n *              where the input minSpan and maxSpan will not work.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  // Normalize firstly.\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    minSpan = maxSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleIndex = 0;\n  }\n\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbinden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1], Math.max(extend[0], value));\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar axisPointerModelHelper = __webpack_require__(61);\n\nvar axisTrigger = __webpack_require__(350);\n\n__webpack_require__(351);\n\n__webpack_require__(352);\n\n__webpack_require__(145);\n\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar modelUtil = __webpack_require__(5);\n\nvar helper = __webpack_require__(85);\n\nvar AxisProxy = __webpack_require__(406);\n\nvar each = zrUtil.each;\nvar eachAxisDim = helper.eachAxisDim;\nvar DataZoomModel = echarts.extendComponentModel({\n  type: 'dataZoom',\n  dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 4,\n    // Higher than normal component (z: 2).\n    orient: null,\n    // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n    xAxisIndex: null,\n    // Default the first horizontal category axis.\n    yAxisIndex: null,\n    // Default the first vertical category axis.\n    filterMode: 'filter',\n    // Possible values: 'filter' or 'empty' or 'weakFilter'.\n    // 'filter': data items which are out of window will be removed. This option is\n    //          applicable when filtering outliers. For each data item, it will be\n    //          filtered if one of the relevant dimensions is out of the window.\n    // 'weakFilter': data items which are out of window will be removed. This option\n    //          is applicable when filtering outliers. For each data item, it will be\n    //          filtered only if all  of the relevant dimensions are out of the same\n    //          side of the window.\n    // 'empty': data items which are out of window will be set to empty.\n    //          This option is applicable when user should not neglect\n    //          that there are some data items out of window.\n    // 'none': Do not filter.\n    // Taking line chart as an example, line will be broken in\n    // the filtered points when filterModel is set to 'empty', but\n    // be connected when set to 'filter'.\n    throttle: null,\n    // Dispatch action by the fixed rate, avoid frequency.\n    // default 100. Do not throttle when use null/undefined.\n    // If animation === true and animationDurationUpdate > 0,\n    // default value is 100, otherwise 20.\n    start: 0,\n    // Start percent. 0 ~ 100\n    end: 100,\n    // End percent. 0 ~ 100\n    startValue: null,\n    // Start value. If startValue specified, start is ignored.\n    endValue: null,\n    // End value. If endValue specified, end is ignored.\n    minSpan: null,\n    // 0 ~ 100\n    maxSpan: null,\n    // 0 ~ 100\n    minValueSpan: null,\n    // The range of dataZoom can not be smaller than that.\n    maxValueSpan: null,\n    // The range of dataZoom can not be larger than that.\n    rangeMode: null // Array, can be 'value' or 'percent'.\n\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * key like x_0, y_1\n     * @private\n     * @type {Object}\n     */\n    this._dataIntervalByAxis = {};\n    /**\n     * @private\n     */\n\n    this._dataInfo = {};\n    /**\n     * key like x_0, y_1\n     * @private\n     */\n\n    this._axisProxies = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * @private\n     */\n\n    this._autoThrottle = true;\n    /**\n     * 'percent' or 'value'\n     * @private\n     */\n\n    this._rangePropMode = ['percent', 'percent'];\n    var rawOption = retrieveRaw(option);\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.doInit(rawOption);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var rawOption = retrieveRaw(newOption); //FIX #2591\n\n    zrUtil.merge(this.option, newOption, true);\n    this.doInit(rawOption);\n  },\n\n  /**\n   * @protected\n   */\n  doInit: function (rawOption) {\n    var thisOption = this.option; // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    this._setDefaultThrottle(rawOption);\n\n    updateRangeUse(this, rawOption);\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n    this.textStyleModel = this.getModel('textStyle');\n\n    this._resetTarget();\n\n    this._giveAxisProxies();\n  },\n\n  /**\n   * @private\n   */\n  _giveAxisProxies: function () {\n    var axisProxies = this._axisProxies;\n    this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n      var axisModel = this.dependentModels[dimNames.axis][axisIndex]; // If exists, share axisProxy with other dataZoomModels.\n\n      var axisProxy = axisModel.__dzAxisProxy || ( // Use the first dataZoomModel as the main model of axisProxy.\n      axisModel.__dzAxisProxy = new AxisProxy(dimNames.name, axisIndex, this, ecModel)); // FIXME\n      // dispose __dzAxisProxy\n\n      axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetTarget: function () {\n    var thisOption = this.option;\n\n    var autoMode = this._judgeAutoMode();\n\n    eachAxisDim(function (dimNames) {\n      var axisIndexName = dimNames.axisIndex;\n      thisOption[axisIndexName] = modelUtil.normalizeToArray(thisOption[axisIndexName]);\n    }, this);\n\n    if (autoMode === 'axisIndex') {\n      this._autoSetAxisIndex();\n    } else if (autoMode === 'orient') {\n      this._autoSetOrient();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _judgeAutoMode: function () {\n    // Auto set only works for setOption at the first time.\n    // The following is user's reponsibility. So using merged\n    // option is OK.\n    var thisOption = this.option;\n    var hasIndexSpecified = false;\n    eachAxisDim(function (dimNames) {\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n      if (thisOption[dimNames.axisIndex] != null) {\n        hasIndexSpecified = true;\n      }\n    }, this);\n    var orient = thisOption.orient;\n\n    if (orient == null && hasIndexSpecified) {\n      return 'orient';\n    } else if (!hasIndexSpecified) {\n      if (orient == null) {\n        thisOption.orient = 'horizontal';\n      }\n\n      return 'axisIndex';\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetAxisIndex: function () {\n    var autoAxisIndex = true;\n    var orient = this.get('orient', true);\n    var thisOption = this.option;\n    var dependentModels = this.dependentModels;\n\n    if (autoAxisIndex) {\n      // Find axis that parallel to dataZoom as default.\n      var dimName = orient === 'vertical' ? 'y' : 'x';\n\n      if (dependentModels[dimName + 'Axis'].length) {\n        thisOption[dimName + 'AxisIndex'] = [0];\n        autoAxisIndex = false;\n      } else {\n        each(dependentModels.singleAxis, function (singleAxisModel) {\n          if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n            thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n            autoAxisIndex = false;\n          }\n        });\n      }\n    }\n\n    if (autoAxisIndex) {\n      // Find the first category axis as default. (consider polar)\n      eachAxisDim(function (dimNames) {\n        if (!autoAxisIndex) {\n          return;\n        }\n\n        var axisIndices = [];\n        var axisModels = this.dependentModels[dimNames.axis];\n\n        if (axisModels.length && !axisIndices.length) {\n          for (var i = 0, len = axisModels.length; i < len; i++) {\n            if (axisModels[i].get('type') === 'category') {\n              axisIndices.push(i);\n            }\n          }\n        }\n\n        thisOption[dimNames.axisIndex] = axisIndices;\n\n        if (axisIndices.length) {\n          autoAxisIndex = false;\n        }\n      }, this);\n    }\n\n    if (autoAxisIndex) {\n      // FIXME\n      // ec2xAxisIndexyAxisIndexscatterdataZoom\n      // Grid.js#getScaleByOptiontimelogaxis type\n      // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n      // dataZoom component auto adopts series that reference to\n      // both xAxis and yAxis which type is 'value'.\n      this.ecModel.eachSeries(function (seriesModel) {\n        if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n          eachAxisDim(function (dimNames) {\n            var axisIndices = thisOption[dimNames.axisIndex];\n            var axisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisId = seriesModel.get(dimNames.axisId);\n            var axisModel = seriesModel.ecModel.queryComponents({\n              mainType: dimNames.axis,\n              index: axisIndex,\n              id: axisId\n            })[0];\n            axisIndex = axisModel.componentIndex;\n\n            if (zrUtil.indexOf(axisIndices, axisIndex) < 0) {\n              axisIndices.push(axisIndex);\n            }\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetOrient: function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (dimNames) {\n      !dim && (dim = dimNames.name);\n    }, this);\n    this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n  },\n\n  /**\n   * @private\n   */\n  _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n    // FIXME\n    // seriesxAxisIndexyAxisIndex\n    // series.type === scatter\n    var is = true;\n    eachAxisDim(function (dimNames) {\n      var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n      var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n      if (!axisModel || axisModel.get('type') !== axisType) {\n        is = false;\n      }\n    }, this);\n    return is;\n  },\n\n  /**\n   * @private\n   */\n  _setDefaultThrottle: function (rawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (rawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  },\n\n  /**\n   * @public\n   */\n  getFirstTargetAxisModel: function () {\n    var firstAxisModel;\n    eachAxisDim(function (dimNames) {\n      if (firstAxisModel == null) {\n        var indices = this.get(dimNames.axisIndex);\n\n        if (indices.length) {\n          firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n        }\n      }\n    }, this);\n    return firstAxisModel;\n  },\n\n  /**\n   * @public\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  eachTargetAxis: function (callback, context) {\n    var ecModel = this.ecModel;\n    eachAxisDim(function (dimNames) {\n      each(this.get(dimNames.axisIndex), function (axisIndex) {\n        callback.call(context, dimNames, axisIndex, this, ecModel);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n   */\n  getAxisProxy: function (dimName, axisIndex) {\n    return this._axisProxies[dimName + '_' + axisIndex];\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/model/Model} If not found, return null/undefined.\n   */\n  getAxisModel: function (dimName, axisIndex) {\n    var axisProxy = this.getAxisProxy(dimName, axisIndex);\n    return axisProxy && axisProxy.getAxisModel();\n  },\n\n  /**\n   * If not specified, set to undefined.\n   *\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   * @param {boolean} [ignoreUpdateRangeUsg=false]\n   */\n  setRawRange: function (opt, ignoreUpdateRangeUsg) {\n    var option = this.option;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // If only one of 'start' and 'startValue' is not null/undefined, the other\n      // should be cleared, which enable clear the option.\n      // If both of them are not set, keep option with the original value, which\n      // enable use only set start but not set end when calling `dispatchAction`.\n      // The same as 'end' and 'endValue'.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        option[names[0]] = opt[names[0]];\n        option[names[1]] = opt[names[1]];\n      }\n    }, this);\n    !ignoreUpdateRangeUsg && updateRangeUse(this, opt);\n  },\n\n  /**\n   * @public\n   * @return {Array.<number>} [startPercent, endPercent]\n   */\n  getPercentRange: function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  },\n\n  /**\n   * @public\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @param {string} [axisDimName]\n   * @param {number} [axisIndex]\n   * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n   */\n  getValueRange: function (axisDimName, axisIndex) {\n    if (axisDimName == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n    }\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   * @return {module:echarts/component/dataZoom/AxisProxy}\n   */\n  findRepresentativeAxisProxy: function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var axisProxies = this._axisProxies;\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    } // If no hosted axis find not hosted axisProxy.\n    // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n    // and the option.start or option.end settings are different. The percentRange\n    // should follow axisProxy.\n    // (We encounter this problem in toolbox data zoom.)\n\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    }\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getRangePropMode: function () {\n    return this._rangePropMode.slice();\n  }\n});\n\nfunction retrieveRaw(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, rawOption) {\n  var rangePropMode = dataZoomModel._rangePropMode;\n  var rangeModeInOption = dataZoomModel.get('rangeMode');\n  each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n    var percentSpecified = rawOption[names[0]] != null;\n    var valueSpecified = rawOption[names[1]] != null;\n\n    if (percentSpecified && !valueSpecified) {\n      rangePropMode[index] = 'percent';\n    } else if (!percentSpecified && valueSpecified) {\n      rangePropMode[index] = 'value';\n    } else if (rangeModeInOption) {\n      rangePropMode[index] = rangeModeInOption[index];\n    } else if (percentSpecified) {\n      // percentSpecified && valueSpecified\n      rangePropMode[index] = 'percent';\n    } // else remain its original setting.\n\n  });\n}\n\nvar _default = DataZoomModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ComponentView = __webpack_require__(73);\n\nvar _default = ComponentView.extend({\n  type: 'dataZoom',\n  render: function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  },\n\n  /**\n   * Find the first target coordinate system.\n   *\n   * @protected\n   * @return {Object} {\n   *                   grid: [\n   *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n   *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n   *                       ...\n   *                   ],  // cartesians must not be null/undefined.\n   *                   polar: [\n   *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n   *                       ...\n   *                   ],  // polars must not be null/undefined.\n   *                   singleAxis: [\n   *                       {model: coord0, axisModels: [], coordIndex: 0}\n   *                   ]\n   */\n  getTargetCoordInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var ecModel = this.ecModel;\n    var coordSysLists = {};\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n\n      if (axisModel) {\n        var coordModel = axisModel.getCoordSysModel();\n        coordModel && save(coordModel, axisModel, coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []), coordModel.componentIndex);\n      }\n    }, this);\n\n    function save(coordModel, axisModel, store, coordIndex) {\n      var item;\n\n      for (var i = 0; i < store.length; i++) {\n        if (store[i].model === coordModel) {\n          item = store[i];\n          break;\n        }\n      }\n\n      if (!item) {\n        store.push(item = {\n          model: coordModel,\n          axisModels: [],\n          coordIndex: coordIndex\n        });\n      }\n\n      item.axisModels.push(axisModel);\n    }\n\n    return coordSysLists;\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar guid = __webpack_require__(92);\n\nvar env = __webpack_require__(11);\n\nvar zrUtil = __webpack_require__(0);\n\nvar Handler = __webpack_require__(167);\n\nvar Storage = __webpack_require__(169);\n\nvar Painter = __webpack_require__(173);\n\nvar Animation = __webpack_require__(175);\n\nvar HandlerProxy = __webpack_require__(176);\n\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nvar useVML = !env.canvasSupported;\nvar painterCtors = {\n  canvas: Painter\n};\nvar instances = {}; // ZRendermap\n\n/**\n * @type {string}\n */\n\nvar version = '3.7.4';\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\n\nfunction init(dom, opts) {\n  var zr = new ZRender(guid(), dom, opts);\n  instances[zr.id] = zr;\n  return zr;\n}\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\n\n\nfunction dispose(zr) {\n  if (zr) {\n    zr.dispose();\n  } else {\n    for (var key in instances) {\n      if (instances.hasOwnProperty(key)) {\n        instances[key].dispose();\n      }\n    }\n\n    instances = {};\n  }\n\n  return this;\n}\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\n\n\nfunction getInstance(id) {\n  return instances[id];\n}\n\nfunction registerPainter(name, Ctor) {\n  painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n  delete instances[id];\n}\n/**\n * @module zrender/ZRender\n */\n\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\n\n\nvar ZRender = function (id, dom, opts) {\n  opts = opts || {};\n  /**\n   * @type {HTMLDomElement}\n   */\n\n  this.dom = dom;\n  /**\n   * @type {string}\n   */\n\n  this.id = id;\n  var self = this;\n  var storage = new Storage();\n  var rendererType = opts.renderer; // TODO WebGL\n\n  if (useVML) {\n    if (!painterCtors.vml) {\n      throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n    }\n\n    rendererType = 'vml';\n  } else if (!rendererType || !painterCtors[rendererType]) {\n    rendererType = 'canvas';\n  }\n\n  var painter = new painterCtors[rendererType](dom, storage, opts);\n  this.storage = storage;\n  this.painter = painter;\n  var handerProxy = !env.node ? new HandlerProxy(painter.getViewportRoot()) : null;\n  this.handler = new Handler(storage, painter, handerProxy, painter.root);\n  /**\n   * @type {module:zrender/animation/Animation}\n   */\n\n  this.animation = new Animation({\n    stage: {\n      update: zrUtil.bind(this.flush, this)\n    }\n  });\n  this.animation.start();\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._needsRefresh; //  storage.delFromStorage, \n  // FIXME ugly\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n    el && el.removeSelfFromZr(self);\n  };\n\n  storage.addToStorage = function (el) {\n    oldAddToStorage.call(storage, el);\n    el.addSelfToZr(self);\n  };\n};\n\nZRender.prototype = {\n  constructor: ZRender,\n\n  /**\n   * \n   * @return {string}\n   */\n  getId: function () {\n    return this.id;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  add: function (el) {\n    this.storage.addRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  remove: function (el) {\n    this.storage.delRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Change configuration of layer\n   * @param {string} zLevel\n   * @param {Object} config\n   * @param {string} [config.clearColor=0] Clear color\n   * @param {string} [config.motionBlur=false] If enable motion blur\n   * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n  */\n  configLayer: function (zLevel, config) {\n    this.painter.configLayer(zLevel, config);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Repaint the canvas immediately\n   */\n  refreshImmediately: function () {\n    // var start = new Date();\n    // Clear needsRefresh ahead to avoid something wrong happens in refresh\n    // Or it will cause zrender refreshes again and again.\n    this._needsRefresh = false;\n    this.painter.refresh();\n    /**\n     * Avoid trigger zr.refresh in Element#beforeUpdate hook\n     */\n\n    this._needsRefresh = false; // var end = new Date();\n    // var log = document.getElementById('log');\n    // if (log) {\n    //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n    // }\n  },\n\n  /**\n   * Mark and repaint the canvas in the next frame of browser\n   */\n  refresh: function () {\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Perform all refresh\n   */\n  flush: function () {\n    if (this._needsRefresh) {\n      this.refreshImmediately();\n    }\n\n    if (this._needsRefreshHover) {\n      this.refreshHoverImmediately();\n    }\n  },\n\n  /**\n   * Add element to hover layer\n   * @param  {module:zrender/Element} el\n   * @param {Object} style\n   */\n  addHover: function (el, style) {\n    if (this.painter.addHover) {\n      this.painter.addHover(el, style);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Add element from hover layer\n   * @param  {module:zrender/Element} el\n   */\n  removeHover: function (el) {\n    if (this.painter.removeHover) {\n      this.painter.removeHover(el);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Clear all hover elements in hover layer\n   * @param  {module:zrender/Element} el\n   */\n  clearHover: function () {\n    if (this.painter.clearHover) {\n      this.painter.clearHover();\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Refresh hover in next frame\n   */\n  refreshHover: function () {\n    this._needsRefreshHover = true;\n  },\n\n  /**\n   * Refresh hover immediately\n   */\n  refreshHoverImmediately: function () {\n    this._needsRefreshHover = false;\n    this.painter.refreshHover && this.painter.refreshHover();\n  },\n\n  /**\n   * Resize the canvas.\n   * Should be invoked when container size is changed\n   * @param {Object} [opts]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n  resize: function (opts) {\n    opts = opts || {};\n    this.painter.resize(opts.width, opts.height);\n    this.handler.resize();\n  },\n\n  /**\n   * Stop and clear all animation immediately\n   */\n  clearAnimation: function () {\n    this.animation.clear();\n  },\n\n  /**\n   * Get container width\n   */\n  getWidth: function () {\n    return this.painter.getWidth();\n  },\n\n  /**\n   * Get container height\n   */\n  getHeight: function () {\n    return this.painter.getHeight();\n  },\n\n  /**\n   * Export the canvas as Base64 URL\n   * @param {string} type\n   * @param {string} [backgroundColor='#fff']\n   * @return {string} Base64 URL\n   */\n  // toDataURL: function(type, backgroundColor) {\n  //     return this.painter.getRenderedCanvas({\n  //         backgroundColor: backgroundColor\n  //     }).toDataURL(type);\n  // },\n\n  /**\n   * Converting a path to image.\n   * It has much better performance of drawing image rather than drawing a vector path.\n   * @param {module:zrender/graphic/Path} e\n   * @param {number} width\n   * @param {number} height\n   */\n  pathToImage: function (e, dpr) {\n    return this.painter.pathToImage(e, dpr);\n  },\n\n  /**\n   * Set default cursor\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    this.handler.setCursorStyle(cursorStyle);\n  },\n\n  /**\n   * Find hovered element\n   * @param {number} x\n   * @param {number} y\n   * @return {Object} {target, topTarget}\n   */\n  findHover: function (x, y) {\n    return this.handler.findHover(x, y);\n  },\n\n  /**\n   * Bind event\n   *\n   * @param {string} eventName Event name\n   * @param {Function} eventHandler Handler function\n   * @param {Object} [context] Context object\n   */\n  on: function (eventName, eventHandler, context) {\n    this.handler.on(eventName, eventHandler, context);\n  },\n\n  /**\n   * Unbind event\n   * @param {string} eventName Event name\n   * @param {Function} [eventHandler] Handler function\n   */\n  off: function (eventName, eventHandler) {\n    this.handler.off(eventName, eventHandler);\n  },\n\n  /**\n   * Trigger event manually\n   *\n   * @param {string} eventName Event name\n   * @param {event=} event Event object\n   */\n  trigger: function (eventName, event) {\n    this.handler.trigger(eventName, event);\n  },\n\n  /**\n   * Clear all objects and the canvas.\n   */\n  clear: function () {\n    this.storage.delRoot();\n    this.painter.clear();\n  },\n\n  /**\n   * Dispose self.\n   */\n  dispose: function () {\n    this.animation.stop();\n    this.clear();\n    this.storage.dispose();\n    this.painter.dispose();\n    this.handler.dispose();\n    this.animation = this.storage = this.painter = this.handler = null;\n    delInstance(this.id);\n  }\n};\nexports.version = version;\nexports.init = init;\nexports.dispose = dispose;\nexports.getInstance = getInstance;\nexports.registerPainter = registerPainter;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Element = __webpack_require__(93);\n\nvar BoundingRect = __webpack_require__(9);\n\n/**\n * GroupGroup\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * \n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function () {\n    return this._children.slice();\n  },\n\n  /**\n   *  index \n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function (idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * \n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function (name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function () {\n    return this._children.length;\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  add: function (child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   *  nextSibling \n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function (child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function (child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  remove: function (child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * \n   */\n  removeAll: function () {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function (cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function () {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function (includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config\n * @exports zrender/config\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\n/**\n * debugcatchBrushExceptiontrue\n * 0 : debug\n * 1 : \n * 2 : \n */\n\n\nvar debugMode = 0; // retina \n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Style = __webpack_require__(96);\n\nvar Element = __webpack_require__(93);\n\nvar RectText = __webpack_require__(99);\n\n/**\n * \n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\nfunction Displayable(opts) {\n  opts = opts || {};\n  Element.call(this, opts); // Extend properties\n\n  for (var name in opts) {\n    if (opts.hasOwnProperty(name) && name !== 'style') {\n      this[name] = opts[name];\n    }\n  }\n  /**\n   * @type {module:zrender/graphic/Style}\n   */\n\n\n  this.style = new Style(opts.style, this);\n  this._rect = null; // Shapes for cascade clipping.\n\n  this.__clipPaths = []; // FIXME Stateful must be mixined after style is setted\n  // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n  constructor: Displayable,\n  type: 'displayable',\n\n  /**\n   * Displayable Painter \n   * Dirty flag. From which painter will determine if this displayable object needs brush\n   * @name module:zrender/graphic/Displayable#__dirty\n   * @type {boolean}\n   */\n  __dirty: true,\n\n  /**\n   * true\n   * If ignore drawing of the displayable object. Mouse event will still be triggered\n   * @name module:/zrender/graphic/Displayable#invisible\n   * @type {boolean}\n   * @default false\n   */\n  invisible: false,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z: 0,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z2: 0,\n\n  /**\n   * zlevelcanvas\n   * @name module:/zrender/graphic/Displayable#zlevel\n   * @type {number}\n   * @default 0\n   */\n  zlevel: 0,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  draggable: false,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  dragging: false,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * If enable culling\n   * @type {boolean}\n   * @default false\n   */\n  culling: false,\n\n  /**\n   * Mouse cursor when hovered\n   * @name module:/zrender/graphic/Displayable#cursor\n   * @type {string}\n   */\n  cursor: 'pointer',\n\n  /**\n   * If hover area is bounding rect\n   * @name module:/zrender/graphic/Displayable#rectHover\n   * @type {string}\n   */\n  rectHover: false,\n\n  /**\n   * Render the element progressively when the value >= 0,\n   * usefull for large data.\n   * @type {number}\n   */\n  progressive: -1,\n  beforeBrush: function (ctx) {},\n  afterBrush: function (ctx) {},\n\n  /**\n   * \n   * @param {CanvasRenderingContext2D} ctx\n   */\n  // Interface\n  brush: function (ctx, prevEl) {},\n\n  /**\n   * \n   * @return {module:zrender/core/BoundingRect}\n   */\n  // Interface\n  getBoundingRect: function () {},\n\n  /**\n   *  x, y \n   * If displayable element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  contain: function (x, y) {\n    return this.rectContain(x, y);\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    cb.call(context, this);\n  },\n\n  /**\n   *  x, y \n   * If bounding rect of element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  rectContain: function (x, y) {\n    var coord = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    return rect.contain(coord[0], coord[1]);\n  },\n\n  /**\n   * \n   * Mark displayable element dirty and refresh next frame\n   */\n  dirty: function () {\n    this.__dirty = true;\n    this._rect = null;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * \n   * If displayable object binded any event\n   * @return {boolean}\n   */\n  // TODO,  bind \n  // isSilent: function () {\n  //     return !(\n  //         this.hoverable || this.draggable\n  //         || this.onmousemove || this.onmouseover || this.onmouseout\n  //         || this.onmousedown || this.onmouseup || this.onclick\n  //         || this.ondragenter || this.ondragover || this.ondragleave\n  //         || this.ondrop\n  //     );\n  // },\n\n  /**\n   * Alias for animate('style')\n   * @param {boolean} loop\n   */\n  animateStyle: function (loop) {\n    return this.animate('style', loop);\n  },\n  attrKV: function (key, value) {\n    if (key !== 'style') {\n      Element.prototype.attrKV.call(this, key, value);\n    } else {\n      this.style.set(value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setStyle: function (key, value) {\n    this.style.set(key, value);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * Use given style object\n   * @param  {Object} obj\n   */\n  useStyle: function (obj) {\n    this.style = new Style(obj, this);\n    this.dirty(false);\n    return this;\n  }\n};\nzrUtil.inherits(Displayable, Element);\nzrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\nvar _default = Displayable;\nmodule.exports = _default;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(0);\n\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar each = _util.each;\nvar normalizeCssArray = _util.normalizeCssArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\n\nvar textContain = __webpack_require__(20);\n\nvar roundRectHelper = __webpack_require__(100);\n\nvar imageHelper = __webpack_require__(70);\n\n// TODO: Have not support 'start', 'end' yet.\nvar VALID_TEXT_ALIGN = {\n  left: 1,\n  right: 1,\n  center: 1\n};\nvar VALID_TEXT_VERTICAL_ALIGN = {\n  top: 1,\n  bottom: 1,\n  middle: 1\n};\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\n\nfunction normalizeTextStyle(style) {\n  normalizeStyle(style);\n  each(style.rich, normalizeStyle);\n  return style;\n}\n\nfunction normalizeStyle(style) {\n  if (style) {\n    style.font = textContain.makeFont(style);\n    var textAlign = style.textAlign;\n    textAlign === 'middle' && (textAlign = 'center');\n    style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n    var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n    textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n    style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n    var textPadding = style.textPadding;\n\n    if (textPadding) {\n      style.textPadding = normalizeCssArray(style.textPadding);\n    }\n  }\n}\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n */\n\n\nfunction renderText(hostEl, ctx, text, style, rect) {\n  style.rich ? renderRichText(hostEl, ctx, text, style, rect) : renderPlainText(hostEl, ctx, text, style, rect);\n}\n\nfunction renderPlainText(hostEl, ctx, text, style, rect) {\n  var font = setCtx(ctx, 'font', style.font || textContain.DEFAULT_FONT);\n  var textPadding = style.textPadding;\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirty) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, font, textPadding, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var textLines = contentBlock.lines;\n  var lineHeight = contentBlock.lineHeight;\n  var boxPos = getBoxPosition(outerHeight, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY;\n  var needDrawBg = needDrawBackground(style);\n\n  if (needDrawBg || textPadding) {\n    // Consider performance, do not call getTextWidth util necessary.\n    var textWidth = textContain.getWidth(text, font);\n    var outerWidth = textWidth;\n    textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n    var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n    needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    if (textPadding) {\n      textX = getTextXForPadding(baseX, textAlign, textPadding);\n      textY += textPadding[0];\n    }\n  }\n\n  setCtx(ctx, 'textAlign', textAlign || 'left'); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle'); // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n  setCtx(ctx, 'shadowBlur', style.textShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textShadowOffsetY || 0); // `textBaseline` is set as 'middle'.\n\n  textY += lineHeight / 2;\n  var textStrokeWidth = style.textStrokeWidth;\n  var textStroke = getStroke(style.textStroke, textStrokeWidth);\n  var textFill = getFill(style.textFill);\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n  }\n\n  for (var i = 0; i < textLines.length; i++) {\n    // Fill after stroke so the outline will not cover the main part.\n    textStroke && ctx.strokeText(textLines[i], textX, textY);\n    textFill && ctx.fillText(textLines[i], textX, textY);\n    textY += lineHeight;\n  }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect) {\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirty) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n  }\n\n  drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n  var contentWidth = contentBlock.width;\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var textPadding = style.textPadding;\n  var boxPos = getBoxPosition(outerHeight, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var xLeft = boxX;\n  var lineTop = boxY;\n\n  if (textPadding) {\n    xLeft += textPadding[3];\n    lineTop += textPadding[0];\n  }\n\n  var xRight = xLeft + contentWidth;\n  needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n  for (var i = 0; i < contentBlock.lines.length; i++) {\n    var line = contentBlock.lines[i];\n    var tokens = line.tokens;\n    var tokenCount = tokens.length;\n    var lineHeight = line.lineHeight;\n    var usedWidth = line.width;\n    var leftIndex = 0;\n    var lineXLeft = xLeft;\n    var lineXRight = xRight;\n    var rightIndex = tokenCount - 1;\n    var token;\n\n    while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n      usedWidth -= token.width;\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n      usedWidth -= token.width;\n      lineXRight -= token.width;\n      rightIndex--;\n    } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n    lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n    while (leftIndex <= rightIndex) {\n      token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    lineTop += lineHeight;\n  }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n  // textRotation only apply in RectText.\n  if (rect && style.textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      x = rect.width / 2 + rect.x;\n      y = rect.height / 2 + rect.y;\n    } else if (origin) {\n      x = origin[0] + rect.x;\n      y = origin[1] + rect.y;\n    }\n\n    ctx.translate(x, y); // Positive: anticlockwise\n\n    ctx.rotate(-style.textRotation);\n    ctx.translate(-x, -y);\n  }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n  var tokenStyle = style.rich[token.styleName] || {}; // 'ctx.textBaseline' is always set as 'middle', for sake of\n  // the bias of \"Microsoft YaHei\".\n\n  var textVerticalAlign = token.textVerticalAlign;\n  var y = lineTop + lineHeight / 2;\n\n  if (textVerticalAlign === 'top') {\n    y = lineTop + token.height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y = lineTop + lineHeight - token.height / 2;\n  }\n\n  !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n  var textPadding = token.textPadding;\n\n  if (textPadding) {\n    x = getTextXForPadding(x, textAlign, textPadding);\n    y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n  }\n\n  setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n  setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n  setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n  setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle');\n  setCtx(ctx, 'font', token.font || textContain.DEFAULT_FONT);\n  var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n  var textFill = getFill(tokenStyle.textFill || style.textFill);\n  var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n    ctx.strokeText(token.text, x, y);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n    ctx.fillText(token.text, x, y);\n  }\n}\n\nfunction needDrawBackground(style) {\n  return style.textBackgroundColor || style.textBorderWidth && style.textBorderColor;\n} // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius}\n// shape: {x, y, width, height}\n\n\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n  var textBackgroundColor = style.textBackgroundColor;\n  var textBorderWidth = style.textBorderWidth;\n  var textBorderColor = style.textBorderColor;\n  var isPlainBg = isString(textBackgroundColor);\n  setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n  if (isPlainBg || textBorderWidth && textBorderColor) {\n    ctx.beginPath();\n    var textBorderRadius = style.textBorderRadius;\n\n    if (!textBorderRadius) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        r: textBorderRadius\n      });\n    }\n\n    ctx.closePath();\n  }\n\n  if (isPlainBg) {\n    setCtx(ctx, 'fillStyle', textBackgroundColor);\n    ctx.fill();\n  } else if (isObject(textBackgroundColor)) {\n    var image = textBackgroundColor.image;\n    image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n    if (image && imageHelper.isImageReady(image)) {\n      ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  if (textBorderWidth && textBorderColor) {\n    setCtx(ctx, 'lineWidth', textBorderWidth);\n    setCtx(ctx, 'strokeStyle', textBorderColor);\n    ctx.stroke();\n  }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n  // Replace image, so that `contain/text.js#parseRichText`\n  // will get correct result in next tick.\n  textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(blockHeiht, style, rect) {\n  var baseX = style.x || 0;\n  var baseY = style.y || 0;\n  var textAlign = style.textAlign;\n  var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n  if (rect) {\n    var textPosition = style.textPosition;\n\n    if (textPosition instanceof Array) {\n      // Percent\n      baseX = rect.x + parsePercent(textPosition[0], rect.width);\n      baseY = rect.y + parsePercent(textPosition[1], rect.height);\n    } else {\n      var res = textContain.adjustTextPositionOnRect(textPosition, rect, style.textDistance);\n      baseX = res.x;\n      baseY = res.y; // Default align and baseline when has textPosition\n\n      textAlign = textAlign || res.textAlign;\n      textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n    } // textOffset is only support in RectText, otherwise\n    // we have to adjust boundingRect for textOffset.\n\n\n    var textOffset = style.textOffset;\n\n    if (textOffset) {\n      baseX += textOffset[0];\n      baseY += textOffset[1];\n    }\n  }\n\n  return {\n    baseX: baseX,\n    baseY: baseY,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nfunction setCtx(ctx, prop, value) {\n  // FIXME ??? performance try\n  // if (ctx.__currentValues[prop] !== value) {\n  // ctx[prop] = ctx.__currentValues[prop] = value;\n  ctx[prop] = value; // }\n\n  return ctx[prop];\n}\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\n\n\nfunction getStroke(stroke, lineWidth) {\n  return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n  : stroke.image || stroke.colorStops ? '#000' : stroke;\n}\n\nfunction getFill(fill) {\n  return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n  : fill.image || fill.colorStops ? '#000' : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n  if (typeof value === 'string') {\n    if (value.lastIndexOf('%') >= 0) {\n      return parseFloat(value) / 100 * maxValue;\n    }\n\n    return parseFloat(value);\n  }\n\n  return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\n\n\nfunction needDrawText(text, style) {\n  return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n}\n\nexports.normalizeTextStyle = normalizeTextStyle;\nexports.renderText = renderText;\nexports.getStroke = getStroke;\nexports.getFill = getFill;\nexports.needDrawText = needDrawText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\n/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function (colorStops) {\n  this.colorStops = colorStops || [];\n};\n\nGradient.prototype = {\n  constructor: Gradient,\n  addColorStop: function (offset, color) {\n    this.colorStops.push({\n      offset: offset,\n      color: color\n    });\n  }\n};\nvar _default = Gradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar clazzUtil = __webpack_require__(24);\n\n/**\n * // Scale class management\n * @module echarts/scale/Scale\n */\n\n/**\n * @param {Object} [setting]\n */\nfunction Scale(setting) {\n  this._setting = setting || {};\n  /**\n   * Extent\n   * @type {Array.<number>}\n   * @protected\n   */\n\n  this._extent = [Infinity, -Infinity];\n  /**\n   * Step is calculated in adjustExtent\n   * @type {Array.<number>}\n   * @protected\n   */\n\n  this._interval = 0;\n  this.init && this.init.apply(this, arguments);\n}\n/**\n * Parse input val to valid inner number.\n * @param {*} val\n * @return {number}\n */\n\n\nScale.prototype.parse = function (val) {\n  // Notice: This would be a trap here, If the implementation\n  // of this method depends on extent, and this method is used\n  // before extent set (like in dataZoom), it would be wrong.\n  // Nevertheless, parse does not depend on extent generally.\n  return val;\n};\n\nScale.prototype.getSetting = function (name) {\n  return this._setting[name];\n};\n\nScale.prototype.contain = function (val) {\n  var extent = this._extent;\n  return val >= extent[0] && val <= extent[1];\n};\n/**\n * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n * @param {number} val\n * @return {number}\n */\n\n\nScale.prototype.normalize = function (val) {\n  var extent = this._extent;\n\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n};\n/**\n * Scale normalized value\n * @param {number} val\n * @return {number}\n */\n\n\nScale.prototype.scale = function (val) {\n  var extent = this._extent;\n  return val * (extent[1] - extent[0]) + extent[0];\n};\n/**\n * Set extent from data\n * @param {Array.<number>} other\n */\n\n\nScale.prototype.unionExtent = function (other) {\n  var extent = this._extent;\n  other[0] < extent[0] && (extent[0] = other[0]);\n  other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n  // this.setExtent(extent[0], extent[1]);\n};\n/**\n * Set extent from data\n * @param {module:echarts/data/List} data\n * @param {string} dim\n */\n\n\nScale.prototype.unionExtentFromData = function (data, dim) {\n  this.unionExtent(data.getDataExtent(dim, true));\n};\n/**\n * Get extent\n * @return {Array.<number>}\n */\n\n\nScale.prototype.getExtent = function () {\n  return this._extent.slice();\n};\n/**\n * Set extent\n * @param {number} start\n * @param {number} end\n */\n\n\nScale.prototype.setExtent = function (start, end) {\n  var thisExtent = this._extent;\n\n  if (!isNaN(start)) {\n    thisExtent[0] = start;\n  }\n\n  if (!isNaN(end)) {\n    thisExtent[1] = end;\n  }\n};\n/**\n * @return {Array.<string>}\n */\n\n\nScale.prototype.getTicksLabels = function () {\n  var labels = [];\n  var ticks = this.getTicks();\n\n  for (var i = 0; i < ticks.length; i++) {\n    labels.push(this.getLabel(ticks[i]));\n  }\n\n  return labels;\n};\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\n\n\nScale.prototype.isBlank = function () {\n  return this._isBlank;\n},\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\nScale.prototype.setBlank = function (isBlank) {\n  this._isBlank = isBlank;\n};\nclazzUtil.enableClassExtend(Scale);\nclazzUtil.enableClassManagement(Scale, {\n  registerWhenExtend: true\n});\nvar _default = Scale;\nmodule.exports = _default;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar numberUtil = __webpack_require__(3);\n\nvar formatUtil = __webpack_require__(8);\n\nvar Scale = __webpack_require__(57);\n\nvar helper = __webpack_require__(110);\n\n/**\n * Interval scale\n * @module echarts/scale/Interval\n */\nvar roundNumber = numberUtil.round;\n/**\n * @alias module:echarts/coord/scale/Interval\n * @constructor\n */\n\nvar IntervalScale = Scale.extend({\n  type: 'interval',\n  _interval: 0,\n  _intervalPrecision: 2,\n  setExtent: function (start, end) {\n    var thisExtent = this._extent; //start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  },\n  unionExtent: function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n  },\n\n  /**\n   * Get interval\n   */\n  getInterval: function () {\n    return this._interval;\n  },\n\n  /**\n   * Set interval\n   */\n  setInterval: function (interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n    // We assume user wan't to set both interval, min, max to get a better result\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getTicks: function () {\n    return helper.intervalScaleGetTicks(this._interval, this._extent, this._niceExtent, this._intervalPrecision);\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getTicksLabels: function () {\n    var labels = [];\n    var ticks = this.getTicks();\n\n    for (var i = 0; i < ticks.length; i++) {\n      labels.push(this.getLabel(ticks[i]));\n    }\n\n    return labels;\n  },\n\n  /**\n   * @param {number} data\n   * @param {Object} [opt]\n   * @param {number|string} [opt.precision] If 'auto', use nice presision.\n   * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n   * @return {string}\n   */\n  getLabel: function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecisionSafe(data) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    data = roundNumber(data, precision, true);\n    return formatUtil.addCommas(data);\n  },\n\n  /**\n   * Update interval and extent of intervals for nice ticks\n   *\n   * @param {number} [splitNumber = 5] Desired number of ticks\n   * @param {number} [minInterval]\n   * @param {number} [maxInterval]\n   */\n  niceTicks: function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  },\n\n  /**\n   * Nice extent.\n   * @param {Object} opt\n   * @param {number} [opt.splitNumber = 5] Given approx tick number\n   * @param {boolean} [opt.fixMin=false]\n   * @param {boolean} [opt.fixMax=false]\n   * @param {boolean} [opt.minInterval]\n   * @param {boolean} [opt.maxInterval]\n   */\n  niceExtent: function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        var expandSize = extent[0]; // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  }\n});\n/**\n * @return {module:echarts/scale/Time}\n */\n\nIntervalScale.create = function () {\n  return new IntervalScale();\n};\n\nvar _default = IntervalScale;\nmodule.exports = _default;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = __webpack_require__(2);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = __webpack_require__(114);\n\nvar findLabelValueDim = _labelHelper.findLabelValueDim;\n\n/**\n * @module echarts/chart/helper/Symbol\n */\nfunction getSymbolSize(data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n}\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : 'pointer';\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    this._createSymbol(symbolType, data, idx, symbolSize);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\nvar normalLabelAccessPath = ['label', 'normal'];\nvar emphasisLabelAccessPath = ['label', 'emphasis'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolRotate = seriesScope && seriesScope.symbolRotate;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolRotate = itemModel.getShallow('symbolRotate');\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  var valueDim = !useNameLabel && findLabelValueDim(data);\n\n  if (useNameLabel || valueDim != null) {\n    graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: useNameLabel ? data.getName(idx) : data.get(valueDim, idx),\n      isRectText: true,\n      autoColor: color\n    });\n  }\n\n  symbolPath.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  symbolPath.hoverStyle = hoverItemStyle; // FIXME\n  // Do not use symbol.trigger('emphasis'), but use symbol.highlight() instead.\n\n  graphic.setHoverStyle(symbolPath);\n  var scale = getScale(symbolSize);\n\n  if (hoverAnimation && seriesModel.isAnimationEnabled()) {\n    var onEmphasis = function () {\n      var ratio = scale[1] / scale[0];\n      this.animateTo({\n        scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n      }, 400, 'elasticOut');\n    };\n\n    var onNormal = function () {\n      this.animateTo({\n        scale: scale\n      }, 400, 'elasticOut');\n    };\n\n    symbolPath.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal);\n  }\n};\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar axisDefault = __webpack_require__(117);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Model = __webpack_require__(10);\n\nvar each = zrUtil.each;\nvar curry = zrUtil.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\n\nfunction collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = []; // Collect axes info.\n\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n    // for user. So we enable seting tooltip on coordSys model.\n\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    } // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n\n\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var key = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n      var axisInfo = result.axesInfo[key] = {\n        key: key,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: []\n      };\n      axesInfoInCoordSys[key] = axisInfo;\n      result.seriesInvolved |= involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[key] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\n\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var volatileOption = {};\n  each(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n    volatileOption[field] = zrUtil.clone(tooltipAxisPointerModel.get(field));\n  }); // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n  // Only these properties can be overrided from tooltip to axisPointer.\n\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n  labelOption.show == null && (labelOption.show = false);\n\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    labelOption.show = true; // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && zrUtil.defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n    var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n      return;\n    }\n\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  }, this);\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\n\n\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || zrUtil.isArray(linkPropValue) && zrUtil.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n\n  if (!axisInfo) {\n    return;\n  }\n\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n  if (value != null) {\n    value = scale.parse(value);\n  }\n\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n\n  if ( // Pick a value on axis when initializing.\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n\n  option.value = value;\n\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\n\nfunction getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get('handle.show');\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\n\n\nfunction makeKey(model) {\n  return model.type + '||' + model.id;\n}\n\nexports.collect = collect;\nexports.fixValue = fixValue;\nexports.getAxisInfo = getAxisInfo;\nexports.getAxisPointerModel = getAxisPointerModel;\nexports.makeKey = makeKey;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\nfunction _default(seriesType, ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType(seriesType, function (series) {\n    var data = series.getData();\n    data.filterSelf(function (idx) {\n      var name = data.getName(idx); // If in any legend component the status is not selected.\n\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(name)) {\n          return false;\n        }\n      }\n\n      return true;\n    }, this);\n  }, this);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar Geo = __webpack_require__(249);\n\nvar layout = __webpack_require__(6);\n\nvar numberUtil = __webpack_require__(3);\n\n/**\n * Resize method bound to the geo\n * @param {module:echarts/coord/geo/GeoModel|module:echarts/chart/map/MapModel} geoModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n\n  if (boundingCoords != null) {\n    var leftTop = boundingCoords[0];\n    var rightBottom = boundingCoords[1];\n\n    if (isNaN(leftTop[0]) || isNaN(leftTop[1]) || isNaN(rightBottom[0]) || isNaN(rightBottom[1])) {} else {\n      this.setBoundingRect(leftTop[0], leftTop[1], rightBottom[0] - leftTop[0], rightBottom[1] - leftTop[1]);\n    }\n  }\n\n  var rect = this.getBoundingRect();\n  var boxLayoutOption;\n  var center = geoModel.get('layoutCenter');\n  var size = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspectScale = geoModel.get('aspectScale') || 0.75;\n  var aspect = rect.width / rect.height * aspectScale;\n  var useCenterAndSize = false;\n\n  if (center && size) {\n    center = [numberUtil.parsePercent(center[0], viewWidth), numberUtil.parsePercent(center[1], viewHeight)];\n    size = numberUtil.parsePercent(size, Math.min(viewWidth, viewHeight));\n\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {}\n  }\n\n  var viewRect;\n\n  if (useCenterAndSize) {\n    var viewRect = {};\n\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    boxLayoutOption = geoModel.getBoxLayoutParams(); // 0.75 rate\n\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'));\n  this.setZoom(geoModel.get('zoom'));\n}\n/**\n * @param {module:echarts/coord/Geo} geo\n * @param {module:echarts/model/Model} model\n * @inner\n */\n\n\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\n\nvar geoCreator = {\n  // For deciding which dimensions to use when creating list data\n  dimensions: Geo.prototype.dimensions,\n  create: function (ecModel, api) {\n    var geoList = []; // FIXME Create each time may be slow\n\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var name = geoModel.get('map');\n      var mapData = echarts.getMap(name);\n      var geo = new Geo(name + idx, name, mapData && mapData.geoJson, mapData && mapData.specialAreas, geoModel.get('nameMap'));\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo);\n      setGeoCoords(geo, geoModel);\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel; // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    }); // If has map series\n\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var mapData = echarts.getMap(mapType);\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, mapData && mapData.geoJson, mapData && mapData.specialAreas, zrUtil.mergeAll(nameMapList));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo); // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  },\n\n  /**\n   * Fill given regions array\n   * @param  {Array.<Object>} originRegionArr\n   * @param  {string} mapName\n   * @param  {Object} [nameMap]\n   * @return {Array}\n   */\n  getFilledRegions: function (originRegionArr, mapName, nameMap) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    nameMap = nameMap || {};\n    var map = echarts.getMap(mapName);\n    var geoJson = map && map.geoJson;\n\n    if (!geoJson) {\n      return originRegionArr;\n    }\n\n    var dataNameMap = zrUtil.createHashMap();\n    var features = geoJson.features;\n\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n\n    for (var i = 0; i < features.length; i++) {\n      var name = features[i].properties.name;\n\n      if (!dataNameMap.get(name)) {\n        if (nameMap.hasOwnProperty(name)) {\n          name = nameMap[name];\n        }\n\n        regionsArr.push({\n          name: name\n        });\n      }\n    }\n\n    return regionsArr;\n  }\n};\necharts.registerCoordinateSystem('geo', geoCreator);\nvar _default = geoCreator;\nmodule.exports = _default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Eventful = __webpack_require__(30);\n\nvar eventTool = __webpack_require__(23);\n\nvar interactionMutex = __webpack_require__(124);\n\n/**\n * @alias module:echarts/component/helper/RoamController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\nfunction RoamController(zr) {\n  /**\n   * @type {Function}\n   */\n  this.pointerChecker;\n  /**\n   * @type {module:zrender}\n   */\n\n  this._zr = zr;\n  /**\n   * @type {Object}\n   */\n\n  this._opt = {}; // Avoid two roamController bind the same handler\n\n  var bind = zrUtil.bind;\n  var mousedownHandler = bind(mousedown, this);\n  var mousemoveHandler = bind(mousemove, this);\n  var mouseupHandler = bind(mouseup, this);\n  var mousewheelHandler = bind(mousewheel, this);\n  var pinchHandler = bind(pinch, this);\n  Eventful.call(this);\n  /**\n   * @param {Function} pointerChecker\n   *                   input: x, y\n   *                   output: boolean\n   */\n\n  this.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  /**\n   * Notice: only enable needed types. For example, if 'zoom'\n   * is not needed, 'zoom' should not be enabled, otherwise\n   * default mousewheel behaviour (scroll page) will be disabled.\n   *\n   * @param  {boolean|string} [controlType=true] Specify the control type,\n   *                          which can be null/undefined or true/false\n   *                          or 'pan/move' or 'zoom'/'scale'\n   * @param {Object} [opt]\n   * @param {Object} [opt.zoomOnMouseWheel=true]\n   * @param {Object} [opt.moveOnMouseMove=true]\n   * @param {Object} [opt.preventDefaultMouseMove=true] When pan.\n   */\n\n\n  this.enable = function (controlType, opt) {\n    // Disable previous first\n    this.disable();\n    this._opt = zrUtil.defaults(zrUtil.clone(opt) || {}, {\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      preventDefaultMouseMove: true\n    });\n\n    if (controlType == null) {\n      controlType = true;\n    }\n\n    if (controlType === true || controlType === 'move' || controlType === 'pan') {\n      zr.on('mousedown', mousedownHandler);\n      zr.on('mousemove', mousemoveHandler);\n      zr.on('mouseup', mouseupHandler);\n    }\n\n    if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n      zr.on('mousewheel', mousewheelHandler);\n      zr.on('pinch', pinchHandler);\n    }\n  };\n\n  this.disable = function () {\n    zr.off('mousedown', mousedownHandler);\n    zr.off('mousemove', mousemoveHandler);\n    zr.off('mouseup', mouseupHandler);\n    zr.off('mousewheel', mousewheelHandler);\n    zr.off('pinch', pinchHandler);\n  };\n\n  this.dispose = this.disable;\n\n  this.isDragging = function () {\n    return this._dragging;\n  };\n\n  this.isPinching = function () {\n    return this._pinching;\n  };\n}\n\nzrUtil.mixin(RoamController, Eventful);\n\nfunction mousedown(e) {\n  if (eventTool.notLeftMouse(e) || e.target && e.target.draggable) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY; // Only check on mosedown, but not mousemove.\n  // Mouse can be out of target when mouse moving.\n\n  if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n    this._x = x;\n    this._y = y;\n    this._dragging = true;\n  }\n}\n\nfunction mousemove(e) {\n  if (eventTool.notLeftMouse(e) || !checkKeyBinding(this, 'moveOnMouseMove', e) || !this._dragging || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY;\n  var oldX = this._x;\n  var oldY = this._y;\n  var dx = x - oldX;\n  var dy = y - oldY;\n  this._x = x;\n  this._y = y;\n  this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n  this.trigger('pan', dx, dy, oldX, oldY, x, y);\n}\n\nfunction mouseup(e) {\n  if (!eventTool.notLeftMouse(e)) {\n    this._dragging = false;\n  }\n}\n\nfunction mousewheel(e) {\n  // wheelDelta maybe -0 in chrome mac.\n  if (!checkKeyBinding(this, 'zoomOnMouseWheel', e) || e.wheelDelta === 0) {\n    return;\n  } // Convenience:\n  // Mac and VM Windows on Mac: scroll up: zoom out.\n  // Windows: scroll up: zoom in.\n\n\n  var zoomDelta = e.wheelDelta > 0 ? 1.1 : 1 / 1.1;\n  zoom.call(this, e, zoomDelta, e.offsetX, e.offsetY);\n}\n\nfunction pinch(e) {\n  if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var zoomDelta = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n  zoom.call(this, e, zoomDelta, e.pinchX, e.pinchY);\n}\n\nfunction zoom(e, zoomDelta, zoomX, zoomY) {\n  if (this.pointerChecker && this.pointerChecker(e, zoomX, zoomY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    this.trigger('zoom', zoomDelta, zoomX, zoomY);\n  }\n}\n\nfunction checkKeyBinding(roamController, prop, e) {\n  var setting = roamController._opt[prop];\n  return setting && (!zrUtil.isString(setting) || e.event[setting + 'Key']);\n}\n\nvar _default = RoamController;\nmodule.exports = _default;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar List = __webpack_require__(14);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar WhiskerBoxDraw = __webpack_require__(316);\n\nvar zrUtil = __webpack_require__(0);\n\nvar seriesModelMixin = {\n  /**\n   * @private\n   * @type {string}\n   */\n  _baseAxisDim: null,\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var categories;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // \n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      categories = xAxisModel.getCategories();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      categories = yAxisModel.getCategories();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var data = option.data;\n    addOrdinal && zrUtil.each(data, function (item, index) {\n      if (item.value && zrUtil.isArray(item.value)) {\n        item.value.unshift(index);\n      } else {\n        zrUtil.isArray(item) && item.unshift(index);\n      }\n    });\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var dimensions = [{\n      name: baseAxisDim,\n      otherDims: {\n        tooltip: false\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    dimensions = completeDimensions(dimensions, data, {\n      encodeDef: this.get('encode'),\n      dimsDef: this.get('dimensions'),\n      // Consider empty data entry.\n      dimCount: defaultValueDimensions.length + 1\n    });\n    var list = new List(dimensions, this);\n    list.initData(data, categories ? categories.slice() : null);\n    return list;\n  },\n\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n  getBaseAxis: function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  }\n};\nvar viewMixin = {\n  init: function () {\n    /**\n     * Old data.\n     * @private\n     * @type {module:echarts/chart/helper/WhiskerBoxDraw}\n     */\n    var whiskerBoxDraw = this._whiskerBoxDraw = new WhiskerBoxDraw(this.getStyleUpdater());\n    this.group.add(whiskerBoxDraw.group);\n  },\n  render: function (seriesModel, ecModel, api) {\n    this._whiskerBoxDraw.updateData(seriesModel.getData());\n  },\n  remove: function (ecModel) {\n    this._whiskerBoxDraw.remove();\n  }\n};\nexports.seriesModelMixin = seriesModelMixin;\nexports.viewMixin = viewMixin;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar textContain = __webpack_require__(20);\n\nvar formatUtil = __webpack_require__(8);\n\nvar matrix = __webpack_require__(16);\n\nvar axisHelper = __webpack_require__(17);\n\nvar AxisBuilder = __webpack_require__(33);\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar VisualMapping = __webpack_require__(35);\n\n/**\n * @file Visual solution, for consistent option specification.\n */\nvar each = zrUtil.each;\n\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name in obj) {\n      if (obj.hasOwnProperty(name)) {\n        return true;\n      }\n    }\n  }\n}\n/**\n * @param {Object} option\n * @param {Array.<string>} stateList\n * @param {Function} [supplementVisualOption]\n * @return {Object} visualMappings <state, <visualType, module:echarts/visual/VisualMapping>>\n */\n\n\nfunction createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption); // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n\n  function createMappings() {\n    var Creater = function () {}; // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n\n\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\n/**\n * @param {Object} thisOption\n * @param {Object} newOption\n * @param {Array.<string>} keys\n */\n\n\nfunction replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {module:echarts/data/List} list\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {object} [scope] Scope for getValueState\n * @param {string} [dimension] Concrete dimension, if used.\n */\n\n\nfunction applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n\n  function getVisual(key) {\n    return data.getItemVisual(dataIndex, key);\n  }\n\n  function setVisual(key, value) {\n    data.setItemVisual(dataIndex, key, value);\n  }\n\n  if (dimension == null) {\n    data.each(eachItem, true);\n  } else {\n    data.each([dimension], eachItem, true);\n  }\n\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex : index;\n    var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n\nexports.createVisualMappings = createVisualMappings;\nexports.replaceVisualOption = replaceVisualOption;\nexports.applyVisual = applyVisual;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar matrix = __webpack_require__(16);\n\nvar vector = __webpack_require__(7);\n\n/**\n * \n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * \n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * \n * , position, rotation, scaletransformtransform\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // \n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // \n\n\n  this.transform = m;\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * transformcontext\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\n/**\n * `transform``position`, `rotation`, `scale`\n */\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function () {\n  var m = this.transform;\n\n  if (!m) {\n    return [1, 1];\n  }\n\n  var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  return [sx, sy];\n};\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\n// https://github.com/mziccard/node-timsort\nvar DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\n\nfunction minRunLength(n) {\n  var r = 0;\n\n  while (n >= DEFAULT_MIN_MERGE) {\n    r |= n & 1;\n    n >>= 1;\n  }\n\n  return n + r;\n}\n\nfunction makeAscendingRun(array, lo, hi, compare) {\n  var runHi = lo + 1;\n\n  if (runHi === hi) {\n    return 1;\n  }\n\n  if (compare(array[runHi++], array[lo]) < 0) {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n      runHi++;\n    }\n\n    reverseRun(array, lo, runHi);\n  } else {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n      runHi++;\n    }\n  }\n\n  return runHi - lo;\n}\n\nfunction reverseRun(array, lo, hi) {\n  hi--;\n\n  while (lo < hi) {\n    var t = array[lo];\n    array[lo++] = array[hi];\n    array[hi--] = t;\n  }\n}\n\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n  if (start === lo) {\n    start++;\n  }\n\n  for (; start < hi; start++) {\n    var pivot = array[start];\n    var left = lo;\n    var right = start;\n    var mid;\n\n    while (left < right) {\n      mid = left + right >>> 1;\n\n      if (compare(pivot, array[mid]) < 0) {\n        right = mid;\n      } else {\n        left = mid + 1;\n      }\n    }\n\n    var n = start - left;\n\n    switch (n) {\n      case 3:\n        array[left + 3] = array[left + 2];\n\n      case 2:\n        array[left + 2] = array[left + 1];\n\n      case 1:\n        array[left + 1] = array[left];\n        break;\n\n      default:\n        while (n > 0) {\n          array[left + n] = array[left + n - 1];\n          n--;\n        }\n\n    }\n\n    array[left] = pivot;\n  }\n}\n\nfunction gallopLeft(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) > 0) {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  } else {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) > 0) {\n      lastOffset = m + 1;\n    } else {\n      offset = m;\n    }\n  }\n\n  return offset;\n}\n\nfunction gallopRight(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) < 0) {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  } else {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) < 0) {\n      offset = m;\n    } else {\n      lastOffset = m + 1;\n    }\n  }\n\n  return offset;\n}\n\nfunction TimSort(array, compare) {\n  var minGallop = DEFAULT_MIN_GALLOPING;\n  var length = 0;\n  var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n  var stackLength = 0;\n  var runStart;\n  var runLength;\n  var stackSize = 0;\n  length = array.length;\n\n  if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n    tmpStorageLength = length >>> 1;\n  }\n\n  var tmp = [];\n  stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n  runStart = [];\n  runLength = [];\n\n  function pushRun(_runStart, _runLength) {\n    runStart[stackSize] = _runStart;\n    runLength[stackSize] = _runLength;\n    stackSize += 1;\n  }\n\n  function mergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n        if (runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n      } else if (runLength[n] > runLength[n + 1]) {\n        break;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function forceMergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n        n--;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function mergeAt(i) {\n    var start1 = runStart[i];\n    var length1 = runLength[i];\n    var start2 = runStart[i + 1];\n    var length2 = runLength[i + 1];\n    runLength[i] = length1 + length2;\n\n    if (i === stackSize - 3) {\n      runStart[i + 1] = runStart[i + 2];\n      runLength[i + 1] = runLength[i + 2];\n    }\n\n    stackSize--;\n    var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n    start1 += k;\n    length1 -= k;\n\n    if (length1 === 0) {\n      return;\n    }\n\n    length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n    if (length2 === 0) {\n      return;\n    }\n\n    if (length1 <= length2) {\n      mergeLow(start1, length1, start2, length2);\n    } else {\n      mergeHigh(start1, length1, start2, length2);\n    }\n  }\n\n  function mergeLow(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length1; i++) {\n      tmp[i] = array[start1 + i];\n    }\n\n    var cursor1 = 0;\n    var cursor2 = start2;\n    var dest = start1;\n    array[dest++] = array[cursor2++];\n\n    if (--length2 === 0) {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n\n      return;\n    }\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n      return;\n    }\n\n    var _minGallop = minGallop;\n    var count1, count2, exit;\n\n    while (1) {\n      count1 = 0;\n      count2 = 0;\n      exit = false;\n\n      do {\n        if (compare(array[cursor2], tmp[cursor1]) < 0) {\n          array[dest++] = array[cursor2++];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest++] = tmp[cursor1++];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n        if (count1 !== 0) {\n          for (i = 0; i < count1; i++) {\n            array[dest + i] = tmp[cursor1 + i];\n          }\n\n          dest += count1;\n          cursor1 += count1;\n          length1 -= count1;\n\n          if (length1 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = array[cursor2++];\n\n        if (--length2 === 0) {\n          exit = true;\n          break;\n        }\n\n        count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n        if (count2 !== 0) {\n          for (i = 0; i < count2; i++) {\n            array[dest + i] = array[cursor2 + i];\n          }\n\n          dest += count2;\n          cursor2 += count2;\n          length2 -= count2;\n\n          if (length2 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = tmp[cursor1++];\n\n        if (--length1 === 1) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n    minGallop < 1 && (minGallop = 1);\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n    } else if (length1 === 0) {\n      throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n    } else {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n    }\n  }\n\n  function mergeHigh(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length2; i++) {\n      tmp[i] = array[start2 + i];\n    }\n\n    var cursor1 = start1 + length1 - 1;\n    var cursor2 = length2 - 1;\n    var dest = start2 + length2 - 1;\n    var customCursor = 0;\n    var customDest = 0;\n    array[dest--] = array[cursor1--];\n\n    if (--length1 === 0) {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n\n      return;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n      return;\n    }\n\n    var _minGallop = minGallop;\n\n    while (true) {\n      var count1 = 0;\n      var count2 = 0;\n      var exit = false;\n\n      do {\n        if (compare(tmp[cursor2], array[cursor1]) < 0) {\n          array[dest--] = array[cursor1--];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest--] = tmp[cursor2--];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n        if (count1 !== 0) {\n          dest -= count1;\n          cursor1 -= count1;\n          length1 -= count1;\n          customDest = dest + 1;\n          customCursor = cursor1 + 1;\n\n          for (i = count1 - 1; i >= 0; i--) {\n            array[customDest + i] = array[customCursor + i];\n          }\n\n          if (length1 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = tmp[cursor2--];\n\n        if (--length2 === 1) {\n          exit = true;\n          break;\n        }\n\n        count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n        if (count2 !== 0) {\n          dest -= count2;\n          cursor2 -= count2;\n          length2 -= count2;\n          customDest = dest + 1;\n          customCursor = cursor2 + 1;\n\n          for (i = 0; i < count2; i++) {\n            array[customDest + i] = tmp[customCursor + i];\n          }\n\n          if (length2 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = array[cursor1--];\n\n        if (--length1 === 0) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n\n    if (minGallop < 1) {\n      minGallop = 1;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n    } else if (length2 === 0) {\n      throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n    } else {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n    }\n  }\n\n  this.mergeRuns = mergeRuns;\n  this.forceMergeRuns = forceMergeRuns;\n  this.pushRun = pushRun;\n}\n\nfunction sort(array, compare, lo, hi) {\n  if (!lo) {\n    lo = 0;\n  }\n\n  if (!hi) {\n    hi = array.length;\n  }\n\n  var remaining = hi - lo;\n\n  if (remaining < 2) {\n    return;\n  }\n\n  var runLength = 0;\n\n  if (remaining < DEFAULT_MIN_MERGE) {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n    binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n    return;\n  }\n\n  var ts = new TimSort(array, compare);\n  var minRun = minRunLength(remaining);\n\n  do {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n\n    if (runLength < minRun) {\n      var force = remaining;\n\n      if (force > minRun) {\n        force = minRun;\n      }\n\n      binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n      runLength = force;\n    }\n\n    ts.pushRun(lo, runLength);\n    ts.mergeRuns();\n    remaining -= runLength;\n    lo += runLength;\n  } while (remaining !== 0);\n\n  ts.forceMergeRuns();\n}\n\nmodule.exports = sort;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar LRU = __webpack_require__(95);\n\nvar globalImageCache = new LRU(50);\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\nfunction findExistImage(newImageOrSrc) {\n  if (typeof newImageOrSrc === 'string') {\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    return cachedImgObj && cachedImgObj.image;\n  } else {\n    return newImageOrSrc;\n  }\n}\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\n\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n  if (!newImageOrSrc) {\n    return image;\n  } else if (typeof newImageOrSrc === 'string') {\n    // Image should not be loaded repeatly.\n    if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n      return image;\n    } // Only when there is no existent image or existent image src\n    // is different, this method is responsible for load.\n\n\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    var pendingWrap = {\n      hostEl: hostEl,\n      cb: cb,\n      cbPayload: cbPayload\n    };\n\n    if (cachedImgObj) {\n      image = cachedImgObj.image;\n      !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n    } else {\n      !image && (image = new Image());\n      image.onload = imageOnLoad;\n      globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n        image: image,\n        pending: [pendingWrap]\n      });\n      image.src = image.__zrImageSrc = newImageOrSrc;\n    }\n\n    return image;\n  } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n  else {\n      return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n  var cachedImgObj = this.__cachedImgObj;\n  this.onload = this.__cachedImgObj = null;\n\n  for (var i = 0; i < cachedImgObj.pending.length; i++) {\n    var pendingWrap = cachedImgObj.pending[i];\n    var cb = pendingWrap.cb;\n    cb && cb(this, pendingWrap.cbPayload);\n    pendingWrap.hostEl.dirty();\n  }\n\n  cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n  return image && image.width && image.height;\n}\n\nexports.findExistImage = findExistImage;\nexports.createOrUpdateImage = createOrUpdateImage;\nexports.isImageReady = isImageReady;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(7);\n\nvar curve = __webpack_require__(25);\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * `min``max`\n * @module zrender/core/bbox\n * @param {Array<Object>} points \n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * (p0, p1, p2, p3)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * (p0, p1, p2)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * `min``max`\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _clazz = __webpack_require__(24);\n\nvar parseClassType = _clazz.parseClassType;\nvar base = 0;\nvar DELIMITER = '_';\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\n\nfunction getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++, Math.random()].join(DELIMITER);\n}\n/**\n * @inner\n */\n\n\nfunction enableSubTypeDefaulter(entity) {\n  var subTypeDefaulters = {};\n\n  entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n    componentType = parseClassType(componentType);\n    subTypeDefaulters[componentType.main] = defaulter;\n  };\n\n  entity.determineSubType = function (componentType, option) {\n    var type = option.type;\n\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n\n      if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n\n    return type;\n  };\n\n  return entity;\n}\n/**\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n *\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n *\n * If there is circle dependencey, Error will be thrown.\n *\n */\n\n\nfunction enableTopologicalTravel(entity, dependencyGetter) {\n  /**\n   * @public\n   * @param {Array.<string>} targetNameList Target Component type list.\n   *                                           Can be ['aa', 'bb', 'aa.xx']\n   * @param {Array.<string>} fullNameList By which we can build dependency graph.\n   * @param {Function} callback Params: componentType, dependencies.\n   * @param {Object} context Scope of callback.\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var stack = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n\n    while (stack.length) {\n      var currComponentType = stack.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n\n    zrUtil.each(targetNameSet, function () {\n      throw new Error('Circle dependency may exists');\n    });\n\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n\n      if (graph[succComponentType].entryCount === 0) {\n        stack.push(succComponentType);\n      }\n    } // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n\n\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n  /**\n   * DepndencyGraph: {Object}\n   * key: conponentType,\n   * value: {\n   *     successor: [conponentTypes...],\n   *     originalDeps: [conponentTypes...],\n   *     entryCount: {number}\n   * }\n   */\n\n\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n\n    return graph[name];\n  }\n\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\n\nexports.getUID = getUID;\nexports.enableSubTypeDefaulter = enableSubTypeDefaulter;\nexports.enableTopologicalTravel = enableTopologicalTravel;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Group = __webpack_require__(52);\n\nvar componentUtil = __webpack_require__(72);\n\nvar clazzUtil = __webpack_require__(24);\n\nvar Component = function () {\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n  this.group = new Group();\n  /**\n   * @type {string}\n   * @readOnly\n   */\n\n  this.uid = componentUtil.getUID('viewComponent');\n};\n\nComponent.prototype = {\n  constructor: Component,\n  init: function (ecModel, api) {},\n  render: function (componentModel, ecModel, api, payload) {},\n  dispose: function () {}\n};\nvar componentProto = Component.prototype;\n\ncomponentProto.updateView = componentProto.updateLayout = componentProto.updateVisual = function (seriesModel, ecModel, api, payload) {// Do nothing;\n}; // Enable Component.extend.\n\n\nclazzUtil.enableClassExtend(Component); // Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nclazzUtil.enableClassManagement(Component, {\n  registerWhenExtend: true\n});\nvar _default = Component;\nmodule.exports = _default;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports) {\n\nfunction _default(seriesType, ecModel) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    var dims = [];\n    var coordDims = coordSys.dimensions;\n\n    for (var i = 0; i < coordDims.length; i++) {\n      dims.push(seriesModel.coordDimToDataDim(coordSys.dimensions[i])[0]);\n    }\n\n    if (dims.length === 1) {\n      data.each(dims[0], function (x, idx) {\n        // Also {Array.<number>}, not undefined to avoid if...else... statement\n        data.setItemLayout(idx, isNaN(x) ? [NaN, NaN] : coordSys.dataToPoint(x));\n      });\n    } else if (dims.length === 2) {\n      data.each(dims, function (x, y, idx) {\n        // Also {Array.<number>}, not undefined to avoid if...else... statement\n        data.setItemLayout(idx, isNaN(x) || isNaN(y) ? [NaN, NaN] : coordSys.dataToPoint([x, y]));\n      }, true);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar axisHelper = __webpack_require__(17);\n\nvar Cartesian2D = __webpack_require__(218);\n\nvar Axis2D = __webpack_require__(220);\n\nvar CoordinateSystem = __webpack_require__(21);\n\n__webpack_require__(221);\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\nvar each = zrUtil.each;\nvar ifAxisCrossZero = axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = axisHelper.niceScaleExtent;\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\n\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var boundingBox = textRect.plain();\n  var beforeWidth = boundingBox.width;\n  var beforeHeight = boundingBox.height;\n  var afterWidth = beforeWidth * Math.cos(rotateRadians) + beforeHeight * Math.sin(rotateRadians);\n  var afterHeight = beforeWidth * Math.sin(rotateRadians) + beforeHeight * Math.cos(rotateRadians);\n  var rotatedRect = new BoundingRect(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n\nfunction getLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var labels = axisModel.getFormattedLabels();\n  var axisLabelModel = axisModel.getModel('axisLabel');\n  var rect;\n  var step = 1;\n  var labelCount = labels.length;\n\n  if (labelCount > 40) {\n    // Simple optimization for large amount of labels\n    step = Math.ceil(labelCount / 40);\n  }\n\n  for (var i = 0; i < labelCount; i += step) {\n    if (!axis.isLabelIgnored(i)) {\n      var unrotatedSingleRect = axisLabelModel.getTextRect(labels[i]);\n      var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n      rect ? rect.union(singleRect) : rect = singleRect;\n    }\n  }\n\n  return rect;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  });\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis) {\n  // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n  var axes = axesMap[otherAxisDim];\n\n  if (!axis.onZero) {\n    return;\n  }\n\n  var onZeroAxisIndex = axis.onZeroAxisIndex; // If target axis is specified.\n\n  if (onZeroAxisIndex != null) {\n    var otherAxis = axes[onZeroAxisIndex];\n\n    if (otherAxis && canNotOnZeroToAxis(otherAxis)) {\n      axis.onZero = false;\n    }\n\n    return;\n  }\n\n  for (var idx in axes) {\n    if (axes.hasOwnProperty(idx)) {\n      var otherAxis = axes[idx];\n\n      if (otherAxis && !canNotOnZeroToAxis(otherAxis)) {\n        onZeroAxisIndex = +idx;\n        break;\n      }\n    }\n  }\n\n  if (onZeroAxisIndex == null) {\n    axis.onZero = false;\n  }\n\n  axis.onZeroAxisIndex = onZeroAxisIndex;\n}\n\nfunction canNotOnZeroToAxis(axis) {\n  return axis.type === 'category' || axis.type === 'time' || !ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = getLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransfrom(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (zrUtil.isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    zrUtil.indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = 'bottom';\n\n          if (axisPositionUsed[axisPosition]) {\n            axisPosition = axisPosition === 'top' ? 'bottom' : 'top';\n          }\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = 'left';\n\n          if (axisPositionUsed[axisPosition]) {\n            axisPosition = axisPosition === 'left' ? 'right' : 'left';\n          }\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse');\n      axis.onZero = axisModel.get('axisLine.onZero');\n      axis.onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  zrUtil.each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(seriesModel.coordDimToDataDim(axis.dim), function (dim) {\n      axis.scale.unionExtentFromData(data, dim);\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    zrUtil.indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    zrUtil.indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransfrom(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return zrUtil.map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar STACK_PREFIX = '__ec_stack_';\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @param {Object} opt\n * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n * @param {number} opt.count Positive interger.\n * @param {number} [opt.barWidth]\n * @param {number} [opt.barMaxWidth]\n * @param {number} [opt.barGap]\n * @param {number} [opt.barCategoryGap]\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\n\nfunction getLayoutOnAxis(opt, api) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n\n  var bandWidth = baseAxis.getBandWidth();\n\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(zrUtil.defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n\n  var widthAndOffsets = doCalBarWidthAndOffset(params, api);\n  var result = [];\n\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n\n  return result;\n}\n\nfunction calBarWidthAndOffset(barSeries, api) {\n  var seriesInfoList = zrUtil.map(barSeries, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    return {\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    };\n  });\n  return doCalBarWidthAndOffset(seriesInfoList, api);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList, api) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  zrUtil.each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n    // TODO\n\n    var barWidth = seriesInfo.barWidth;\n\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction barLayoutGrid(seriesType, ecModel, api) {\n  var barWidthAndOffset = calBarWidthAndOffset(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n  }));\n  var lastStackCoords = {};\n  var lastStackCoordsOrigin = {};\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (seriesModel.coordinateSystem.type !== 'cartesian2d') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var valueAxisStart = baseAxis.onZero ? valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)) : valueAxis.getGlobalExtent()[0];\n    var coordDims = [seriesModel.coordDimToDataDim('x')[0], seriesModel.coordDimToDataDim('y')[0]];\n    var coords = data.mapArray(coordDims, function (x, y) {\n      return cartesian.dataToPoint([x, y]);\n    }, true);\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n    data.setLayout({\n      offset: columnOffset,\n      size: columnWidth\n    });\n    data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      if (!lastStackCoords[stackId][idx]) {\n        lastStackCoords[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n        lastStackCoordsOrigin[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n      }\n\n      var sign = value >= 0 ? 'p' : 'n';\n      var coord = coords[idx];\n      var lastCoord = lastStackCoords[stackId][idx][sign];\n      var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (valueAxis.isHorizontal()) {\n        x = lastCoord;\n        y = coord[1] + columnOffset;\n        width = coord[0] - lastCoordOrigin;\n        height = columnWidth;\n        lastStackCoordsOrigin[stackId][idx][sign] += width;\n\n        if (Math.abs(width) < barMinHeight) {\n          width = (width < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoords[stackId][idx][sign] += width;\n      } else {\n        x = coord[0] + columnOffset;\n        y = lastCoord;\n        width = columnWidth;\n        height = coord[1] - lastCoordOrigin;\n        lastStackCoordsOrigin[stackId][idx][sign] += height;\n\n        if (Math.abs(height) < barMinHeight) {\n          // Include zero to has a positive bar\n          height = (height <= 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoords[stackId][idx][sign] += height;\n      }\n\n      data.setItemLayout(idx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }, true);\n  }, this);\n}\n\nbarLayoutGrid.getLayoutOnAxis = getLayoutOnAxis;\nvar _default = barLayoutGrid;\nmodule.exports = _default;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  updateSelectedMap: function (targetList) {\n    this._targetList = targetList.slice();\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType, ecModel) {\n  // Pie and funnel may use diferrent scope\n  var paletteScope = {};\n  ecModel.eachRawSeriesByType(seriesType, function (seriesModel) {\n    var dataAll = seriesModel.getRawData();\n    var idxMap = {};\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n\n        if (!singleDataColor) {\n          // FIXME Performance\n          var itemModel = dataAll.getItemModel(rawIdx);\n          var color = itemModel.get('itemStyle.normal.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx), paletteScope); // Legend may use the visual info in data before processed\n\n          dataAll.setItemVisual(rawIdx, 'color', color); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        } else {\n          // Set data all color for legend\n          dataAll.setItemVisual(rawIdx, 'color', singleDataColor);\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES[model.mainType] && coordSys && coordSys.model !== targetCoordSysModel;\n}\n\nexports.onIrrelevantElement = onIrrelevantElement;\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar LineGroup = __webpack_require__(81);\n\n/**\n * @module echarts/chart/helper/LineDraw\n */\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\n\nfunction lineNeedsDraw(pts) {\n  return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n/**\n * @alias module:echarts/component/marker/LineDraw\n * @constructor\n */\n\n\nfunction LineDraw(ctor) {\n  this._ctor = ctor || LineGroup;\n  this.group = new graphic.Group();\n}\n\nvar lineDrawProto = LineDraw.prototype;\n/**\n * @param {module:echarts/data/List} lineData\n */\n\nlineDrawProto.updateData = function (lineData) {\n  var oldLineData = this._lineData;\n  var group = this.group;\n  var LineCtor = this._ctor;\n  var hostModel = lineData.hostModel;\n  var seriesScope = {\n    lineStyle: hostModel.getModel('lineStyle.normal').getLineStyle(),\n    hoverLineStyle: hostModel.getModel('lineStyle.emphasis').getLineStyle(),\n    labelModel: hostModel.getModel('label.normal'),\n    hoverLabelModel: hostModel.getModel('label.emphasis')\n  };\n  lineData.diff(oldLineData).add(function (idx) {\n    if (!lineNeedsDraw(lineData.getItemLayout(idx))) {\n      return;\n    }\n\n    var lineGroup = new LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, lineGroup);\n    group.add(lineGroup);\n  }).update(function (newIdx, oldIdx) {\n    var lineGroup = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(lineData.getItemLayout(newIdx))) {\n      group.remove(lineGroup);\n      return;\n    }\n\n    if (!lineGroup) {\n      lineGroup = new LineCtor(lineData, newIdx, seriesScope);\n    } else {\n      lineGroup.updateData(lineData, newIdx, seriesScope);\n    }\n\n    lineData.setItemGraphicEl(newIdx, lineGroup);\n    group.add(lineGroup);\n  }).remove(function (idx) {\n    group.remove(oldLineData.getItemGraphicEl(idx));\n  }).execute();\n  this._lineData = lineData;\n};\n\nlineDrawProto.updateLayout = function () {\n  var lineData = this._lineData;\n  lineData.eachItemGraphicEl(function (el, idx) {\n    el.updateLayout(lineData, idx);\n  }, this);\n};\n\nlineDrawProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LineDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar vector = __webpack_require__(7);\n\nvar symbolUtil = __webpack_require__(18);\n\nvar LinePath = __webpack_require__(278);\n\nvar graphic = __webpack_require__(2);\n\nvar _number = __webpack_require__(3);\n\nvar round = _number.round;\n\n/**\n * @module echarts/chart/helper/Line\n */\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\n\n\nfunction createSymbol(name, lineData, idx) {\n  var color = lineData.getItemVisual(idx, 'color');\n  var symbolType = lineData.getItemVisual(idx, name);\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [symbolSize, symbolSize];\n  }\n\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color);\n  symbolPath.name = name;\n  return symbolPath;\n}\n\nfunction createLine(points) {\n  var line = new LinePath({\n    name: 'line'\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n  var p1 = points[0];\n  var p2 = points[1];\n  var cp1 = points[2];\n  targetShape.x1 = p1[0];\n  targetShape.y1 = p1[1];\n  targetShape.x2 = p2[0];\n  targetShape.y2 = p2[1];\n  targetShape.percent = 1;\n\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\n\nfunction updateSymbolAndLabelBeforeLineUpdate() {\n  var lineGroup = this;\n  var symbolFrom = lineGroup.childOfName('fromSymbol');\n  var symbolTo = lineGroup.childOfName('toSymbol');\n  var label = lineGroup.childOfName('label'); // Quick reject\n\n  if (!symbolFrom && !symbolTo && label.ignore) {\n    return;\n  }\n\n  var invScale = 1;\n  var parentNode = this.parent;\n\n  while (parentNode) {\n    if (parentNode.scale) {\n      invScale /= parentNode.scale[0];\n    }\n\n    parentNode = parentNode.parent;\n  }\n\n  var line = lineGroup.childOfName('line'); // If line not changed\n  // FIXME Parent scale changed\n\n  if (!this.__dirty && !line.__dirty) {\n    return;\n  }\n\n  var percent = line.shape.percent;\n  var fromPos = line.pointAt(0);\n  var toPos = line.pointAt(percent);\n  var d = vector.sub([], toPos, fromPos);\n  vector.normalize(d, d);\n\n  if (symbolFrom) {\n    symbolFrom.attr('position', fromPos);\n    var tangent = line.tangentAt(0);\n    symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (symbolTo) {\n    symbolTo.attr('position', toPos);\n    var tangent = line.tangentAt(1);\n    symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (!label.ignore) {\n    label.attr('position', toPos);\n    var textPosition;\n    var textAlign;\n    var textVerticalAlign;\n    var distance = 5 * invScale; // End\n\n    if (label.__position === 'end') {\n      textPosition = [d[0] * distance + toPos[0], d[1] * distance + toPos[1]];\n      textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n      textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n    } // Middle\n    else if (label.__position === 'middle') {\n        var halfPercent = percent / 2;\n        var tangent = line.tangentAt(halfPercent);\n        var n = [tangent[1], -tangent[0]];\n        var cp = line.pointAt(halfPercent);\n\n        if (n[1] > 0) {\n          n[0] = -n[0];\n          n[1] = -n[1];\n        }\n\n        textPosition = [cp[0] + n[0] * distance, cp[1] + n[1] * distance];\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      } // Start\n      else {\n          textPosition = [-d[0] * distance + fromPos[0], -d[1] * distance + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n        }\n\n    label.attr({\n      style: {\n        // Use the user specified text align and baseline first\n        textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n        textAlign: label.__textAlign || textAlign\n      },\n      position: textPosition,\n      scale: [invScale, invScale]\n    });\n  }\n}\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\n\n\nfunction Line(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createLine(lineData, idx, seriesScope);\n}\n\nvar lineProto = Line.prototype; // Update symbol position and rotation\n\nlineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\nlineProto._createLine = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var linePoints = lineData.getItemLayout(idx);\n  var line = createLine(linePoints);\n  line.shape.percent = 0;\n  graphic.initProps(line, {\n    shape: {\n      percent: 1\n    }\n  }, seriesModel, idx);\n  this.add(line);\n  var label = new graphic.Text({\n    name: 'label'\n  });\n  this.add(label);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\n    // it will be updated after line#update.\n    // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n    this.add(symbol);\n    this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var linePoints = lineData.getItemLayout(idx);\n  var target = {\n    shape: {}\n  };\n  setLinePoints(target.shape, linePoints);\n  graphic.updateProps(line, target, seriesModel, idx);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbolType = lineData.getItemVisual(idx, symbolCategory);\n    var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n    if (this[key] !== symbolType) {\n      this.remove(this.childOfName(symbolCategory));\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      this.add(symbol);\n    }\n\n    this[key] = symbolType;\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n  if (!seriesScope || lineData.hasItemOption) {\n    var itemModel = lineData.getItemModel(idx);\n    lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n    hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n    labelModel = itemModel.getModel('label.normal');\n    hoverLabelModel = itemModel.getModel('label.emphasis');\n  }\n\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var visualOpacity = zrUtil.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor,\n    opacity: visualOpacity\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle; // Update symbol\n\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = this.childOfName(symbolCategory);\n\n    if (symbol) {\n      symbol.setColor(visualColor);\n      symbol.setStyle({\n        opacity: visualOpacity\n      });\n    }\n  }, this);\n  var showLabel = labelModel.getShallow('show');\n  var hoverShowLabel = hoverLabelModel.getShallow('show');\n  var label = this.childOfName('label');\n  var defaultLabelColor;\n  var defaultText;\n  var normalText;\n  var emphasisText;\n\n  if (showLabel || hoverShowLabel) {\n    var rawVal = seriesModel.getRawValue(idx);\n    defaultText = rawVal == null ? defaultText = lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal;\n    defaultLabelColor = visualColor || '#000';\n    normalText = zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType), defaultText);\n    emphasisText = zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), normalText);\n  } // label.afterUpdate = lineAfterUpdate;\n\n\n  if (showLabel) {\n    var labelStyle = graphic.setTextStyle(label.style, labelModel, {\n      text: normalText\n    }, {\n      autoColor: defaultLabelColor\n    });\n    label.__textAlign = labelStyle.textAlign;\n    label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n    label.__position = labelModel.get('position') || 'middle';\n  } else {\n    label.setStyle('text', null);\n  }\n\n  if (hoverShowLabel) {\n    // Only these properties supported in this emphasis style here.\n    label.hoverStyle = {\n      text: emphasisText,\n      textFill: hoverLabelModel.getTextColor(true),\n      // For merging hover style to normal style, do not use\n      // `hoverLabelModel.getFont()` here.\n      fontStyle: hoverLabelModel.getShallow('fontStyle'),\n      fontWeight: hoverLabelModel.getShallow('fontWeight'),\n      fontSize: hoverLabelModel.getShallow('fontSize'),\n      fontFamily: hoverLabelModel.getShallow('fontFamily')\n    };\n  } else {\n    label.hoverStyle = {\n      text: null\n    };\n  }\n\n  label.ignore = !showLabel && !hoverShowLabel;\n  graphic.setHoverStyle(this);\n};\n\nlineProto.highlight = function () {\n  this.trigger('emphasis');\n};\n\nlineProto.downplay = function () {\n  this.trigger('normal');\n};\n\nlineProto.updateLayout = function (lineData, idx) {\n  this.setLinePoints(lineData.getItemLayout(idx));\n};\n\nlineProto.setLinePoints = function (points) {\n  var linePath = this.childOfName('line');\n  setLinePoints(linePath.shape, points);\n  linePath.dirty();\n};\n\nzrUtil.inherits(Line, graphic.Group);\nvar _default = Line;\nmodule.exports = _default;\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar Eventful = __webpack_require__(30);\n\nvar graphic = __webpack_require__(2);\n\nvar interactionMutex = __webpack_require__(124);\n\nvar DataDiffer = __webpack_require__(38);\n\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar map = zrUtil.map;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(0,0,0,0.3)',\n    fill: 'rgba(0,0,0,0.1)'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\n\nfunction BrushController(zr) {\n  Eventful.call(this);\n  /**\n   * @type {module:zrender/zrender~ZRender}\n   * @private\n   */\n\n  this._zr = zr;\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = new graphic.Group();\n  /**\n   * Only for drawing (after enabledBrush).\n   *     'line', 'rect', 'polygon' or false\n   *     If passing false/null/undefined, disable brush.\n   *     If passing 'auto', determined by panel.defaultBrushType\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * Only for drawing (after enabledBrush).\n   *\n   * @private\n   * @type {Object}\n   */\n\n  this._brushOption;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._panels;\n  /**\n   * @private\n   * @type {Array.<nubmer>}\n   */\n\n  this._track = [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._dragging;\n  /**\n   * @private\n   * @type {Array}\n   */\n\n  this._covers = [];\n  /**\n   * @private\n   * @type {moudule:zrender/container/Group}\n   */\n\n  this._creatingCover;\n  /**\n   * `true` means global panel\n   * @private\n   * @type {module:zrender/container/Group|boolean}\n   */\n\n  this._creatingPanel;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._enableGlobalPan;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this._uid = 'brushController_' + baseUID++;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._handlers = {};\n  each(mouseHandlers, function (handler, eventName) {\n    this._handlers[eventName] = zrUtil.bind(handler, this);\n  }, this);\n}\n\nBrushController.prototype = {\n  constructor: BrushController,\n\n  /**\n   * If set to null/undefined/false, select disabled.\n   * @param {Object} brushOption\n   * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n   *                          If passing false/null/undefined, disable brush.\n   *                          If passing 'auto', determined by panel.defaultBrushType.\n   *                              ('auto' can not be used in global panel)\n   * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n   * @param {boolean} [brushOption.transformable=true]\n   * @param {boolean} [brushOption.removeOnClick=false]\n   * @param {Object} [brushOption.brushStyle]\n   * @param {number} [brushOption.brushStyle.width]\n   * @param {number} [brushOption.brushStyle.lineWidth]\n   * @param {string} [brushOption.brushStyle.stroke]\n   * @param {string} [brushOption.brushStyle.fill]\n   * @param {number} [brushOption.z]\n   */\n  enableBrush: function (brushOption) {\n    this._brushType && doDisableBrush(this);\n    brushOption.brushType && doEnableBrush(this, brushOption);\n    return this;\n  },\n\n  /**\n   * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n   *        Each items: {\n   *            panelId, // mandatory.\n   *            clipPath, // mandatory. function.\n   *            isTargetByCursor, // mandatory. function.\n   *            defaultBrushType, // optional, only used when brushType is 'auto'.\n   *            getLinearBrushOtherExtent, // optional. function.\n   *        }\n   */\n  setPanels: function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels = this._panels = {};\n      zrUtil.each(panelOpts, function (panelOpts) {\n        panels[panelOpts.panelId] = zrUtil.clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param {Object} [opt]\n   * @return {boolean} [opt.enableGlobalPan=false]\n   */\n  mount: function (opt) {\n    opt = opt || {};\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      position: opt.position || [0, 0],\n      rotation: opt.rotation || 0,\n      scale: opt.scale || [1, 1]\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  },\n  eachCover: function (cb, context) {\n    each(this._covers, cb, context);\n  },\n\n  /**\n   * Update covers.\n   * @param {Array.<Object>} brushOptionList Like:\n   *        [\n   *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n   *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n   *            ...\n   *        ]\n   *        `brushType` is required in each cover info. (can not be 'auto')\n   *        `id` is not mandatory.\n   *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n   *        If brushOptionList is null/undefined, all covers removed.\n   */\n  updateCovers: function (brushOptionList) {\n    brushOptionList = zrUtil.map(brushOptionList, function (brushOption) {\n      return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushOption = brushOptionList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushOption, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushOption));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  },\n  unmount: function () {\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    return this;\n  },\n  dispose: function () {\n    this.unmount();\n    this.off();\n  }\n};\nzrUtil.mixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n  var zr = controller._zr; // Consider roam, which takes globalPan too.\n\n  if (!controller._enableGlobalPan) {\n    interactionMutex.take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  }\n\n  each(controller._handlers, function (handler, eventName) {\n    zr.on(eventName, handler);\n  });\n  controller._brushType = brushOption.brushType;\n  controller._brushOption = zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n  var zr = controller._zr;\n  interactionMutex.release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  each(controller._handlers, function (handler, eventName) {\n    zr.off(eventName, handler);\n  });\n  controller._brushType = controller._brushOption = null;\n}\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = zrUtil.clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', areas, {\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(doDrift, controller, cover, 'nswe'),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNames, function (name) {\n    cover.add(new graphic.Rect({\n      name: name,\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(doDrift, controller, cover, name),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (name) {\n    var el = cover.childOfName(name);\n    var globalDir = getGlobalDirection(controller, name);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return zrUtil.defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], // x range\n  [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n  if (localDirection.length > 1) {\n    localDirection = localDirection.split('');\n    var globalDir = [getGlobalDirection(controller, localDirection[0]), getGlobalDirection(controller, localDirection[1])];\n    (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n    return globalDir.join('');\n  } else {\n    var map = {\n      w: 'left',\n      e: 'right',\n      n: 'top',\n      s: 'bottom'\n    };\n    var inverseMap = {\n      left: 'w',\n      right: 'e',\n      top: 'n',\n      bottom: 's'\n    };\n    var globalDir = graphic.transformDirection(map[localDirection], getTransform(controller));\n    return inverseMap[globalDir];\n  }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n  var brushOption = cover.__brushOption;\n  var rectRange = toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(name.split(''), function (namePart) {\n    var ind = DIRECTION_MAP[namePart];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== true ? panel.clipPath(data, controller._transform) : zrUtil.clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  // Check active\n  if (!controller._brushType) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === true || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = zrUtil.clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === true ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar mouseHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mose out side the browser.\n      handleDragEnd.call(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: handleDragEnd //,\n  // FIXME\n  // in tooltip, globalout should not be triggered.\n  // globalout: handleDragEnd\n\n};\n\nfunction handleDragEnd(e) {\n  if (this._dragging) {\n    preventDefault(e);\n    var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n    var eventParams = updateCoverByMouse(this, e, localCursorPoint, true);\n    this._dragging = false;\n    this._track = [];\n    this._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(this, eventParams);\n  }\n}\n/**\n * key: brushType\n * @type {Object}\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        return range;\n      }, function (range) {\n        return range;\n      }), controller, brushOption, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        var rectRange = [range, [0, 100]];\n        xyIndex && rectRange.reverse();\n        return rectRange;\n      }, function (rectRange) {\n        return rectRange[xyIndex];\n      }), controller, brushOption, [['w', 'e'], ['n', 's']][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== true && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex, controller._transform);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nvar _default = BrushController;\nmodule.exports = _default;\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar clazzUtil = __webpack_require__(24);\n\nvar graphic = __webpack_require__(2);\n\nvar axisPointerModelHelper = __webpack_require__(61);\n\nvar eventTool = __webpack_require__(23);\n\nvar throttleUtil = __webpack_require__(31);\n\nvar modelUtil = __webpack_require__(5);\n\nvar get = modelUtil.makeGetter();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = get(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = get(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = get(group).pointerEl;\n\n    if (pointerEl) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = get(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    get(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(get(el).lastProp, props)) {\n    get(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar Polar = __webpack_require__(379);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nvar _axisHelper = __webpack_require__(17);\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = __webpack_require__(21);\n\n__webpack_require__(382);\n\n// TODO Axis scale\n//  PolarModel \n\n/**\n * Resize method bound to the polar\n * @param {module:echarts/coord/polar/PolarModel} polarModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  polar.cx = parsePercent(center[0], width);\n  polar.cy = parsePercent(center[1], height);\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(width, height) / 2;\n  var radius = parsePercent(polarModel.get('radius'), size);\n  radiusAxis.inverse ? radiusAxis.setExtent(radius, 0) : radiusAxis.setExtent(0, radius);\n}\n/**\n * Update polar\n */\n\n\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis(); // Reset scale\n\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data = seriesModel.getData();\n      radiusAxis.scale.unionExtentFromData(data, 'radius');\n      angleAxis.scale.unionExtentFromData(data, 'angle');\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model); // Fix extent of category angle axis\n\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\n/**\n * Set common axis properties\n * @param {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n * @param {module:echarts/coord/polar/AxisModel}\n * @inner\n */\n\n\nfunction setAxis(axis, axisModel) {\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n\n  if (axisModel.mainType === 'angleAxis') {\n    axis.inverse ^= axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    axis.setExtent(startAngle, startAngle + (axis.inverse ? -360 : 360));\n  } // Inject axis instance\n\n\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\n\nvar polarCreator = {\n  dimensions: Polar.prototype.dimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx); // Inject resize and update method\n\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    }); // Inject coordinateSystem to series\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = ecModel.queryComponents({\n          mainType: 'polar',\n          index: seriesModel.get('polarIndex'),\n          id: seriesModel.get('polarId')\n        })[0];\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nCoordinateSystem.register('polar', polarCreator);\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar formatUtil = __webpack_require__(8);\n\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single']; // Supported coords.\n\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n/**\n * @param {string} coordType\n * @return {boolean}\n */\n\nfunction isCoordSupported(coordType) {\n  return zrUtil.indexOf(COORDS, coordType) >= 0;\n}\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\n\n\nfunction createNameEach(names, attrs) {\n  names = names.slice();\n  var capitalNames = zrUtil.map(names, formatUtil.capitalFirst);\n  attrs = (attrs || []).slice();\n  var capitalAttrs = zrUtil.map(attrs, formatUtil.capitalFirst);\n  return function (callback, context) {\n    zrUtil.each(names, function (name, index) {\n      var nameObj = {\n        name: name,\n        capital: capitalNames[index]\n      };\n\n      for (var j = 0; j < attrs.length; j++) {\n        nameObj[attrs[j]] = name + capitalAttrs[j];\n      }\n\n      callback.call(context, nameObj);\n    });\n  };\n}\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\n\n\nvar eachAxisDim = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\n\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n  return function (sourceNode) {\n    var result = {\n      nodes: [],\n      records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n\n    };\n    forEachEdgeType(function (edgeType) {\n      result.records[edgeType.name] = {};\n    });\n\n    if (!sourceNode) {\n      return result;\n    }\n\n    absorb(sourceNode, result);\n    var existsLink;\n\n    do {\n      existsLink = false;\n      forEachNode(processSingleNode);\n    } while (existsLink);\n\n    function processSingleNode(node) {\n      if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n        absorb(node, result);\n        existsLink = true;\n      }\n    }\n\n    return result;\n  };\n\n  function isNodeAbsorded(node, result) {\n    return zrUtil.indexOf(result.nodes, node) >= 0;\n  }\n\n  function isLinked(node, result) {\n    var hasLink = false;\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] && (hasLink = true);\n      });\n    });\n    return hasLink;\n  }\n\n  function absorb(node, result) {\n    result.nodes.push(node);\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] = true;\n      });\n    });\n  }\n}\n\nexports.isCoordSupported = isCoordSupported;\nexports.createNameEach = createNameEach;\nexports.eachAxisDim = eachAxisDim;\nexports.createLinkedNodesFinder = createLinkedNodesFinder;\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar modelUtil = __webpack_require__(5);\n\nvar formatUtil = __webpack_require__(8);\n\nvar addCommas = formatUtil.addCommas;\nvar encodeHTML = formatUtil.encodeHTML;\n\nfunction fillLabel(opt) {\n  modelUtil.defaultEmphasis(opt.label, ['show']);\n}\n\nvar MarkerModel = echarts.extendComponentModel({\n  type: 'marker',\n  dependencies: ['series', 'grid', 'polar', 'geo'],\n\n  /**\n   * @overrite\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.mergeOption(option, ecModel, extraOpt.createdBySelf, true);\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  },\n  mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n    var MarkerModel = this.constructor;\n    var modelPropName = this.mainType + 'Model';\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        var markerOpt = seriesModel.get(this.mainType);\n        var markerModel = seriesModel[modelPropName];\n\n        if (!markerOpt || !markerOpt.data) {\n          seriesModel[modelPropName] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = new MarkerModel(markerOpt, this, ecModel);\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel.mergeOption(markerOpt, ecModel, true);\n        }\n\n        seriesModel[modelPropName] = markerModel;\n      }, this);\n    }\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? zrUtil.map(value, addCommas).join(', ') : addCommas(value);\n    var name = data.getName(dataIndex);\n    var html = encodeHTML(this.name);\n\n    if (value != null || name) {\n      html += '<br />';\n    }\n\n    if (name) {\n      html += encodeHTML(name);\n\n      if (value != null) {\n        html += ' : ';\n      }\n    }\n\n    if (value != null) {\n      html += encodeHTML(formattedValue);\n    }\n\n    return html;\n  },\n  getData: function () {\n    return this._data;\n  },\n  setData: function (data) {\n    this._data = data;\n  }\n});\nzrUtil.mixin(MarkerModel, modelUtil.dataFormatMixin);\nvar _default = MarkerModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar numberUtil = __webpack_require__(3);\n\nvar indexOf = zrUtil.indexOf;\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\n\nfunction getPrecision(data, valueAxisDim, dataIndex) {\n  var precision = -1;\n\n  do {\n    precision = Math.max(numberUtil.getPrecision(data.get(valueAxisDim, dataIndex)), precision);\n    data = data.stackedOn;\n  } while (data);\n\n  return precision;\n}\n\nfunction markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var value = numCalculate(data, targetDataDim, mlType);\n  var dataIndex = data.indicesOfNearest(targetDataDim, value, true)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex, true);\n  coordArr[targetCoordIndex] = data.get(targetDataDim, dataIndex, true);\n  var precision = getPrecision(data, targetDataDim, dataIndex);\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return coordArr;\n}\n\nvar curry = zrUtil.curry; // TODO Specified percent\n\nvar markerTypeCalculator = {\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  average: curry(markerTypeCalculatorWithExtent, 'average')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\n\nfunction dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !zrUtil.isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = zrUtil.clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      item.coord = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex); // Force to use the value of calculated value.\n\n      item.value = item.coord[targetCoordIndex];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          var dataDim = seriesModel.coordDimToDataDim(dims[i])[0];\n          coord[i] = numCalculate(data, dataDim, coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\n\nfunction getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(seriesModel.dataDimToCoordDim(ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n    ret.valueDataDim = seriesModel.coordDimToDataDim(ret.valueAxis.dim)[0];\n  }\n\n  return ret;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\n\n\nfunction dataFilter(coordSys, item) {\n  // Alwalys return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n  // x, y, radius, angle\n  if (dimIndex < 2) {\n    return item.coord && item.coord[dimIndex];\n  }\n\n  return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum = 0;\n    var count = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum += val;\n        count++;\n      }\n    }, true);\n    return sum / count;\n  } else {\n    return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n  }\n}\n\nexports.dataTransform = dataTransform;\nexports.getAxisInfo = getAxisInfo;\nexports.dataFilter = dataFilter;\nexports.dimValueGetter = dimValueGetter;\nexports.numCalculate = numCalculate;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _default = echarts.extendComponentView({\n  type: 'marker',\n  init: function () {\n    /**\n     * Markline grouped by series\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this.markerGroupMap = zrUtil.createHashMap();\n  },\n  render: function (markerModel, ecModel, api) {\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      item.__keep = false;\n    });\n    var markerModelKey = this.type + 'Model';\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = seriesModel[markerModelKey];\n      markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n    }, this);\n    markerGroupMap.each(function (item) {\n      !item.__keep && this.group.remove(item.group);\n    }, this);\n  },\n  renderSeries: function () {}\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _core = __webpack_require__(90);\n\nvar createElement = _core.createElement;\n\nvar PathProxy = __webpack_require__(37);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar textContain = __webpack_require__(20);\n\nvar textHelper = __webpack_require__(55);\n\nvar Text = __webpack_require__(43);\n\n// TODO\n// 1. shadow\n// 2. Image: sx, sy, sw, sh\nvar CMD = PathProxy.CMD;\nvar arrayJoin = Array.prototype.join;\nvar NONE = 'none';\nvar mathRound = Math.round;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar EPSILON = 1e-4;\n\nfunction round4(val) {\n  return mathRound(val * 1e4) / 1e4;\n}\n\nfunction isAroundZero(val) {\n  return val < EPSILON && val > -EPSILON;\n}\n\nfunction pathHasFill(style, isText) {\n  var fill = isText ? style.textFill : style.fill;\n  return fill != null && fill !== NONE;\n}\n\nfunction pathHasStroke(style, isText) {\n  var stroke = isText ? style.textStroke : style.stroke;\n  return stroke != null && stroke !== NONE;\n}\n\nfunction setTransform(svgEl, m) {\n  if (m) {\n    attr(svgEl, 'transform', 'matrix(' + arrayJoin.call(m, ',') + ')');\n  }\n}\n\nfunction attr(el, key, val) {\n  if (!val || val.type !== 'linear' && val.type !== 'radial') {\n    // Don't set attribute for gradient, since it need new dom nodes\n    el.setAttribute(key, val);\n  }\n}\n\nfunction attrXLink(el, key, val) {\n  el.setAttributeNS('http://www.w3.org/1999/xlink', key, val);\n}\n\nfunction bindStyle(svgEl, style, isText) {\n  if (pathHasFill(style, isText)) {\n    var fill = isText ? style.textFill : style.fill;\n    fill = fill === 'transparent' ? NONE : fill;\n    /**\n     * FIXME:\n     * This is a temporary fix for Chrome's clipping bug\n     * that happens when a clip-path is referring another one.\n     * This fix should be used before Chrome's bug is fixed.\n     * For an element that has clip-path, and fill is none,\n     * set it to be \"rgba(0, 0, 0, 0.002)\" will hide the element.\n     * Otherwise, it will show black fill color.\n     * 0.002 is used because this won't work for alpha values smaller\n     * than 0.002.\n     *\n     * See\n     * https://bugs.chromium.org/p/chromium/issues/detail?id=659790\n     * for more information.\n     */\n\n    if (svgEl.getAttribute('clip-path') !== 'none' && fill === NONE) {\n      fill = 'rgba(0, 0, 0, 0.002)';\n    }\n\n    attr(svgEl, 'fill', fill);\n    attr(svgEl, 'fill-opacity', style.opacity);\n  } else {\n    attr(svgEl, 'fill', NONE);\n  }\n\n  if (pathHasStroke(style, isText)) {\n    var stroke = isText ? style.textStroke : style.stroke;\n    stroke = stroke === 'transparent' ? NONE : stroke;\n    attr(svgEl, 'stroke', stroke);\n    var strokeWidth = isText ? style.textStrokeWidth : style.lineWidth;\n    var strokeScale = style.strokeNoScale ? style.host.getLineScale() : 1;\n    attr(svgEl, 'stroke-width', strokeWidth / strokeScale);\n    attr(svgEl, 'paint-order', 'stroke');\n    attr(svgEl, 'stroke-opacity', style.opacity);\n    var lineDash = style.lineDash;\n\n    if (lineDash) {\n      attr(svgEl, 'stroke-dasharray', style.lineDash.join(','));\n      attr(svgEl, 'stroke-dashoffset', mathRound(style.lineDashOffset || 0));\n    } else {\n      attr(svgEl, 'stroke-dasharray', '');\n    } // PENDING\n\n\n    style.lineCap && attr(svgEl, 'stroke-linecap', style.lineCap);\n    style.lineJoin && attr(svgEl, 'stroke-linejoin', style.lineJoin);\n    style.miterLimit && attr(svgEl, 'stroke-miterlimit', style.miterLimit);\n  } else {\n    attr(svgEl, 'stroke', NONE);\n  }\n}\n/***************************************************\n * PATH\n **************************************************/\n\n\nfunction pathDataToString(path) {\n  var str = [];\n  var data = path.data;\n  var dataLength = path.len();\n\n  for (var i = 0; i < dataLength;) {\n    var cmd = data[i++];\n    var cmdStr = '';\n    var nData = 0;\n\n    switch (cmd) {\n      case CMD.M:\n        cmdStr = 'M';\n        nData = 2;\n        break;\n\n      case CMD.L:\n        cmdStr = 'L';\n        nData = 2;\n        break;\n\n      case CMD.Q:\n        cmdStr = 'Q';\n        nData = 4;\n        break;\n\n      case CMD.C:\n        cmdStr = 'C';\n        nData = 6;\n        break;\n\n      case CMD.A:\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++];\n        var psi = data[i++];\n        var clockwise = data[i++];\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive % PI2) && !isAroundZero(dThetaPositive);\n        var large = false;\n\n        if (dThetaPositive >= PI2) {\n          large = true;\n        } else if (isAroundZero(dThetaPositive)) {\n          large = false;\n        } else {\n          large = (dTheta > -PI && dTheta < 0 || dTheta > PI) === !!clockwise;\n        }\n\n        var x0 = round4(cx + rx * mathCos(theta));\n        var y0 = round4(cy + ry * mathSin(theta)); // It will not draw if start point and end point are exactly the same\n        // We need to shift the end point with a small value\n        // FIXME A better way to draw circle ?\n\n        if (isCircle) {\n          if (clockwise) {\n            dTheta = PI2 - 1e-4;\n          } else {\n            dTheta = -PI2 + 1e-4;\n          }\n\n          large = true;\n\n          if (i === 9) {\n            // Move to (x0, y0) only when CMD.A comes at the\n            // first position of a shape.\n            // For instance, when drawing a ring, CMD.A comes\n            // after CMD.M, so it's unnecessary to move to\n            // (x0, y0).\n            str.push('M', x0, y0);\n          }\n        }\n\n        var x = round4(cx + rx * mathCos(theta + dTheta));\n        var y = round4(cy + ry * mathSin(theta + dTheta)); // FIXME Ellipse\n\n        str.push('A', round4(rx), round4(ry), mathRound(psi * degree), +large, +clockwise, x, y);\n        break;\n\n      case CMD.Z:\n        cmdStr = 'Z';\n        break;\n\n      case CMD.R:\n        var x = round4(data[i++]);\n        var y = round4(data[i++]);\n        var w = round4(data[i++]);\n        var h = round4(data[i++]);\n        str.push('M', x, y, 'L', x + w, y, 'L', x + w, y + h, 'L', x, y + h, 'L', x, y);\n        break;\n    }\n\n    cmdStr && str.push(cmdStr);\n\n    for (var j = 0; j < nData; j++) {\n      // PENDING With scale\n      str.push(round4(data[i++]));\n    }\n  }\n\n  return str.join(' ');\n}\n\nvar svgPath = {};\n\nsvgPath.brush = function (el) {\n  var style = el.style;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('path');\n    el.__svgEl = svgEl;\n  }\n\n  if (!el.path) {\n    el.createPathProxy();\n  }\n\n  var path = el.path;\n\n  if (el.__dirtyPath) {\n    path.beginPath();\n    el.buildPath(path, el.shape);\n    el.__dirtyPath = false;\n    var pathStr = pathDataToString(path);\n\n    if (pathStr.indexOf('NaN') < 0) {\n      // Ignore illegal path, which may happen such in out-of-range\n      // data in Calendar series.\n      attr(svgEl, 'd', pathStr);\n    }\n  }\n\n  bindStyle(svgEl, style);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  }\n};\n/***************************************************\n * IMAGE\n **************************************************/\n\n\nvar svgImage = {};\n\nsvgImage.brush = function (el) {\n  var style = el.style;\n  var image = style.image;\n\n  if (image instanceof HTMLImageElement) {\n    var src = image.src;\n    image = src;\n  }\n\n  if (!image) {\n    return;\n  }\n\n  var x = style.x || 0;\n  var y = style.y || 0;\n  var dw = style.width;\n  var dh = style.height;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('image');\n    el.__svgEl = svgEl;\n  }\n\n  if (image !== el.__imageSrc) {\n    attrXLink(svgEl, 'href', image); // Caching image src\n\n    el.__imageSrc = image;\n  }\n\n  attr(svgEl, 'width', dw);\n  attr(svgEl, 'height', dh);\n  attr(svgEl, 'x', x);\n  attr(svgEl, 'y', y);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  }\n};\n/***************************************************\n * TEXT\n **************************************************/\n\n\nvar svgText = {};\nvar tmpRect = new BoundingRect();\n\nvar svgTextDrawRectText = function (el, rect, textRect) {\n  var style = el.style;\n  el.__dirty && textHelper.normalizeTextStyle(style, true);\n  var text = style.text; // Convert to string\n\n  if (text == null) {\n    // Draw no text only when text is set to null, but not ''\n    return;\n  } else {\n    text += '';\n  }\n\n  var textSvgEl = el.__textSvgEl;\n\n  if (!textSvgEl) {\n    textSvgEl = createElement('text');\n    el.__textSvgEl = textSvgEl;\n  }\n\n  bindStyle(textSvgEl, style, true);\n\n  if (el instanceof Text || el.style.transformText) {\n    // Transform text with element\n    setTransform(textSvgEl, el.transform);\n  } else {\n    if (el.transform) {\n      tmpRect.copy(rect);\n      tmpRect.applyTransform(el.transform);\n      rect = tmpRect;\n    } else {\n      var pos = el.transformCoordToGlobal(rect.x, rect.y);\n      rect.x = pos[0];\n      rect.y = pos[1];\n    }\n  }\n\n  var x;\n  var y;\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var align = style.textAlign || 'left';\n\n  if (typeof style.fontSize === 'number') {\n    style.fontSize += 'px';\n  }\n\n  var font = style.font || [style.fontStyle || '', style.fontWeight || '', style.fontSize || '', style.fontFamily || ''].join(' ') || textContain.DEFAULT_FONT;\n  var verticalAlign = getVerticalAlignForSvg(style.textVerticalAlign);\n  textRect = textContain.getBoundingRect(text, font, align, verticalAlign);\n  var lineHeight = textRect.lineHeight; // Text position represented by coord\n\n  if (textPosition instanceof Array) {\n    x = rect.x + textPosition[0];\n    y = rect.y + textPosition[1];\n  } else {\n    var newPos = textContain.adjustTextPositionOnRect(textPosition, rect, distance);\n    x = newPos.x;\n    y = newPos.y;\n    verticalAlign = getVerticalAlignForSvg(newPos.textVerticalAlign);\n    align = newPos.textAlign;\n  }\n\n  attr(textSvgEl, 'alignment-baseline', verticalAlign);\n\n  if (font) {\n    textSvgEl.style.font = font;\n  }\n\n  var textPadding = style.textPadding; // Make baseline top\n\n  attr(textSvgEl, 'x', x);\n  attr(textSvgEl, 'y', y);\n  var textLines = text.split('\\n');\n  var nTextLines = textLines.length;\n  var textAnchor = align; // PENDING\n\n  if (textAnchor === 'left') {\n    textAnchor = 'start';\n    textPadding && (x += textPadding[3]);\n  } else if (textAnchor === 'right') {\n    textAnchor = 'end';\n    textPadding && (x -= textPadding[1]);\n  } else if (textAnchor === 'center') {\n    textAnchor = 'middle';\n    textPadding && (x += (textPadding[3] - textPadding[1]) / 2);\n  }\n\n  var dy = 0;\n\n  if (verticalAlign === 'baseline') {\n    dy = -textRect.height + lineHeight;\n    textPadding && (dy -= textPadding[2]);\n  } else if (verticalAlign === 'middle') {\n    dy = (-textRect.height + lineHeight) / 2;\n    textPadding && (y += (textPadding[0] - textPadding[2]) / 2);\n  } else {\n    textPadding && (dy += textPadding[0]);\n  } // Font may affect position of each tspan elements\n\n\n  if (el.__text !== text || el.__textFont !== font) {\n    var tspanList = el.__tspanList || [];\n    el.__tspanList = tspanList;\n\n    for (var i = 0; i < nTextLines; i++) {\n      // Using cached tspan elements\n      var tspan = tspanList[i];\n\n      if (!tspan) {\n        tspan = tspanList[i] = createElement('tspan');\n        textSvgEl.appendChild(tspan);\n        attr(tspan, 'alignment-baseline', verticalAlign);\n        attr(tspan, 'text-anchor', textAnchor);\n      } else {\n        tspan.innerHTML = '';\n      }\n\n      attr(tspan, 'x', x);\n      attr(tspan, 'y', y + i * lineHeight + dy);\n      tspan.appendChild(document.createTextNode(textLines[i]));\n    } // Remove unsed tspan elements\n\n\n    for (; i < tspanList.length; i++) {\n      textSvgEl.removeChild(tspanList[i]);\n    }\n\n    tspanList.length = nTextLines;\n    el.__text = text;\n    el.__textFont = font;\n  } else if (el.__tspanList.length) {\n    // Update span x and y\n    var len = el.__tspanList.length;\n\n    for (var i = 0; i < len; ++i) {\n      var tspan = el.__tspanList[i];\n\n      if (tspan) {\n        attr(tspan, 'x', x);\n        attr(tspan, 'y', y + i * lineHeight + dy);\n      }\n    }\n  }\n};\n\nfunction getVerticalAlignForSvg(verticalAlign) {\n  if (verticalAlign === 'middle') {\n    return 'middle';\n  } else if (verticalAlign === 'bottom') {\n    return 'baseline';\n  } else {\n    return 'hanging';\n  }\n}\n\nsvgText.drawRectText = svgTextDrawRectText;\n\nsvgText.brush = function (el) {\n  var style = el.style;\n\n  if (style.text != null) {\n    //  textPosition\n    style.textPosition = [0, 0];\n    svgTextDrawRectText(el, {\n      x: style.x || 0,\n      y: style.y || 0,\n      width: 0,\n      height: 0\n    }, el.getBoundingRect());\n  }\n};\n\nexports.path = svgPath;\nexports.image = svgImage;\nexports.text = svgText;\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nfunction createElement(name) {\n  return document.createElementNS(svgURI, name);\n}\n\nexports.createElement = createElement;\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\n/**\n * zrender: id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar guid = __webpack_require__(92);\n\nvar Eventful = __webpack_require__(30);\n\nvar Transformable = __webpack_require__(68);\n\nvar Animatable = __webpack_require__(170);\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\nvar Element = function (opts) {\n  // jshint ignore:line\n  Transformable.call(this, opts);\n  Eventful.call(this, opts);\n  Animatable.call(this, opts);\n  /**\n   * ID\n   * @type {string}\n   */\n\n  this.id = opts.id || guid();\n};\n\nElement.prototype = {\n  /**\n   * \n   * Element type\n   * @type {string}\n   */\n  type: 'element',\n\n  /**\n   * \n   * Element name\n   * @type {string}\n   */\n  name: '',\n\n  /**\n   * ZRender  element  zrender \n   * ZRender instance will be assigned when element is associated with zrender\n   * @name module:/zrender/Element#__zr\n   * @type {module:zrender/ZRender}\n   */\n  __zr: null,\n\n  /**\n   * true\n   * If ignore drawing and events of the element object\n   * @name module:/zrender/Element#ignore\n   * @type {boolean}\n   * @default false\n   */\n  ignore: false,\n\n  /**\n   * (shape) Group \n   * \n   * @type {module:zrender/graphic/Path}\n   * @see http://www.w3.org/TR/2dcontext/#clipping-region\n   * @readOnly\n   */\n  clipPath: null,\n\n  /**\n   * Drift element\n   * @param  {number} dx dx on the global space\n   * @param  {number} dy dy on the global space\n   */\n  drift: function (dx, dy) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.dirty(false);\n  },\n\n  /**\n   * Hook before update\n   */\n  beforeUpdate: function () {},\n\n  /**\n   * Hook after update\n   */\n  afterUpdate: function () {},\n\n  /**\n   * Update each frame\n   */\n  update: function () {\n    this.updateTransform();\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {},\n\n  /**\n   * @protected\n   */\n  attrKV: function (key, value) {\n    if (key === 'position' || key === 'scale' || key === 'origin') {\n      // Copy the array\n      if (value) {\n        var target = this[key];\n\n        if (!target) {\n          target = this[key] = [];\n        }\n\n        target[0] = value[0];\n        target[1] = value[1];\n      }\n    } else {\n      this[key] = value;\n    }\n  },\n\n  /**\n   * Hide the element\n   */\n  hide: function () {\n    this.ignore = true;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * Show the element\n   */\n  show: function () {\n    this.ignore = false;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * @param {string|Object} key\n   * @param {*} value\n   */\n  attr: function (key, value) {\n    if (typeof key === 'string') {\n      this.attrKV(key, value);\n    } else if (zrUtil.isObject(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.attrKV(name, key[name]);\n        }\n      }\n    }\n\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * @param {module:zrender/graphic/Path} clipPath\n   */\n  setClipPath: function (clipPath) {\n    var zr = this.__zr;\n\n    if (zr) {\n      clipPath.addSelfToZr(zr);\n    } // Remove previous clip path\n\n\n    if (this.clipPath && this.clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this.clipPath = clipPath;\n    clipPath.__zr = zr;\n    clipPath.__clipTarget = this;\n    this.dirty(false);\n  },\n\n  /**\n   */\n  removeClipPath: function () {\n    var clipPath = this.clipPath;\n\n    if (clipPath) {\n      if (clipPath.__zr) {\n        clipPath.removeSelfFromZr(clipPath.__zr);\n      }\n\n      clipPath.__zr = null;\n      clipPath.__clipTarget = null;\n      this.clipPath = null;\n      this.dirty(false);\n    }\n  },\n\n  /**\n   * Add self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  addSelfToZr: function (zr) {\n    this.__zr = zr; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.addSelfToZr(zr);\n    }\n  },\n\n  /**\n   * Remove self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  removeSelfFromZr: function (zr) {\n    this.__zr = null; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.removeSelfFromZr(zr);\n    }\n  }\n};\nzrUtil.mixin(Element, Animatable);\nzrUtil.mixin(Element, Transformable);\nzrUtil.mixin(Element, Eventful);\nvar _default = Element;\nmodule.exports = _default;\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Clip = __webpack_require__(171);\n\nvar color = __webpack_require__(22);\n\nvar _util = __webpack_require__(0);\n\nvar isArrayLike = _util.isArrayLike;\n\n/**\n * @module echarts/animation/Animator\n */\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n  return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n  target[key] = value;\n}\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\n\n\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\n\n\nfunction interpolateString(p0, p1, percent) {\n  return percent > 0.5 ? p1 : p0;\n}\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim == 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n  } else {\n    var len2 = len && p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n      }\n    }\n  }\n} // arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\nfunction fillArr(arr0, arr1, arrDim) {\n  var arr0Len = arr0.length;\n  var arr1Len = arr1.length;\n\n  if (arr0Len !== arr1Len) {\n    // FIXME Not work for TypedArray\n    var isPreviousLarger = arr0Len > arr1Len;\n\n    if (isPreviousLarger) {\n      // Cut the previous\n      arr0.length = arr1Len;\n    } else {\n      // Fill the previous\n      for (var i = arr0Len; i < arr1Len; i++) {\n        arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n      }\n    }\n  } // Handling NaN value\n\n\n  var len2 = arr0[0] && arr0[0].length;\n\n  for (var i = 0; i < arr0.length; i++) {\n    if (arrDim === 1) {\n      if (isNaN(arr0[i])) {\n        arr0[i] = arr1[i];\n      }\n    } else {\n      for (var j = 0; j < len2; j++) {\n        if (isNaN(arr0[i][j])) {\n          arr0[i][j] = arr1[i][j];\n        }\n      }\n    }\n  }\n}\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\n\n\nfunction isArraySame(arr0, arr1, arrDim) {\n  if (arr0 === arr1) {\n    return true;\n  }\n\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      if (arr0[i] !== arr1[i]) {\n        return false;\n      }\n    }\n  } else {\n    var len2 = arr0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        if (arr0[i][j] !== arr1[i][j]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim == 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n    }\n  } else {\n    var len2 = p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n      }\n    }\n  }\n}\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\n\n\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n  if (isArrayLike(value)) {\n    var len = value.length;\n\n    if (isArrayLike(value[0])) {\n      var ret = [];\n\n      for (var i = 0; i < len; i++) {\n        ret.push(arraySlice.call(value[i]));\n      }\n\n      return ret;\n    }\n\n    return arraySlice.call(value);\n  }\n\n  return value;\n}\n\nfunction rgba2String(rgba) {\n  rgba[0] = Math.floor(rgba[0]);\n  rgba[1] = Math.floor(rgba[1]);\n  rgba[2] = Math.floor(rgba[2]);\n  return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n  var lastValue = keyframes[keyframes.length - 1].value;\n  return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n  var getter = animator._getter;\n  var setter = animator._setter;\n  var useSpline = easing === 'spline';\n  var trackLen = keyframes.length;\n\n  if (!trackLen) {\n    return;\n  } // Guess data type\n\n\n  var firstVal = keyframes[0].value;\n  var isValueArray = isArrayLike(firstVal);\n  var isValueColor = false;\n  var isValueString = false; // For vertices morphing\n\n  var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n  var trackMaxTime; // Sort keyframe as ascending\n\n  keyframes.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n  var kfPercents = []; // Value of each keyframe\n\n  var kfValues = [];\n  var prevValue = keyframes[0].value;\n  var isAllValueEqual = true;\n\n  for (var i = 0; i < trackLen; i++) {\n    kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n    var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n    if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n      isAllValueEqual = false;\n    }\n\n    prevValue = value; // Try converting a string to a color array\n\n    if (typeof value == 'string') {\n      var colorArray = color.parse(value);\n\n      if (colorArray) {\n        value = colorArray;\n        isValueColor = true;\n      } else {\n        isValueString = true;\n      }\n    }\n\n    kfValues.push(value);\n  }\n\n  if (!forceAnimate && isAllValueEqual) {\n    return;\n  }\n\n  var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n  for (var i = 0; i < trackLen - 1; i++) {\n    if (isValueArray) {\n      fillArr(kfValues[i], lastValue, arrDim);\n    } else {\n      if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n        kfValues[i] = lastValue;\n      }\n    }\n  }\n\n  isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n  // animation playback is sequency\n\n  var lastFrame = 0;\n  var lastFramePercent = 0;\n  var start;\n  var w;\n  var p0;\n  var p1;\n  var p2;\n  var p3;\n\n  if (isValueColor) {\n    var rgba = [0, 0, 0, 0];\n  }\n\n  var onframe = function (target, percent) {\n    // Find the range keyframes\n    // kf1-----kf2---------current--------kf3\n    // find kf2 and kf3 and do interpolation\n    var frame; // In the easing function like elasticOut, percent may less than 0\n\n    if (percent < 0) {\n      frame = 0;\n    } else if (percent < lastFramePercent) {\n      // Start from next key\n      // PENDING start from lastFrame ?\n      start = Math.min(lastFrame + 1, trackLen - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (kfPercents[frame] <= percent) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, trackLen - 2);\n    } else {\n      for (frame = lastFrame; frame < trackLen; frame++) {\n        if (kfPercents[frame] > percent) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, trackLen - 2);\n    }\n\n    lastFrame = frame;\n    lastFramePercent = percent;\n    var range = kfPercents[frame + 1] - kfPercents[frame];\n\n    if (range === 0) {\n      return;\n    } else {\n      w = (percent - kfPercents[frame]) / range;\n    }\n\n    if (useSpline) {\n      p1 = kfValues[frame];\n      p0 = kfValues[frame === 0 ? frame : frame - 1];\n      p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n      p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n      if (isValueArray) {\n        catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(p1, p2, w);\n        } else {\n          value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n        }\n\n        setter(target, propName, value);\n      }\n    } else {\n      if (isValueArray) {\n        interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n        } else {\n          value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n        }\n\n        setter(target, propName, value);\n      }\n    }\n  };\n\n  var clip = new Clip({\n    target: animator._target,\n    life: trackMaxTime,\n    loop: animator._loop,\n    delay: animator._delay,\n    onframe: onframe,\n    ondestroy: oneTrackDone\n  });\n\n  if (easing && easing !== 'spline') {\n    clip.easing = easing;\n  }\n\n  return clip;\n}\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\n\n\nvar Animator = function (target, loop, getter, setter) {\n  this._tracks = {};\n  this._target = target;\n  this._loop = loop || false;\n  this._getter = getter || defaultGetter;\n  this._setter = setter || defaultSetter;\n  this._clipCount = 0;\n  this._delay = 0;\n  this._doneList = [];\n  this._onframeList = [];\n  this._clipList = [];\n};\n\nAnimator.prototype = {\n  /**\n   * \n   * @param  {number} time ms\n   * @param  {Object} props key-value\n   * @return {module:zrender/animation/Animator}\n   */\n  when: function (time\n  /* ms */\n  , props) {\n    var tracks = this._tracks;\n\n    for (var propName in props) {\n      if (!props.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      if (!tracks[propName]) {\n        tracks[propName] = []; // Invalid value\n\n        var value = this._getter(this._target, propName);\n\n        if (value == null) {\n          // zrLog('Invalid property ' + propName);\n          continue;\n        } // If time is 0\n        //  Then props is given initialize value\n        // Else\n        //  Initialize value from current prop value\n\n\n        if (time !== 0) {\n          tracks[propName].push({\n            time: 0,\n            value: cloneValue(value)\n          });\n        }\n      }\n\n      tracks[propName].push({\n        time: time,\n        value: props[propName]\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} callback\n   * @return {module:zrender/animation/Animator}\n   */\n  during: function (callback) {\n    this._onframeList.push(callback);\n\n    return this;\n  },\n  pause: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].pause();\n    }\n\n    this._paused = true;\n  },\n  resume: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].resume();\n    }\n\n    this._paused = false;\n  },\n  isPaused: function () {\n    return !!this._paused;\n  },\n  _doneCallback: function () {\n    // Clear all tracks\n    this._tracks = {}; // Clear all clips\n\n    this._clipList.length = 0;\n    var doneList = this._doneList;\n    var len = doneList.length;\n\n    for (var i = 0; i < len; i++) {\n      doneList[i].call(this);\n    }\n  },\n\n  /**\n   * \n   * @param  {string|Function} [easing]\n   *         {@link module:zrender/animation/easing}\n   * @param  {boolean} forceAnimate\n   * @return {module:zrender/animation/Animator}\n   */\n  start: function (easing, forceAnimate) {\n    var self = this;\n    var clipCount = 0;\n\n    var oneTrackDone = function () {\n      clipCount--;\n\n      if (!clipCount) {\n        self._doneCallback();\n      }\n    };\n\n    var lastClip;\n\n    for (var propName in this._tracks) {\n      if (!this._tracks.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n      if (clip) {\n        this._clipList.push(clip);\n\n        clipCount++; // If start after added to animation\n\n        if (this.animation) {\n          this.animation.addClip(clip);\n        }\n\n        lastClip = clip;\n      }\n    } // Add during callback on the last clip\n\n\n    if (lastClip) {\n      var oldOnFrame = lastClip.onframe;\n\n      lastClip.onframe = function (target, percent) {\n        oldOnFrame(target, percent);\n\n        for (var i = 0; i < self._onframeList.length; i++) {\n          self._onframeList[i](target, percent);\n        }\n      };\n    } // This optimization will help the case that in the upper application\n    // the view may be refreshed frequently, where animation will be\n    // called repeatly but nothing changed.\n\n\n    if (!clipCount) {\n      this._doneCallback();\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stop: function (forwardToLast) {\n    var clipList = this._clipList;\n    var animation = this.animation;\n\n    for (var i = 0; i < clipList.length; i++) {\n      var clip = clipList[i];\n\n      if (forwardToLast) {\n        // Move to last frame before stop\n        clip.onframe(this._target, 1);\n      }\n\n      animation && animation.removeClip(clip);\n    }\n\n    clipList.length = 0;\n  },\n\n  /**\n   * \n   * @param  {number} time ms\n   * @return {module:zrender/animation/Animator}\n   */\n  delay: function (time) {\n    this._delay = time;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @return {module:zrender/animation/Animator}\n   */\n  done: function (cb) {\n    if (cb) {\n      this._doneList.push(cb);\n    }\n\n    return this;\n  },\n\n  /**\n   * @return {Array.<module:zrender/animation/Clip>}\n   */\n  getClips: function () {\n    return this._clipList;\n  }\n};\nvar _default = Animator;\nmodule.exports = _default;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\n// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function (val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts, host) {\n  this.extendFrom(opts, false);\n  this.host = host;\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  }\n\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {module:zrender/graphic/Displayable}\n   */\n  host: null,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {Array.<number>}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only useful in Path and Image element\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image\n   * Only useful in Path and Image element and transformText is false.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation, like [10, 40].\n   * Based on x, y of rect.\n   * Useful in label rotation of circular symbol.\n   * By default, this origin is textPosition.\n   * Can be 'center'.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function (ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style;\n    var firstDraw = !prevStyle;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (firstDraw || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = style[styleName] || prop[1];\n      }\n    }\n\n    if (firstDraw || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (firstDraw || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (firstDraw || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (firstDraw || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function () {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function () {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function (otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function (obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function () {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function (ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nvar Pattern = function (image, repeat) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {image: ...}`, where this constructor will not be called.\n  this.image = image;\n  this.repeat = repeat; // Can be cloned\n\n  this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n  return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\nvar _default = Pattern;\nmodule.exports = _default;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nvar _default = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\nwindow.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n  setTimeout(func, 16);\n};\n\nmodule.exports = _default;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar textHelper = __webpack_require__(55);\n\nvar BoundingRect = __webpack_require__(9);\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nfunction buildPath(ctx, shape) {\n  var x = shape.x;\n  var y = shape.y;\n  var width = shape.width;\n  var height = shape.height;\n  var r = shape.r;\n  var r1;\n  var r2;\n  var r3;\n  var r4; // Convert width and height to positive for better borderRadius\n\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n\n  if (typeof r === 'number') {\n    r1 = r2 = r3 = r4 = r;\n  } else if (r instanceof Array) {\n    if (r.length === 1) {\n      r1 = r2 = r3 = r4 = r[0];\n    } else if (r.length === 2) {\n      r1 = r3 = r[0];\n      r2 = r4 = r[1];\n    } else if (r.length === 3) {\n      r1 = r[0];\n      r2 = r4 = r[1];\n      r3 = r[2];\n    } else {\n      r1 = r[0];\n      r2 = r[1];\n      r3 = r[2];\n      r4 = r[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = 0;\n  }\n\n  var total;\n\n  if (r1 + r2 > width) {\n    total = r1 + r2;\n    r1 *= width / total;\n    r2 *= width / total;\n  }\n\n  if (r3 + r4 > width) {\n    total = r3 + r4;\n    r3 *= width / total;\n    r4 *= width / total;\n  }\n\n  if (r2 + r3 > height) {\n    total = r2 + r3;\n    r2 *= height / total;\n    r3 *= height / total;\n  }\n\n  if (r1 + r4 > height) {\n    total = r1 + r4;\n    r1 *= height / total;\n    r4 *= height / total;\n  }\n\n  ctx.moveTo(x + r1, y);\n  ctx.lineTo(x + width - r2, y);\n  r2 !== 0 && ctx.quadraticCurveTo(x + width, y, x + width, y + r2);\n  ctx.lineTo(x + width, y + height - r3);\n  r3 !== 0 && ctx.quadraticCurveTo(x + width, y + height, x + width - r3, y + height);\n  ctx.lineTo(x + r4, y + height);\n  r4 !== 0 && ctx.quadraticCurveTo(x, y + height, x, y + height - r4);\n  ctx.lineTo(x, y + r1);\n  r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);\n}\n\nexports.buildPath = buildPath;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _curve = __webpack_require__(25);\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nvar PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nfunction windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0;\n  return x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = __webpack_require__(11);\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar smoothSpline = __webpack_require__(191);\n\nvar smoothBezier = __webpack_require__(192);\n\nfunction buildPath(ctx, shape, closePath) {\n  var points = shape.points;\n  var smooth = shape.smooth;\n\n  if (points && points.length >= 2) {\n    if (smooth && smooth !== 'spline') {\n      var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n      ctx.moveTo(points[0][0], points[0][1]);\n      var len = points.length;\n\n      for (var i = 0; i < (closePath ? len : len - 1); i++) {\n        var cp1 = controlPoints[i * 2];\n        var cp2 = controlPoints[i * 2 + 1];\n        var p = points[(i + 1) % len];\n        ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n      }\n    } else {\n      if (smooth === 'spline') {\n        points = smoothSpline(points, closePath);\n      }\n\n      ctx.moveTo(points[0][0], points[0][1]);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        ctx.lineTo(points[i][0], points[i][1]);\n      }\n    }\n\n    closePath && ctx.closePath();\n  }\n}\n\nexports.buildPath = buildPath;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Gradient = __webpack_require__(56);\n\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\nvar LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'linear', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0 : x;\n  this.y = y == null ? 0 : y;\n  this.x2 = x2 == null ? 1 : x2;\n  this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n  this.type = 'linear'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n  constructor: LinearGradient\n};\nzrUtil.inherits(LinearGradient, Gradient);\nvar _default = LinearGradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _clazz = __webpack_require__(24);\n\nvar set = _clazz.set;\nvar get = _clazz.get;\nvar _default = {\n  clearColorPalette: function () {\n    set(this, 'colorIdx', 0);\n    set(this, 'colorNameMap', {});\n  },\n  getColorFromPalette: function (name, scope) {\n    scope = scope || this;\n    var colorIdx = get(scope, 'colorIdx') || 0;\n    var colorNameMap = get(scope, 'colorNameMap') || set(scope, 'colorNameMap', {}); // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n    if (colorNameMap.hasOwnProperty(name)) {\n      return colorNameMap[name];\n    }\n\n    var colorPalette = this.get('color', true) || [];\n\n    if (!colorPalette.length) {\n      return;\n    }\n\n    var color = colorPalette[colorIdx];\n\n    if (name) {\n      colorNameMap[name] = color;\n    }\n\n    set(scope, 'colorIdx', (colorIdx + 1) % colorPalette.length);\n    return color;\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrender = __webpack_require__(51);\n\nexports.zrender = zrender;\n\nvar matrix = __webpack_require__(16);\n\nexports.matrix = matrix;\n\nvar vector = __webpack_require__(7);\n\nexports.vector = vector;\n\nvar zrUtil = __webpack_require__(0);\n\nvar colorTool = __webpack_require__(22);\n\nexports.color = colorTool;\n\nvar graphic = __webpack_require__(2);\n\nexports.graphic = graphic;\n\nvar numberUtil = __webpack_require__(3);\n\nexports.number = numberUtil;\n\nvar formatUtil = __webpack_require__(8);\n\nexports.format = formatUtil;\n\nvar _throttle = __webpack_require__(31);\n\nvar throttle = _throttle.throttle;\nexports.throttle = _throttle.throttle;\n\nvar ecHelper = __webpack_require__(209);\n\nexports.helper = ecHelper;\n\nvar _List = __webpack_require__(14);\n\nexports.List = _List;\n\nvar _Model = __webpack_require__(10);\n\nexports.Model = _Model;\n\nvar _Axis = __webpack_require__(28);\n\nexports.Axis = _Axis;\n\nvar _env = __webpack_require__(11);\n\nexports.env = _env;\n\nvar _parseGeoJson = __webpack_require__(111);\n\nexports.parseGeoJson = _parseGeoJson;\n\n/**\n * Do not mount those modules on 'src/echarts' for better tree shaking.\n */\nvar ecUtil = {};\nzrUtil.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (name) {\n  ecUtil[name] = zrUtil[name];\n});\nexports.util = ecUtil;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar numberUtil = __webpack_require__(3);\n\n/**\n * For testable.\n */\nvar roundNumber = numberUtil.round;\n/**\n * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n *                                Should be extent[0] < extent[1].\n * @param {number} splitNumber splitNumber should be >= 1.\n * @param {number} [minInterval]\n * @param {number} [maxInterval]\n * @return {Object} {interval, intervalPrecision, niceTickExtent}\n */\n\nfunction intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = numberUtil.nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\n/**\n * @param {number} interval\n * @return {number} interval precision\n */\n\n\nfunction getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return numberUtil.getPrecisionSafe(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nfunction fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\n\nfunction intervalScaleGetTicks(interval, extent, niceTickExtent, intervalPrecision) {\n  var ticks = []; // If interval is 0, return [];\n\n  if (!interval) {\n    return ticks;\n  } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n  var safeLimit = 10000;\n\n  if (extent[0] < niceTickExtent[0]) {\n    ticks.push(extent[0]);\n  }\n\n  var tick = niceTickExtent[0];\n\n  while (tick <= niceTickExtent[1]) {\n    ticks.push(tick); // Avoid rounding error\n\n    tick = roundNumber(tick + interval, intervalPrecision);\n\n    if (tick === ticks[ticks.length - 1]) {\n      // Consider out of safe float point, e.g.,\n      // -3711126.9907707 + 2e-10 === -3711126.9907707\n      break;\n    }\n\n    if (ticks.length > safeLimit) {\n      return [];\n    }\n  } // Consider this case: the last item of ticks is smaller\n  // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n  if (extent[1] > (ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1])) {\n    ticks.push(extent[1]);\n  }\n\n  return ticks;\n}\n\nexports.intervalScaleNiceTicks = intervalScaleNiceTicks;\nexports.getIntervalPrecision = getIntervalPrecision;\nexports.fixExtent = fixExtent;\nexports.intervalScaleGetTicks = intervalScaleGetTicks;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Region = __webpack_require__(112);\n\n/**\n * Parse and decode geo json\n * @module echarts/coord/geo/parseGeoJson\n */\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n\n  var encodeScale = json.UTF8Scale;\n\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n\n  var features = json.features;\n\n  for (var f = 0; f < features.length; f++) {\n    var feature = features[f];\n    var geometry = feature.geometry;\n    var coordinates = geometry.coordinates;\n    var encodeOffsets = geometry.encodeOffsets;\n\n    for (var c = 0; c < coordinates.length; c++) {\n      var coordinate = coordinates[c];\n\n      if (geometry.type === 'Polygon') {\n        coordinates[c] = decodePolygon(coordinate, encodeOffsets[c], encodeScale);\n      } else if (geometry.type === 'MultiPolygon') {\n        for (var c2 = 0; c2 < coordinate.length; c2++) {\n          var polygon = coordinate[c2];\n          coordinate[c2] = decodePolygon(polygon, encodeOffsets[c][c2], encodeScale);\n        }\n      }\n    }\n  } // Has been decoded\n\n\n  json.UTF8Encoding = false;\n  return json;\n}\n\nfunction decodePolygon(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1); // Delta deocding\n\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y; // Dequantize\n\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n\n  return result;\n}\n/**\n * @alias module:echarts/coord/geo/parseGeoJson\n * @param {Object} geoJson\n * @return {module:zrender/container/Group}\n */\n\n\nfunction _default(geoJson) {\n  decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var coordinates = geo.coordinates;\n    var geometries = [];\n\n    if (geo.type === 'Polygon') {\n      geometries.push({\n        type: 'polygon',\n        // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n        exterior: coordinates[0],\n        interiors: coordinates.slice(1)\n      });\n    }\n\n    if (geo.type === 'MultiPolygon') {\n      zrUtil.each(coordinates, function (item) {\n        if (item[0]) {\n          geometries.push({\n            type: 'polygon',\n            exterior: item[0],\n            interiors: item.slice(1)\n          });\n        }\n      });\n    }\n\n    var region = new Region(properties.name, geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BoundingRect = __webpack_require__(9);\n\nvar bbox = __webpack_require__(71);\n\nvar vec2 = __webpack_require__(7);\n\nvar polygonContain = __webpack_require__(113);\n\n/**\n * @module echarts/coord/geo/Region\n */\n\n/**\n * @param {string} name\n * @param {Array} geometries\n * @param {Array.<number>} cp\n */\nfunction Region(name, geometries, cp) {\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  this.name = name;\n  /**\n   * @type {Array.<Array>}\n   * @readOnly\n   */\n\n  this.geometries = geometries;\n\n  if (!cp) {\n    var rect = this.getBoundingRect();\n    cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  } else {\n    cp = [cp[0], cp[1]];\n  }\n  /**\n   * @type {Array.<number>}\n   */\n\n\n  this.center = cp;\n}\n\nRegion.prototype = {\n  constructor: Region,\n  properties: null,\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    var rect = this._rect;\n\n    if (rect) {\n      return rect;\n    }\n\n    var MAX_NUMBER = Number.MAX_VALUE;\n    var min = [MAX_NUMBER, MAX_NUMBER];\n    var max = [-MAX_NUMBER, -MAX_NUMBER];\n    var min2 = [];\n    var max2 = [];\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      // Only support polygon\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      } // Doesn't consider hole\n\n\n      var exterior = geometries[i].exterior;\n      bbox.fromPoints(exterior, min2, max2);\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return this._rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * @param {<Array.<number>} coord\n   * @return {boolean}\n   */\n  contain: function (coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k])) {\n            continue loopGeo;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  },\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      for (var p = 0; p < exterior.length; p++) {\n        vec2.applyTransform(exterior[p], exterior[p], transform);\n      }\n\n      for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n        for (var p = 0; p < interiors[h].length; p++) {\n          vec2.applyTransform(interiors[h][p], interiors[h][p], transform);\n        }\n      }\n    }\n\n    rect = this._rect;\n    rect.copy(target); // Update center\n\n    this.center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n};\nvar _default = Region;\nmodule.exports = _default;\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar windingLine = __webpack_require__(104);\n\nvar EPSILON = 1e-8;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n}\n\nfunction contain(points, x, y) {\n  var w = 0;\n  var p = points[0];\n\n  if (!p) {\n    return false;\n  }\n\n  for (var i = 1; i < points.length; i++) {\n    var p2 = points[i];\n    w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n    p = p2;\n  } // Close polygon\n\n\n  var p0 = points[0];\n\n  if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n    w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n  }\n\n  return w !== 0;\n}\n\nexports.contain = contain;\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _model = __webpack_require__(5);\n\nvar otherDimToDataDim = _model.otherDimToDataDim;\n\n/**\n * @module echarts/chart/helper/Symbol\n */\nfunction findLabelValueDim(data) {\n  var valueDim;\n  var labelDims = otherDimToDataDim(data, 'label');\n\n  if (labelDims.length) {\n    valueDim = labelDims[0];\n  } else {\n    // Get last value dim\n    var dimensions = data.dimensions.slice();\n    var dataType;\n\n    while (dimensions.length && (valueDim = dimensions.pop(), dataType = data.getDimensionInfo(valueDim).type, dataType === 'ordinal' || dataType === 'time')) {} // jshint ignore:line\n\n  }\n\n  return valueDim;\n}\n\nexports.findLabelValueDim = findLabelValueDim;\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar vec2 = __webpack_require__(7);\n\nvar fixClipWithShadow = __webpack_require__(105);\n\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar axisModelCreator = __webpack_require__(60);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  // \n  z: 0,\n  // \n  // \n  inverse: false,\n  // \n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // degree\n  nameRotate: null,\n  // Adapt to axis rotate, when nameLocation is 'middle'.\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // \n  nameTextStyle: {},\n  // \n  nameGap: 15,\n  silent: false,\n  // Default false to support tooltip.\n  triggerEvent: false,\n  // Default false to avoid legacy user event listener fail.\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  // \n  axisLine: {\n    // show\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    // lineStyle\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // \n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  // \n  axisTick: {\n    // show\n    show: true,\n    // grid\n    inside: false,\n    // length\n    length: 5,\n    // lineStyle\n    lineStyle: {\n      width: 1\n    }\n  },\n  // axis.axisLabel\n  axisLabel: {\n    show: true,\n    // grid\n    inside: false,\n    rotate: 0,\n    showMinLabel: null,\n    // true | false | null (auto)\n    showMaxLabel: null,\n    // true | false | null (auto)\n    margin: 8,\n    // formatter: null,\n    // TEXTSTYLE\n    fontSize: 12\n  },\n  // \n  splitLine: {\n    // show\n    show: true,\n    // lineStylelineStyle\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  // \n  splitArea: {\n    // show\n    show: false,\n    // areaStyleareaStyle\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // \n  boundaryGap: true,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  // \n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  // axis.axisLabel\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // \n  boundaryGap: [0, 0],\n  // ,  'dataMin' \n  // min: null,\n  //  'dataMax' \n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // 0_min_max\n  // scale: false,\n  // 5\n  splitNumber: 5 // Minimum interval\n  // minInterval: null\n  // maxInterval: null\n\n}, defaultOption); // FIXME\n\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, labelInterval, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var rawAxisPosition = axis.position;\n  var axisPosition = axis.onZero ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (axis.onZero) {\n    var otherAxis = grid.getAxis(axisDim === 'x' ? 'y' : 'x', axis.onZeroAxisIndex);\n    var onZeroCoord = otherAxis.toGlobalCoord(otherAxis.dataToCoord(0));\n    posBound[idx['onZero']] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = axis.onZero ? posBound[idx[rawAxisPosition]] - posBound[idx['onZero']] : 0;\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get('axisLabel.rotate');\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // label interval when auto mode.\n\n  layout.labelInterval = axis.getLabelInterval(); // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SeriesModel = __webpack_require__(15);\n\nvar createListFromArray = __webpack_require__(27);\n\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(value, true);\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 0\n    barMinHeight: 0,\n    // 0\n    barMinAngle: 0,\n    // cursor: null,\n    // barMaxWidth: null,\n    // \n    // barWidth: null,\n    // 30%\n    // barGap: '30%',\n    // 20%\n    // barCategoryGap: '20%',\n    // label: {\n    //     normal: {\n    //         show: false\n    //     }\n    // },\n    itemStyle: {// normal: {\n      // color: ''\n      // },\n      // emphasis: {}\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label.normal');\n  var hoverLabelModel = itemModel.getModel('label.emphasis');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: seriesModel.getRawValue(dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected\n      };\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar vector = __webpack_require__(7);\n\nvar matrix = __webpack_require__(16);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar Transformable = __webpack_require__(68);\n\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nvar v2ApplyTransform = vector.applyTransform; // Dummy transform node\n\nfunction TransformDummy() {\n  Transformable.call(this);\n}\n\nzrUtil.mixin(TransformDummy, Transformable);\n\nfunction View(name) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {Object}\n   */\n\n  this.zoomLimit;\n  Transformable.call(this);\n  this._roamTransform = new TransformDummy();\n  this._viewTransform = new TransformDummy();\n  this._center;\n  this._zoom;\n}\n\nView.prototype = {\n  constructor: View,\n  type: 'view',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Set bounding rect\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  // PENDING to getRect\n  setBoundingRect: function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // PENDING to getRect\n  getBoundingRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  setViewRect: function (x, y, width, height) {\n    this.transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  },\n\n  /**\n   * Transformed to particular position and size\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var viewTransform = this._viewTransform;\n    viewTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    viewTransform.decomposeTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * Set center of view\n   * @param {Array.<number>} [centerCoord]\n   */\n  setCenter: function (centerCoord) {\n    if (!centerCoord) {\n      return;\n    }\n\n    this._center = centerCoord;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * @param {number} zoom\n   */\n  setZoom: function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n\n    this._zoom = zoom;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * Get default center without roam\n   */\n  getDefaultCenter: function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  },\n  getCenter: function () {\n    return this._center || this.getDefaultCenter();\n  },\n  getZoom: function () {\n    return this._zoom || 1;\n  },\n\n  /**\n   * @return {Array.<number}\n   */\n  getRoamTransform: function () {\n    return this._roamTransform;\n  },\n  _updateCenterAndZoom: function () {\n    // Must update after view transform updated\n    var viewTransformMatrix = this._viewTransform.getLocalTransform();\n\n    var roamTransform = this._roamTransform;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, viewTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, viewTransformMatrix);\n    roamTransform.origin = center;\n    roamTransform.position = [defaultCenter[0] - center[0], defaultCenter[1] - center[1]];\n    roamTransform.scale = [zoom, zoom];\n\n    this._updateTransform();\n  },\n\n  /**\n   * Update transform from roam and mapLocation\n   * @private\n   */\n  _updateTransform: function () {\n    var roamTransform = this._roamTransform;\n    var viewTransform = this._viewTransform;\n    viewTransform.parent = roamTransform;\n    roamTransform.updateTransform();\n    viewTransform.updateTransform();\n    viewTransform.transform && matrix.copy(this.transform || (this.transform = []), viewTransform.transform);\n\n    if (this.transform) {\n      this.invTransform = this.invTransform || [];\n      matrix.invert(this.invTransform, this.transform);\n    } else {\n      this.invTransform = null;\n    }\n\n    this.decomposeTransform();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRect: function () {\n    return this._viewRect;\n  },\n\n  /**\n   * Get view rect after roam transform\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRectAfterRoam: function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  },\n\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   * @param {Array.<number>} data\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data) {\n    var transform = this.transform;\n    return transform ? v2ApplyTransform([], data, transform) : [data[0], data[1]];\n  },\n\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  },\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  containPoint: function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  }\n  /**\n   * @return {number}\n   */\n  // getScalarScale: function () {\n  //     // Use determinant square root of transform to mutiply scalar\n  //     var m = this.transform;\n  //     var det = Math.sqrt(Math.abs(m[0] * m[3] - m[2] * m[1]));\n  //     return det;\n  // }\n\n};\nzrUtil.mixin(View, Transformable);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var seriesModel = finder.seriesModel;\n  var coordSys = seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = View;\nmodule.exports = _default;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar RoamController = __webpack_require__(64);\n\nvar roamHelper = __webpack_require__(125);\n\nvar _cursorHelper = __webpack_require__(79);\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = __webpack_require__(2);\n\nfunction getFixedItemStyle(model, scale) {\n  var itemStyle = model.getItemStyle();\n  var areaColor = model.get('areaColor'); // If user want the color not to be changed when hover,\n  // they should both set areaColor and color to be null.\n\n  if (areaColor != null) {\n    itemStyle.fill = areaColor;\n  }\n\n  return itemStyle;\n}\n\nfunction updateMapSelectHandler(mapDraw, mapOrGeoModel, group, api, fromView) {\n  group.off('click');\n  group.off('mousedown');\n\n  if (mapOrGeoModel.get('selectedMode')) {\n    group.on('mousedown', function () {\n      mapDraw._mouseDownFlag = true;\n    });\n    group.on('click', function (e) {\n      if (!mapDraw._mouseDownFlag) {\n        return;\n      }\n\n      mapDraw._mouseDownFlag = false;\n      var el = e.target;\n\n      while (!el.__regions) {\n        el = el.parent;\n      }\n\n      if (!el) {\n        return;\n      }\n\n      var action = {\n        type: (mapOrGeoModel.mainType === 'geo' ? 'geo' : 'map') + 'ToggleSelect',\n        batch: zrUtil.map(el.__regions, function (region) {\n          return {\n            name: region.name,\n            from: fromView.uid\n          };\n        })\n      };\n      action[mapOrGeoModel.mainType + 'Id'] = mapOrGeoModel.id;\n      api.dispatchAction(action);\n      updateMapSelected(mapOrGeoModel, group);\n    });\n  }\n}\n\nfunction updateMapSelected(mapOrGeoModel, group) {\n  // FIXME\n  group.eachChild(function (otherRegionEl) {\n    zrUtil.each(otherRegionEl.__regions, function (region) {\n      otherRegionEl.trigger(mapOrGeoModel.isSelected(region.name) ? 'emphasis' : 'normal');\n    });\n  });\n}\n/**\n * @alias module:echarts/component/helper/MapDraw\n * @param {module:echarts/ExtensionAPI} api\n * @param {boolean} updateGroup\n */\n\n\nfunction MapDraw(api, updateGroup) {\n  var group = new graphic.Group();\n  /**\n   * @type {module:echarts/component/helper/RoamController}\n   * @private\n   */\n\n  this._controller = new RoamController(api.getZr());\n  /**\n   * @type {Object} {target, zoom, zoomLimit}\n   * @private\n   */\n\n  this._controllerHost = {\n    target: updateGroup ? group : null\n  };\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = group;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._updateGroup = updateGroup;\n  /**\n   * This flag is used to make sure that only one among\n   * `pan`, `zoom`, `click` can occurs, otherwise 'selected'\n   * action may be triggered when `pan`, which is unexpected.\n   * @type {booelan}\n   */\n\n  this._mouseDownFlag;\n}\n\nMapDraw.prototype = {\n  constructor: MapDraw,\n  draw: function (mapOrGeoModel, ecModel, api, fromView, payload) {\n    var isGeo = mapOrGeoModel.mainType === 'geo'; // Map series has data. GEO model that controlled by map series\n    // will be assigned with map data. Other GEO model has no data.\n\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n    isGeo && ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'map'\n    }, function (mapSeries) {\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n        data = mapSeries.getData();\n      }\n    });\n    var geo = mapOrGeoModel.coordinateSystem;\n    var group = this.group;\n    var scale = geo.scale;\n    var groupNewProp = {\n      position: geo.position,\n      scale: scale\n    }; // No animation when first draw or in action\n\n    if (!group.childAt(0) || payload) {\n      group.attr(groupNewProp);\n    } else {\n      graphic.updateProps(group, groupNewProp, mapOrGeoModel);\n    }\n\n    group.removeAll();\n    var itemStyleAccessPath = ['itemStyle', 'normal'];\n    var hoverItemStyleAccessPath = ['itemStyle', 'emphasis'];\n    var labelAccessPath = ['label', 'normal'];\n    var hoverLabelAccessPath = ['label', 'emphasis'];\n    var nameMap = zrUtil.createHashMap();\n    zrUtil.each(geo.regions, function (region) {\n      // Consider in GeoJson properties.name may be duplicated, for example,\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\n      // colonies). And it is not appropriate to merge them in geo, which\n      // will make them share the same label and bring trouble in label\n      // location calculation.\n      var regionGroup = nameMap.get(region.name) || nameMap.set(region.name, new graphic.Group());\n      var compoundPath = new graphic.CompoundPath({\n        shape: {\n          paths: []\n        }\n      });\n      regionGroup.add(compoundPath);\n      var regionModel = mapOrGeoModel.getRegionModel(region.name) || mapOrGeoModel;\n      var itemStyleModel = regionModel.getModel(itemStyleAccessPath);\n      var hoverItemStyleModel = regionModel.getModel(hoverItemStyleAccessPath);\n      var itemStyle = getFixedItemStyle(itemStyleModel, scale);\n      var hoverItemStyle = getFixedItemStyle(hoverItemStyleModel, scale);\n      var labelModel = regionModel.getModel(labelAccessPath);\n      var hoverLabelModel = regionModel.getModel(hoverLabelAccessPath);\n      var dataIdx; // Use the itemStyle in data if has data\n\n      if (data) {\n        dataIdx = data.indexOfName(region.name); // Only visual color of each item will be used. It can be encoded by dataRange\n        // But visual color of series is used in symbol drawing\n        //\n        // Visual color for each series is for the symbol draw\n\n        var visualColor = data.getItemVisual(dataIdx, 'color', true);\n\n        if (visualColor) {\n          itemStyle.fill = visualColor;\n        }\n      }\n\n      zrUtil.each(region.geometries, function (geometry) {\n        if (geometry.type !== 'polygon') {\n          return;\n        }\n\n        compoundPath.shape.paths.push(new graphic.Polygon({\n          shape: {\n            points: geometry.exterior\n          }\n        }));\n\n        for (var i = 0; i < (geometry.interiors ? geometry.interiors.length : 0); i++) {\n          compoundPath.shape.paths.push(new graphic.Polygon({\n            shape: {\n              points: geometry.interiors[i]\n            }\n          }));\n        }\n      });\n      compoundPath.setStyle(itemStyle);\n      compoundPath.style.strokeNoScale = true;\n      compoundPath.culling = true; // Label\n\n      var showLabel = labelModel.get('show');\n      var hoverShowLabel = hoverLabelModel.get('show');\n      var isDataNaN = data && isNaN(data.get('value', dataIdx));\n      var itemLayout = data && data.getItemLayout(dataIdx); // In the following cases label will be drawn\n      // 1. In map series and data value is NaN\n      // 2. In geo component\n      // 4. Region has no series legendSymbol, which will be add a showLabel flag in mapSymbolLayout\n\n      if (isGeo || isDataNaN && (showLabel || hoverShowLabel) || itemLayout && itemLayout.showLabel) {\n        var query = !isGeo ? dataIdx : region.name;\n        var labelFetcher; // Consider dataIdx not found.\n\n        if (!data || dataIdx >= 0) {\n          labelFetcher = mapOrGeoModel;\n        }\n\n        var textEl = new graphic.Text({\n          position: region.center.slice(),\n          scale: [1 / scale[0], 1 / scale[1]],\n          z2: 10,\n          silent: true\n        });\n        graphic.setLabelStyle(textEl.style, textEl.hoverStyle = {}, labelModel, hoverLabelModel, {\n          labelFetcher: labelFetcher,\n          labelDataIndex: query,\n          defaultText: region.name,\n          useInsideStyle: false\n        }, {\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        });\n        regionGroup.add(textEl);\n      } // setItemGraphicEl, setHoverStyle after all polygons and labels\n      // are added to the rigionGroup\n\n\n      if (data) {\n        data.setItemGraphicEl(dataIdx, regionGroup);\n      } else {\n        var regionModel = mapOrGeoModel.getRegionModel(region.name); // Package custom mouse event for geo component\n\n        compoundPath.eventData = {\n          componentType: 'geo',\n          geoIndex: mapOrGeoModel.componentIndex,\n          name: region.name,\n          region: regionModel && regionModel.option || {}\n        };\n      }\n\n      var groupRegions = regionGroup.__regions || (regionGroup.__regions = []);\n      groupRegions.push(region);\n      graphic.setHoverStyle(regionGroup, hoverItemStyle, {\n        hoverSilentOnTouch: !!mapOrGeoModel.get('selectedMode')\n      });\n      group.add(regionGroup);\n    });\n\n    this._updateController(mapOrGeoModel, ecModel, api);\n\n    updateMapSelectHandler(this, mapOrGeoModel, group, api, fromView);\n    updateMapSelected(mapOrGeoModel, group);\n  },\n  remove: function () {\n    this.group.removeAll();\n\n    this._controller.dispose();\n\n    this._controllerHost = {};\n  },\n  _updateController: function (mapOrGeoModel, ecModel, api) {\n    var geo = mapOrGeoModel.coordinateSystem;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n    controllerHost.zoom = geo.getZoom(); // roamType is will be set default true if it is null\n\n    controller.enable(mapOrGeoModel.get('roam') || false);\n    var mainType = mapOrGeoModel.mainType;\n\n    function makeActionBase() {\n      var action = {\n        type: 'geoRoam',\n        componentType: mainType\n      };\n      action[mainType + 'Id'] = mapOrGeoModel.id;\n      return action;\n    }\n\n    controller.off('pan').on('pan', function (dx, dy) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnPan(controllerHost, dx, dy);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        dx: dx,\n        dy: dy\n      }));\n    }, this);\n    controller.off('zoom').on('zoom', function (zoom, mouseX, mouseY) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        zoom: zoom,\n        originX: mouseX,\n        originY: mouseY\n      }));\n\n      if (this._updateGroup) {\n        var group = this.group;\n        var scale = group.scale;\n        group.traverse(function (el) {\n          if (el.type === 'text') {\n            el.attr('scale', [1 / scale[0], 1 / scale[1]]);\n          }\n        });\n      }\n    }, this);\n    controller.setPointerChecker(function (e, x, y) {\n      return geo.getViewRectAfterRoam().contain(x, y) && !onIrrelevantElement(e, api, mapOrGeoModel);\n    });\n  }\n};\nvar _default = MapDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\n\nfunction isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});\nexports.take = take;\nexports.release = release;\nexports.isTaken = isTaken;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports) {\n\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  var pos = target.position;\n  pos[0] += dx;\n  pos[1] += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\n\n\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var pos = target.position;\n  var scale = target.scale;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n  pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n  scale[0] *= zoomScale;\n  scale[1] *= zoomScale;\n  target.dirty();\n}\n\nexports.updateViewOnPan = updateViewOnPan;\nexports.updateViewOnZoom = updateViewOnZoom;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _roamHelper = __webpack_require__(127);\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\n\n/**\n * @payload\n * @property {string} [componentType=series]\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\necharts.registerAction({\n  type: 'geoRoam',\n  event: 'geoRoam',\n  update: 'updateLayout'\n}, function (payload, ecModel) {\n  var componentType = payload.componentType || 'series';\n  ecModel.eachComponent({\n    mainType: componentType,\n    query: payload\n  }, function (componentModel) {\n    var geo = componentModel.coordinateSystem;\n\n    if (geo.type !== 'geo') {\n      return;\n    }\n\n    var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'));\n    componentModel.setCenter && componentModel.setCenter(res.center);\n    componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n    // So the center and zoom must be in sync. Include the series not selected by legend\n\n    if (componentType === 'series') {\n      zrUtil.each(componentModel.seriesGroup, function (seriesModel) {\n        seriesModel.setCenter(res.center);\n        seriesModel.setZoom(res.zoom);\n      });\n    }\n  });\n});\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports) {\n\n/**\n * @param {module:echarts/coord/View} view\n * @param {Object} payload\n * @param {Object} [zoomLimit]\n */\nfunction updateCenterAndZoom(view, payload, zoomLimit) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.dataToPoint(center);\n\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    var center = view.pointToData(point);\n    view.setCenter(center);\n  }\n\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    } // Zoom on given point(originX, originY)\n\n\n    view.scale[0] *= zoom;\n    view.scale[1] *= zoom;\n    var position = view.position;\n    var fixX = (payload.originX - position[0]) * (zoom - 1);\n    var fixY = (payload.originY - position[1]) * (zoom - 1);\n    position[0] -= fixX;\n    position[1] -= fixY;\n    view.updateTransform(); // Get the new center\n\n    var center = view.pointToData(point);\n    view.setCenter(center);\n    view.setZoom(zoom * previousZoom);\n  }\n\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}\n\nexports.updateCenterAndZoom = updateCenterAndZoom;\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Model = __webpack_require__(10);\n\nvar List = __webpack_require__(14);\n\nvar linkList = __webpack_require__(129);\n\nvar completeDimensions = __webpack_require__(19);\n\n/**\n * Tree data structure\n *\n * @module echarts/data/Tree\n */\n\n/**\n * @constructor module:echarts/data/Tree~TreeNode\n * @param {string} name\n * @param {module:echarts/data/Tree} hostTree\n */\nvar TreeNode = function (name, hostTree) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * Depth of node\n   *\n   * @type {number}\n   * @readOnly\n   */\n\n  this.depth = 0;\n  /**\n   * Height of the subtree rooted at this node.\n   * @type {number}\n   * @readOnly\n   */\n\n  this.height = 0;\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n\n  this.parentNode = null;\n  /**\n   * Reference to list item.\n   * Do not persistent dataIndex outside,\n   * besause it may be changed by list.\n   * If dataIndex -1,\n   * this node is logical deleted (filtered) in list.\n   *\n   * @type {Object}\n   * @readOnly\n   */\n\n  this.dataIndex = -1;\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @readOnly\n   */\n\n  this.children = [];\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @pubilc\n   */\n\n  this.viewChildren = [];\n  /**\n   * @type {moduel:echarts/data/Tree}\n   * @readOnly\n   */\n\n  this.hostTree = hostTree;\n};\n\nTreeNode.prototype = {\n  constructor: TreeNode,\n\n  /**\n   * The node is removed.\n   * @return {boolean} is removed.\n   */\n  isRemoved: function () {\n    return this.dataIndex < 0;\n  },\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb If in preorder and return false,\n   *                      its subtree will not be visited.\n   * @param {Object} [context]\n   */\n  eachNode: function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  },\n\n  /**\n   * Update depth and height of this subtree.\n   *\n   * @param  {number} depth\n   */\n  updateDepthAndHeight: function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  },\n\n  /**\n   * @param  {string} id\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeById: function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~TreeNode} node\n   * @return {boolean}\n   */\n  contains: function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {boolean} includeSelf Default false.\n   * @return {Array.<module:echarts/data/Tree~TreeNode>} order: [root, child, grandchild, ...]\n   */\n  getAncestors: function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  },\n\n  /**\n   * @param {string|Array=} [dimension='value'] Default 'value'. can be 0, 1, 2, 3\n   * @return {number} Value.\n   */\n  getValue: function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  },\n\n  /**\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n  setLayout: function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  },\n\n  /**\n   * @return {Object} layout\n   */\n  getLayout: function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    var levelModel = this.getLevelModel();\n    var leavesModel;\n\n    if (!levelModel && (this.children.length === 0 || this.children.length !== 0 && this.isExpand === false)) {\n      leavesModel = this.getLeavesModel();\n    }\n\n    return itemModel.getModel(path, (levelModel || leavesModel || hostTree.hostModel).getModel(path));\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getLevelModel: function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getLeavesModel: function () {\n    return this.hostTree.leavesModel;\n  },\n\n  /**\n   * @example\n   *  setItemVisual('color', color);\n   *  setItemVisual({\n   *      'color': color\n   *  });\n   */\n  setVisual: function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  },\n\n  /**\n   * Get item visual\n   */\n  getVisual: function (key, ignoreParent) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key, ignoreParent);\n  },\n\n  /**\n   * @public\n   * @return {number}\n   */\n  getRawIndex: function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  },\n\n  /**\n   * @public\n   * @return {string}\n   */\n  getId: function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  }\n};\n/**\n * @constructor\n * @alias module:echarts/data/Tree\n * @param {module:echarts/model/Model} hostModel\n * @param {Array.<Object>} levelOptions\n * @param {Object} leavesOption\n */\n\nfunction Tree(hostModel, levelOptions, leavesOption) {\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n  this.root;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * Index of each item is the same as the raw index of coresponding list item.\n   * @private\n   * @type {Array.<module:echarts/data/Tree~TreeNode}\n   */\n\n  this._nodes = [];\n  /**\n   * @private\n   * @readOnly\n   * @type {module:echarts/model/Model}\n   */\n\n  this.hostModel = hostModel;\n  /**\n   * @private\n   * @readOnly\n   * @type {Array.<module:echarts/model/Model}\n   */\n\n  this.levelModels = zrUtil.map(levelOptions || [], function (levelDefine) {\n    return new Model(levelDefine, hostModel, hostModel.ecModel);\n  });\n  this.leavesModel = new Model(leavesOption || {}, hostModel, hostModel.ecModel);\n}\n\nTree.prototype = {\n  constructor: Tree,\n  type: 'tree',\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb\n   * @param {Object}   [context]\n   */\n  eachNode: function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  },\n\n  /**\n   * @param {number} dataIndex\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByDataIndex: function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByName: function (name) {\n    return this.root.getNodeByName(name);\n  },\n\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n  update: function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  },\n\n  /**\n   * Clear all layouts\n   */\n  clearLayouts: function () {\n    this.data.clearItemLayouts();\n  }\n};\n/**\n * data node format:\n * {\n *     name: ...\n *     value: ...\n *     children: [\n *         {\n *             name: ...\n *             value: ...\n *             children: ...\n *         },\n *         ...\n *     ]\n * }\n *\n * @static\n * @param {Object} dataRoot Root node.\n * @param {module:echarts/model/Model} hostModel\n * @param {Object} treeOptions\n * @param {Array.<Object>} treeOptions.levels\n * @param {Array.<Object>} treeOptions.leaves\n * @return module:echarts/data/Tree\n */\n\nTree.createTree = function (dataRoot, hostModel, treeOptions) {\n  var tree = new Tree(hostModel, treeOptions.levels, treeOptions.leaves);\n  var listData = [];\n  var dimMax = 1;\n  buildHierarchy(dataRoot);\n\n  function buildHierarchy(dataNode, parentNode) {\n    var value = dataNode.value;\n    dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n    listData.push(dataNode);\n    var node = new TreeNode(dataNode.name, tree);\n    parentNode ? addChild(node, parentNode) : tree.root = node;\n\n    tree._nodes.push(node);\n\n    var children = dataNode.children;\n\n    if (children) {\n      for (var i = 0; i < children.length; i++) {\n        buildHierarchy(children[i], node);\n      }\n    }\n  }\n\n  tree.root.updateDepthAndHeight(0);\n  var dimensions = completeDimensions([{\n    name: 'value'\n  }], listData, {\n    dimCount: dimMax\n  });\n  var list = new List(dimensions, hostModel);\n  list.initData(listData);\n  linkList({\n    mainData: list,\n    struct: tree,\n    structAttr: 'tree'\n  });\n  tree.update();\n  return tree;\n};\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n *\n * @param {(module:echarts/data/Tree~TreeNode|Object)} child\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nvar _default = Tree;\nmodule.exports = _default;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * Link lists and struct (graph or tree)\n */\nvar each = zrUtil.each;\nvar DATAS = '\\0__link_datas';\nvar MAIN_DATA = '\\0__link_mainData'; // Caution:\n// In most case, either list or its shallow clones (see list.cloneShallow)\n// is active in echarts process. So considering heap memory consumption,\n// we do not clone tree or graph, but share them among list and its shallow clones.\n// But in some rare case, we have to keep old list (like do animation in chart). So\n// please take care that both the old list and the new list share the same tree/graph.\n\n/**\n * @param {Object} opt\n * @param {module:echarts/data/List} opt.mainData\n * @param {Object} [opt.struct] For example, instance of Graph or Tree.\n * @param {string} [opt.structAttr] designation: list[structAttr] = struct;\n * @param {Object} [opt.datas] {dataType: data},\n *                 like: {node: nodeList, edge: edgeList}.\n *                 Should contain mainData.\n * @param {Object} [opt.datasAttr] {dataType: attr},\n *                 designation: struct[datasAttr[dataType]] = list;\n */\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, zrUtil.curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', zrUtil.curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, zrUtil.curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  zrUtil.assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = zrUtil.extend({}, this[DATAS]);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, this[MAIN_DATA], opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update(this);\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(res[DATAS], function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param {string} [dataType] If not specified, return mainData.\n * @return {module:echarts/data/List}\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = this[MAIN_DATA];\n  return dataType == null || mainData == null ? mainData : mainData[DATAS][dataType];\n}\n\nfunction isMainData(data) {\n  return data[MAIN_DATA] === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  mainData[DATAS] = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  mainData[DATAS][dataType] = data;\n  data[MAIN_DATA] = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n}\n\nvar _default = linkList;\nmodule.exports = _default;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar layout = __webpack_require__(6);\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n * @see https://github.com/d3/d3-hierarchy\n */\n\n/**\n * Initialize all computational message for following algorithm\n * @param  {module:echarts/data/Tree~TreeNode} root   The virtual root of the tree\n */\nfunction init(root) {\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n\n    if (node.isExpand && children.length) {\n      var n = children.length;\n\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param {Function} separation\n */\n\n\nfunction firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * Computes all real x-coordinates by summing up the modifiers recursively.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\n\nfunction separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate\n * @param  {number} x\n * @param  {number} y\n * @return {Object}\n */\n\n\nfunction radialCoordinate(x, y) {\n  var radialCoor = {};\n  x -= Math.PI / 2;\n  radialCoor.x = y * Math.cos(x);\n  radialCoor.y = y * Math.sin(x);\n  return radialCoor;\n}\n/**\n * Get the layout position of the whole view\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n * @param  {module:echarts/data/Tree~TreeNode} subtreeV\n * @param  {module:echarts/data/Tree~TreeNode} subtreeW\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @param  {Function} separation\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLefts ancestor is a sibling of node, returns nodeInLefts ancestor.\n * Otherwise, returns the specified ancestor.\n * @param  {module:echarts/data/Tree~TreeNode} nodeInLeft\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * Shifts the current subtree rooted at wr. This is done by increasing prelim(w+) and modifier(w+) by shift.\n * @param  {module:echarts/data/Tree~TreeNode} wl\n * @param  {module:echarts/data/Tree~TreeNode} wr\n * @param  {number} shift [description]\n */\n\n\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}\n\nexports.init = init;\nexports.firstWalk = firstWalk;\nexports.secondWalk = secondWalk;\nexports.separation = separation;\nexports.radialCoordinate = radialCoordinate;\nexports.getViewRect = getViewRect;\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _traversalHelper = __webpack_require__(264);\n\nvar eachAfter = _traversalHelper.eachAfter;\nvar eachBefore = _traversalHelper.eachBefore;\n\nvar _layoutHelper = __webpack_require__(130);\n\nvar init = _layoutHelper.init;\nvar firstWalk = _layoutHelper.firstWalk;\nvar secondWalk = _layoutHelper.secondWalk;\nvar sep = _layoutHelper.separation;\nvar radialCoordinate = _layoutHelper.radialCoordinate;\nvar getViewRect = _layoutHelper.getViewRect;\n\nfunction _default(seriesModel, api) {\n  var layoutInfo = getViewRect(seriesModel, api);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n  init(virtualRoot);\n  eachAfter(realRoot, firstWalk, separation);\n  virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n  eachBefore(realRoot, secondWalk);\n  var left = realRoot;\n  var right = realRoot;\n  var bottom = realRoot;\n  eachBefore(realRoot, function (node) {\n    var x = node.getLayout().x;\n\n    if (x < left.getLayout().x) {\n      left = node;\n    }\n\n    if (x > right.getLayout().x) {\n      right = node;\n    }\n\n    if (node.depth > bottom.depth) {\n      bottom = node;\n    }\n  });\n  var delta = left === right ? 1 : separation(left, right) / 2;\n  var tx = delta - left.getLayout().x;\n  var kx = 0;\n  var ky = 0;\n  var coorX = 0;\n  var coorY = 0;\n\n  if (layout === 'radial') {\n    kx = width / (right.getLayout().x + delta + tx); // here we use (node.depth - 1), bucause the real root's depth is 1\n\n    ky = height / (bottom.depth - 1 || 1);\n    eachBefore(realRoot, function (node) {\n      coorX = (node.getLayout().x + tx) * kx;\n      coorY = (node.depth - 1) * ky;\n      var finalCoor = radialCoordinate(coorX, coorY);\n      node.setLayout({\n        x: finalCoor.x,\n        y: finalCoor.y,\n        rawX: coorX,\n        rawY: coorY\n      }, true);\n    });\n  } else {\n    if (seriesModel.get('orient') === 'horizontal') {\n      ky = height / (right.getLayout().x + delta + tx);\n      kx = width / (bottom.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorY = (node.getLayout().x + tx) * ky;\n        coorX = (node.depth - 1) * kx;\n        node.setLayout({\n          x: coorX,\n          y: coorY\n        }, true);\n      });\n    } else {\n      kx = width / (right.getLayout().x + delta + tx);\n      ky = height / (bottom.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX = (node.getLayout().x + tx) * kx;\n        coorY = (node.depth - 1) * ky;\n        node.setLayout({\n          x: coorX,\n          y: coorY\n        }, true);\n      });\n    }\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar List = __webpack_require__(14);\n\nvar Graph = __webpack_require__(276);\n\nvar linkList = __webpack_require__(129);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar CoordinateSystem = __webpack_require__(21);\n\nvar createListFromArray = __webpack_require__(27);\n\nfunction _default(nodes, edges, hostModel, directed, beforeLink) {\n  var graph = new Graph(directed);\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve( // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target; // addEdge may fail when source or target not exists\n\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(link.id, source + ' > ' + target));\n      linkCount++;\n    }\n  }\n\n  var coordSys = hostModel.get('coordinateSystem');\n  var nodeData;\n\n  if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n    nodeData = createListFromArray(nodes, hostModel, hostModel.ecModel);\n  } else {\n    // FIXME\n    var coordSysCtor = CoordinateSystem.get(coordSys); // FIXME\n\n    var dimensionNames = completeDimensions((coordSysCtor && coordSysCtor.type !== 'view' ? coordSysCtor.dimensions || [] : []).concat(['value']), nodes);\n    nodeData = new List(dimensionNames, hostModel);\n    nodeData.initData(nodes);\n  }\n\n  var edgeData = new List(['value'], hostModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkList({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  }); // Update dataIndex of nodes and edges because invalid edge may be removed\n\n  graph.update();\n  return graph;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(7);\n\nfunction simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph);\n}\n\nfunction simpleLayoutEdge(graph) {\n  graph.eachEdge(function (edge) {\n    var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n\n    edge.setLayout(points);\n  });\n}\n\nexports.simpleLayout = simpleLayout;\nexports.simpleLayoutEdge = simpleLayoutEdge;\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(7);\n\nfunction circularLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var angle = 0;\n  var sum = nodeData.getSum('value');\n  var unitAngle = Math.PI * 2 / (sum || nodeData.count());\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  graph.eachNode(function (node) {\n    var value = node.getValue('value');\n    angle += unitAngle * (sum ? value : 1) / 2;\n    node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n    angle += unitAngle * (sum ? value : 1) / 2;\n  });\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n  graph.eachEdge(function (edge) {\n    var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\n\nexports.circularLayout = circularLayout;\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar throttleUtil = __webpack_require__(31);\n\nvar parallelPreprocessor = __webpack_require__(298);\n\n__webpack_require__(136);\n\n__webpack_require__(301);\n\n__webpack_require__(303);\n\nvar CLICK_THRESHOLD = 5; // > 4\n// Parallel view\n\necharts.extendComponentView({\n  type: 'parallel',\n  render: function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n\n    if (!this._handlers) {\n      this._handlers = {};\n      zrUtil.each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = zrUtil.bind(handler, this));\n      }, this);\n    }\n\n    throttleUtil.createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  },\n\n  /**\n   * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n   */\n  _throttledDispatchExpand: function (opt) {\n    this._dispatchExpand(opt);\n  },\n  _dispatchExpand: function (opt) {\n    opt && this._api.dispatchAction(zrUtil.extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  }\n});\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : false\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\necharts.registerPreprocessor(parallelPreprocessor);\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Parallel = __webpack_require__(299);\n\nvar CoordinateSystem = __webpack_require__(21);\n\n/**\n * Parallel coordinate system creater.\n */\nfunction create(ecModel, api) {\n  var coordSysList = [];\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\n    var coordSys = new Parallel(parallelModel, ecModel, api);\n    coordSys.name = 'parallel_' + idx;\n    coordSys.resize(parallelModel, api);\n    parallelModel.coordinateSystem = coordSys;\n    coordSys.model = parallelModel;\n    coordSysList.push(coordSys);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\n      var parallelModel = ecModel.queryComponents({\n        mainType: 'parallel',\n        index: seriesModel.get('parallelIndex'),\n        id: seriesModel.get('parallelId')\n      })[0];\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n    }\n  });\n  return coordSysList;\n}\n\nCoordinateSystem.register('parallel', {\n  create: create\n});\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BoundingRect = __webpack_require__(9);\n\nvar _cursorHelper = __webpack_require__(79);\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphicUtil = __webpack_require__(2);\n\nfunction makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints, transform) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n  rect = normalizeRect(rect);\n  return function (e, localCursorPoint, transform) {\n    return rect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}\n\nexports.makeRectPanelClipPath = makeRectPanelClipPath;\nexports.makeLinearBrushOtherExtent = makeLinearBrushOtherExtent;\nexports.makeRectIsTargetByCursor = makeRectIsTargetByCursor;\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * nest helper used to group by the array.\n * can specified the keys and sort the keys.\n */\nfunction nest() {\n  var keysFunction = [];\n  var sortKeysFunction = [];\n  /**\n   * map an Array into the mapObject.\n   * @param {Array} array\n   * @param {number} depth\n   */\n\n  function map(array, depth) {\n    if (depth >= keysFunction.length) {\n      return array;\n    }\n\n    var i = -1;\n    var n = array.length;\n    var keyFunction = keysFunction[depth++];\n    var mapObject = {};\n    var valuesByKey = {};\n\n    while (++i < n) {\n      var keyValue = keyFunction(array[i]);\n      var values = valuesByKey[keyValue];\n\n      if (values) {\n        values.push(array[i]);\n      } else {\n        valuesByKey[keyValue] = [array[i]];\n      }\n    }\n\n    zrUtil.each(valuesByKey, function (value, key) {\n      mapObject[key] = map(value, depth);\n    });\n    return mapObject;\n  }\n  /**\n   * transform the Map Object to multidimensional Array\n   * @param {Object} map\n   * @param {number} depth\n   */\n\n\n  function entriesMap(mapObject, depth) {\n    if (depth >= keysFunction.length) {\n      return mapObject;\n    }\n\n    var array = [];\n    var sortKeyFunction = sortKeysFunction[depth++];\n    zrUtil.each(mapObject, function (value, key) {\n      array.push({\n        key: key,\n        values: entriesMap(value, depth)\n      });\n    });\n\n    if (sortKeyFunction) {\n      return array.sort(function (a, b) {\n        return sortKeyFunction(a.key, b.key);\n      });\n    } else {\n      return array;\n    }\n  }\n\n  return {\n    /**\n     * specified the key to groupby the arrays.\n     * users can specified one more keys.\n     * @param {Function} d\n     */\n    key: function (d) {\n      keysFunction.push(d);\n      return this;\n    },\n\n    /**\n     * specified the comparator to sort the keys\n     * @param {Function} order\n     */\n    sortKeys: function (order) {\n      sortKeysFunction[keysFunction.length - 1] = order;\n      return this;\n    },\n\n    /**\n     * the array to be grouped by.\n     * @param {Array} array\n     */\n    entries: function (array) {\n      return entriesMap(map(array, 0), 0);\n    }\n  };\n}\n\nmodule.exports = nest;\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar Line = __webpack_require__(81);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar vec2 = __webpack_require__(7);\n\nvar curveUtil = __webpack_require__(25);\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\nfunction EffectLine(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.add(this.createLine(lineData, idx, seriesScope));\n\n  this._updateEffectSymbol(lineData, idx);\n}\n\nvar effectLineProto = EffectLine.prototype;\n\neffectLineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Line(lineData, idx, seriesScope);\n};\n\neffectLineProto._updateEffectSymbol = function (lineData, idx) {\n  var itemModel = lineData.getItemModel(idx);\n  var effectModel = itemModel.getModel('effect');\n  var size = effectModel.get('symbolSize');\n  var symbolType = effectModel.get('symbol');\n\n  if (!zrUtil.isArray(size)) {\n    size = [size, size];\n  }\n\n  var color = effectModel.get('color') || lineData.getItemVisual(idx, 'color');\n  var symbol = this.childAt(1);\n\n  if (this._symbolType !== symbolType) {\n    // Remove previous\n    this.remove(symbol);\n    symbol = createSymbol(symbolType, -0.5, -0.5, 1, 1, color);\n    symbol.z2 = 100;\n    symbol.culling = true;\n    this.add(symbol);\n  } // Symbol may be removed if loop is false\n\n\n  if (!symbol) {\n    return;\n  } // Shadow color is same with color in default\n\n\n  symbol.setStyle('shadowColor', color);\n  symbol.setStyle(effectModel.getItemStyle(['color']));\n  symbol.attr('scale', size);\n  symbol.setColor(color);\n  symbol.attr('scale', size);\n  this._symbolType = symbolType;\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\neffectLineProto._updateEffectAnimation = function (lineData, effectModel, idx) {\n  var symbol = this.childAt(1);\n\n  if (!symbol) {\n    return;\n  }\n\n  var self = this;\n  var points = lineData.getItemLayout(idx);\n  var period = effectModel.get('period') * 1000;\n  var loop = effectModel.get('loop');\n  var constantSpeed = effectModel.get('constantSpeed');\n  var delayExpr = zrUtil.retrieve(effectModel.get('delay'), function (idx) {\n    return idx / lineData.count() * period / 3;\n  });\n  var isDelayFunc = typeof delayExpr === 'function'; // Ignore when updating\n\n  symbol.ignore = true;\n  this.updateAnimationPoints(symbol, points);\n\n  if (constantSpeed > 0) {\n    period = this.getLineLength(symbol) / constantSpeed * 1000;\n  }\n\n  if (period !== this._period || loop !== this._loop) {\n    symbol.stopAnimation();\n    var delay = delayExpr;\n\n    if (isDelayFunc) {\n      delay = delayExpr(idx);\n    }\n\n    if (symbol.__t > 0) {\n      delay = -period * symbol.__t;\n    }\n\n    symbol.__t = 0;\n    var animator = symbol.animate('', loop).when(period, {\n      __t: 1\n    }).delay(delay).during(function () {\n      self.updateSymbolPosition(symbol);\n    });\n\n    if (!loop) {\n      animator.done(function () {\n        self.remove(symbol);\n      });\n    }\n\n    animator.start();\n  }\n\n  this._period = period;\n  this._loop = loop;\n};\n\neffectLineProto.getLineLength = function (symbol) {\n  // Not so accurate\n  return vec2.dist(symbol.__p1, symbol.__cp1) + vec2.dist(symbol.__cp1, symbol.__p2);\n};\n\neffectLineProto.updateAnimationPoints = function (symbol, points) {\n  symbol.__p1 = points[0];\n  symbol.__p2 = points[1];\n  symbol.__cp1 = points[2] || [(points[0][0] + points[1][0]) / 2, (points[0][1] + points[1][1]) / 2];\n};\n\neffectLineProto.updateData = function (lineData, idx, seriesScope) {\n  this.childAt(0).updateData(lineData, idx, seriesScope);\n\n  this._updateEffectSymbol(lineData, idx);\n};\n\neffectLineProto.updateSymbolPosition = function (symbol) {\n  var p1 = symbol.__p1;\n  var p2 = symbol.__p2;\n  var cp1 = symbol.__cp1;\n  var t = symbol.__t;\n  var pos = symbol.position;\n  var quadraticAt = curveUtil.quadraticAt;\n  var quadraticDerivativeAt = curveUtil.quadraticDerivativeAt;\n  pos[0] = quadraticAt(p1[0], cp1[0], p2[0], t);\n  pos[1] = quadraticAt(p1[1], cp1[1], p2[1], t); // Tangent\n\n  var tx = quadraticDerivativeAt(p1[0], cp1[0], p2[0], t);\n  var ty = quadraticDerivativeAt(p1[1], cp1[1], p2[1], t);\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  symbol.ignore = false;\n};\n\neffectLineProto.updateLayout = function (lineData, idx) {\n  this.childAt(0).updateLayout(lineData, idx);\n  var effectModel = lineData.getItemModel(idx).getModel('effect');\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\nzrUtil.inherits(EffectLine, graphic.Group);\nvar _default = EffectLine;\nmodule.exports = _default;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @module echarts/chart/helper/Line\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction Polyline(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createPolyline(lineData, idx, seriesScope);\n}\n\nvar polylineProto = Polyline.prototype;\n\npolylineProto._createPolyline = function (lineData, idx, seriesScope) {\n  // var seriesModel = lineData.hostModel;\n  var points = lineData.getItemLayout(idx);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    }\n  });\n  this.add(line);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childAt(0);\n  var target = {\n    shape: {\n      points: lineData.getItemLayout(idx)\n    }\n  };\n  graphic.updateProps(line, target, seriesModel, idx);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var line = this.childAt(0);\n  var itemModel = lineData.getItemModel(idx);\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n\n  if (!seriesScope || lineData.hasItemOption) {\n    lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n    hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n  }\n\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle;\n  graphic.setHoverStyle(this);\n};\n\npolylineProto.updateLayout = function (lineData, idx) {\n  var polyline = this.childAt(0);\n  polyline.setShape('points', lineData.getItemLayout(idx));\n};\n\nzrUtil.inherits(Polyline, graphic.Group);\nvar _default = Polyline;\nmodule.exports = _default;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(345);\n\n__webpack_require__(348);\n\n__webpack_require__(349);\n\n__webpack_require__(48);\n\n__webpack_require__(353);\n\necharts.extendComponentView({\n  type: 'single'\n});\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, labelInterval, z2\n * }\n */\nfunction layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n\n  var labelRotation = opt.rotate;\n  labelRotation == null && (labelRotation = axisModel.get('axisLabel.rotate'));\n  layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n  layout.labelInterval = axis.getLabelInterval();\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return seriesModel.coordDimToDataDim(dim)[0];\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar modelUtil = __webpack_require__(5);\n\nvar get = modelUtil.makeGetter();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  get(zr).records || (get(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = get(zr).records[key] || (get(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (get(zr).initialized) {\n    return;\n  }\n\n  get(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(get(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (get(zr).records || {})[key];\n\n  if (record) {\n    get(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar BaseAxisPointer = __webpack_require__(83);\n\nvar viewHelper = __webpack_require__(66);\n\nvar cartesianAxisHelper = __webpack_require__(118);\n\nvar AxisView = __webpack_require__(34);\n\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent, elStyle) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    graphic.subPixelOptimizeLine({\n      shape: targetShape,\n      style: elStyle\n    });\n    return {\n      type: 'Line',\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent, elStyle) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar Model = __webpack_require__(10);\n\nvar LegendModel = echarts.extendComponentModel({\n  type: 'legend.plain',\n  dependencies: ['series'],\n  layoutMode: {\n    type: 'box',\n    // legend.width/height are maxWidth/maxHeight actually,\n    // whereas realy width/height is calculated by its content.\n    // (Setting {left: 10, right: 10} does not make sense).\n    // So consider the case:\n    // `setOption({legend: {left: 10});`\n    // then `setOption({legend: {right: 10});`\n    // The previous `left` should be cleared by setting `ignoreSize`.\n    ignoreSize: true\n  },\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n  },\n  mergeOption: function (option) {\n    LegendModel.superCall(this, 'mergeOption', option);\n  },\n  optionUpdated: function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name = legendData[i].get('name');\n\n        if (this.isSelected(name)) {\n          // Force to unselect others\n          this.select(name);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  },\n  _updateData: function (ecModel) {\n    var legendData = zrUtil.map(this.get('data') || [], function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    this._data = legendData;\n    var availableNames = zrUtil.map(ecModel.getSeries(), function (series) {\n      return series.name;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.legendDataProvider) {\n        var data = seriesModel.legendDataProvider();\n        availableNames = availableNames.concat(data.mapArray(data.getName));\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames;\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Model>}\n   */\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @param {string} name\n   */\n  select: function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  },\n\n  /**\n   * @param {string} name\n   */\n  unSelect: function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  },\n\n  /**\n   * @param {string} name\n   */\n  toggleSelected: function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  },\n\n  /**\n   * @param {string} name\n   */\n  isSelected: function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 4,\n    show: true,\n    // \n    // 'horizontal' | 'vertical'\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    // \n    // 'auto' | 'left' | 'right'\n    //  'auto',  x \n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    borderRadius: 0,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // itempx10\n    // \n    itemGap: 10,\n    // \n    itemWidth: 25,\n    // \n    itemHeight: 14,\n    // \n    inactiveColor: '#ccc',\n    textStyle: {\n      // \n      color: '#333'\n    },\n    // formatter: '',\n    // \n    selectedMode: true,\n    // LEGEND.SELECTED\n    // selected: null,\n    // legend.dataitem\n    // data: [],\n    // Tooltip \n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = LegendModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = __webpack_require__(2);\n\nvar _listComponent = __webpack_require__(148);\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = __webpack_require__(6);\n\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && legendModel.get('orient') === 'vertical' ? 'right' : 'left';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      }\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Series legend\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, api)).on('mouseover', curry(dispatchHighlightAction, seriesModel, null, api)).on('mouseout', curry(dispatchDownplayAction, seriesModel, null, api));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Data legend of pie, funnel\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendDataProvider) {\n            var data = seriesModel.legendDataProvider();\n            var idx = data.indexOfName(name);\n\n            if (idx < 0) {\n              return;\n            }\n\n            var color = data.getItemVisual(idx, 'color');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, selectMode);\n\n            itemGroup.on('click', curry(dispatchSelectAction, name, api)) // FIXME Should not specify the series name\n            .on('mouseover', curry(dispatchHighlightAction, seriesModel, name, api)).on('mouseout', curry(dispatchDownplayAction, seriesModel, name, api));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    itemGroup.add(createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, true)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType == 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      } // Put symbol in the center\n\n\n      itemGroup.add(createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize) {\n    var contentGroup = this.getContentGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    contentGroup.attr('position', [-contentRect.x, -contentRect.y]);\n    return this.group.getBoundingRect();\n  }\n});\n\nfunction dispatchSelectAction(name, api) {\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: name\n  });\n}\n\nfunction dispatchHighlightAction(seriesModel, dataName, api) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    seriesModel.get('legendHoverLink') && api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesModel.name,\n      name: dataName\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesModel, dataName, api) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    seriesModel.get('legendHoverLink') && api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesModel.name,\n      name: dataName\n    });\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\nvar layoutBox = _layout.box;\nvar positionElement = _layout.positionElement;\n\nvar formatUtil = __webpack_require__(8);\n\nvar graphic = __webpack_require__(2);\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\n\nfunction makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}\n\nexports.layout = layout;\nexports.makeBackground = makeBackground;\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar modelUtil = __webpack_require__(5);\n\nvar brushHelper = __webpack_require__(137);\n\nvar each = zrUtil.each;\nvar indexOf = zrUtil.indexOf;\nvar curry = zrUtil.curry;\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData']; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\n\nfunction BrushTargetManager(option, ecModel, opt) {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  var targetInfoList = this._targetInfoList = [];\n  var info = {};\n  var foundCpts = parseFinder(ecModel, option);\n  each(targetInfoBuilders, function (builder, type) {\n    if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n      builder(foundCpts, targetInfoList, info);\n    }\n  });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n  this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n    if (!area.coordRange) {\n      area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n      // rebuild range by coordRange accrately, which may bring trouble when\n      // brushing only one item. So we use __rangeOffset to rebuilding range\n      // by coordRange. And this it only used in brush component so it is no\n      // need to be adapted to coordRanges.\n\n      var result = coordConvert[area.brushType](0, coordSys, coordRange);\n      area.__rangeOffset = {\n        offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n        xyMinMax: result.xyMinMax\n      };\n    }\n  });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n\n    if (targetInfo && targetInfo !== true) {\n      zrUtil.each(targetInfo.coordSyses, function (coordSys) {\n        var result = coordConvert[area.brushType](1, coordSys, area.range);\n        cb(area, result.values, coordSys, ecModel);\n      });\n    }\n  }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n    if (targetInfo && targetInfo !== true) {\n      area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n      // not keep its original value, for the sake of the dataZoom scenario,\n      // where area.coordRange remains unchanged but area.range may be changed.\n      // (2) Only support converting one coordRange to pixel range in brush\n      // component. So do not consider `coordRanges`.\n      // (3) About __rangeOffset, see comment above.\n\n      var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n      var rangeOffset = area.__rangeOffset;\n      area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n    }\n  }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n  return zrUtil.map(this._targetInfoList, function (targetInfo) {\n    var rect = targetInfo.getPanelRect();\n    return {\n      panelId: targetInfo.panelId,\n      defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n    };\n  });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n  // Check whether area is bound in coord, and series do not belong to that coord.\n  // If do not do this check, some brush (like lineX) will controll all axes.\n  var targetInfo = this.findTargetInfo(area, ecModel);\n  return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n};\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\n\n\nproto.findTargetInfo = function (area, ecModel) {\n  var targetInfoList = this._targetInfoList;\n  var foundCpts = parseFinder(ecModel, area);\n\n  for (var i = 0; i < targetInfoList.length; i++) {\n    var targetInfo = targetInfoList[i];\n    var areaPanelId = area.panelId;\n\n    if (areaPanelId) {\n      if (targetInfo.panelId === areaPanelId) {\n        return targetInfo;\n      }\n    } else {\n      for (var i = 0; i < targetInfoMatchers.length; i++) {\n        if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n          return targetInfo;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, option) {\n  return modelUtil.parseFinder(ecModel, option, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = zrUtil.createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilder.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilder.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilder = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.grid.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange) {\n    var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n    var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = zrUtil.map(rangeOrCoordRange, function (item) {\n      var p = coordSys[COORD_CONVERTS[to]](item);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(zrUtil.map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return zrUtil.map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nvar _default = BrushTargetManager;\nmodule.exports = _default;\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(13);\n\nComponent.registerSubTypeDefaulter('dataZoom', function () {\n  // Default 'slider' when no type specified.\n  return 'slider';\n});\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\necharts.registerProcessor(function (ecModel, api) {\n  ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n    // We calculate window and reset axis here but not in model\n    // init stage and not after action dispatch handler, because\n    // reset should be called after seriesData.restoreData.\n    dataZoomModel.eachTargetAxis(resetSingleAxis); // Caution: data zoom filtering is order sensitive when using\n    // percent range and no min/max/scale set on axis.\n    // For example, we have dataZoom definition:\n    // [\n    //      {xAxisIndex: 0, start: 30, end: 70},\n    //      {yAxisIndex: 0, start: 20, end: 80}\n    // ]\n    // In this case, [20, 80] of y-dataZoom should be based on data\n    // that have filtered by x-dataZoom using range of [30, 70],\n    // but should not be based on full raw data. Thus sliding\n    // x-dataZoom will change both ranges of xAxis and yAxis,\n    // while sliding y-dataZoom will only change the range of yAxis.\n    // So we should filter x-axis after reset x-axis immediately,\n    // and then reset y-axis and filter y-axis.\n\n    dataZoomModel.eachTargetAxis(filterSingleAxis);\n  });\n  ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n    // Fullfill all of the range props so that user\n    // is able to get them from chart.getOption().\n    var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n    var percentRange = axisProxy.getDataPercentWindow();\n    var valueRange = axisProxy.getDataValueWindow();\n    dataZoomModel.setRawRange({\n      start: percentRange[0],\n      end: percentRange[1],\n      startValue: valueRange[0],\n      endValue: valueRange[1]\n    }, true);\n  });\n});\n\nfunction resetSingleAxis(dimNames, axisIndex, dataZoomModel) {\n  dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel);\n}\n\nfunction filterSingleAxis(dimNames, axisIndex, dataZoomModel) {\n  dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel);\n}\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar helper = __webpack_require__(85);\n\necharts.registerAction('dataZoom', function (payload, ecModel) {\n  var linkedNodesFinder = helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent, ecModel, 'dataZoom'), helper.eachAxisDim, function (model, dimNames) {\n    return model.get(dimNames.axisIndex);\n  });\n  var effectedModels = [];\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (model, index) {\n    effectedModels.push.apply(effectedModels, linkedNodesFinder(model).nodes);\n  });\n  zrUtil.each(effectedModels, function (dataZoomModel, index) {\n    dataZoomModel.setRawRange({\n      start: payload.start,\n      end: payload.end,\n      startValue: payload.startValue,\n      endValue: payload.endValue\n    });\n  });\n});\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar each = zrUtil.each;\n\nfunction _default(option) {\n  var visualMap = option && option.visualMap;\n\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    } // rename splitList to pieces\n\n\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n\n    var pieces = opt.pieces;\n\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\n\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 154 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(13);\n\nComponent.registerSubTypeDefaulter('visualMap', function (option) {\n  // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n  return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n});\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar visualSolution = __webpack_require__(67);\n\nvar VisualMapping = __webpack_require__(35);\n\necharts.registerVisual(echarts.PRIORITY.VISUAL.COMPONENT, function (ecModel) {\n  ecModel.eachComponent('visualMap', function (visualMapModel) {\n    processSingleVisualMap(visualMapModel, ecModel);\n  });\n  prepareVisualMeta(ecModel);\n});\n\nfunction processSingleVisualMap(visualMapModel, ecModel) {\n  visualMapModel.eachTargetSeries(function (seriesModel) {\n    var data = seriesModel.getData();\n    visualSolution.applyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, data, visualMapModel.getValueState, visualMapModel, visualMapModel.getDataDimension(data));\n  });\n} // Only support color.\n\n\nfunction prepareVisualMeta(ecModel) {\n  ecModel.eachSeries(function (seriesModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        visualMeta.dimension = visualMapModel.getDataDimension(data);\n        visualMetaList.push(visualMeta);\n      }\n    }); // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  });\n} // FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\n\n\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: seriesModel.getData().getVisual('color') // default color.\n\n  };\n\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n\n  return resultVisual.color;\n\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar visualDefault = __webpack_require__(157);\n\nvar VisualMapping = __webpack_require__(35);\n\nvar visualSolution = __webpack_require__(67);\n\nvar modelUtil = __webpack_require__(5);\n\nvar numberUtil = __webpack_require__(3);\n\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar DEFAULT_COLOR = ['#f6efa6', '#d88273', '#bf444c'];\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center'  'left'  'right'  {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top'  'bottom'  'center'  {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal'  'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // \n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // px0\n    padding: 5,\n    // px5\n    // css\n    textGap: 10,\n    //\n    precision: 0,\n    // 0\n    color: null,\n    //deprecatedec2piecesinRange/outOfRange\n    formatter: null,\n    text: null,\n    // ['', '']ec2text[0]text[1]\n    textStyle: {\n      color: '#333' // \n\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  },\n\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    return optDim != null ? optDim : list.dimensions.length - 1;\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the defualt color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: DEFAULT_COLOR\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 157 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @file Visual mapping.\n */\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nvar _default = visualDefault;\nmodule.exports = _default;\n\n/***/ }),\n/* 158 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar formatUtil = __webpack_require__(8);\n\nvar layout = __webpack_require__(6);\n\nvar VisualMapping = __webpack_require__(35);\n\nvar _default = echarts.extendComponentView({\n  type: 'visualMap',\n\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n  autoPositionValues: {\n    left: 1,\n    right: 1,\n    top: 1,\n    bottom: 1\n  },\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/visualMap/visualMapModel}\n     */\n\n    this.visualMapModel;\n  },\n\n  /**\n   * @protected\n   */\n  render: function (visualMapModel, ecModel, api, payload) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender.apply(this, arguments);\n  },\n\n  /**\n   * @protected\n   */\n  renderBackground: function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new graphic.Rect({\n      z2: -1,\n      // Lay background rect on the lowest layer.\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  },\n\n  /**\n   * @protected\n   * @param {number} targetValue can be Infinity or -Infinity\n   * @param {string=} visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param {Object} [opts]\n   * @param {string=} [opts.forceState] Specify state, instead of using getValueState method.\n   * @param {string=} [opts.convertOpacityToAlpha=false] For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  getControllerVisual: function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'symbol') {\n      visualObj.symbol = visualMapModel.get('itemSymbol');\n    }\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  },\n\n  /**\n   * @protected\n   */\n  positionGroup: function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  },\n\n  /**\n   * @protected\n   * @abstract\n   */\n  doRender: zrUtil.noop\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 159 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/**\n * @param {module:echarts/component/visualMap/VisualMapModel} visualMapModel\\\n * @param {module:echarts/ExtensionAPI} api\n * @param {Array.<number>} itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nfunction getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  } // Auto decision align.\n\n\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n\n\nfunction convertDataIndex(batch) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batch.dataIndex != null) {\n      batch.dataIndexInside = batch.dataIndex;\n      batch.dataIndex = null;\n    }\n  });\n  return batch;\n}\n\nexports.getItemAlign = getItemAlign;\nexports.convertDataIndex = convertDataIndex;\n\n/***/ }),\n/* 160 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar actionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n});\n\n/***/ }),\n/* 161 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar each = zrUtil.each;\nvar ATTR = '\\0_ec_hist_store';\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\n\nfunction push(ecModel, newSnapshot) {\n  var store = giveStore(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = store.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = store[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        store[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  store.push(newSnapshot);\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\n\n\nfunction pop(ecModel) {\n  var store = giveStore(ecModel);\n  var head = store[store.length - 1];\n  store.length > 1 && store.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = store.length - 1; i >= 0; i--) {\n      var batchItem = store[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction clear(ecModel) {\n  ecModel[ATTR] = null;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\n\n\nfunction count(ecModel) {\n  return giveStore(ecModel).length;\n}\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(ecModel) {\n  var store = ecModel[ATTR];\n\n  if (!store) {\n    store = ecModel[ATTR] = [{}];\n  }\n\n  return store;\n}\n\nexports.push = push;\nexports.pop = pop;\nexports.clear = clear;\nexports.count = count;\n\n/***/ }),\n/* 162 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = __webpack_require__(11);\n\nvar urn = 'urn:schemas-microsoft-com:vml';\nvar win = typeof window === 'undefined' ? null : window;\nvar vmlInited = false;\nvar doc = win && win.document;\n\nfunction createNode(tagName) {\n  return doCreateNode(tagName);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nvar doCreateNode;\n\nif (doc && !env.canvasSupported) {\n  try {\n    !doc.namespaces.zrvml && doc.namespaces.add('zrvml', urn);\n\n    doCreateNode = function (tagName) {\n      return doc.createElement('<zrvml:' + tagName + ' class=\"zrvml\">');\n    };\n  } catch (e) {\n    doCreateNode = function (tagName) {\n      return doc.createElement('<' + tagName + ' xmlns=\"' + urn + '\" class=\"zrvml\">');\n    };\n  }\n} // From raphael\n\n\nfunction initVML() {\n  if (vmlInited || !doc) {\n    return;\n  }\n\n  vmlInited = true;\n  var styleSheets = doc.styleSheets;\n\n  if (styleSheets.length < 31) {\n    doc.createStyleSheet().addRule('.zrvml', 'behavior:url(#default#VML)');\n  } else {\n    // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n    styleSheets[0].addRule('.zrvml', 'behavior:url(#default#VML)');\n  }\n}\n\nexports.doc = doc;\nexports.createNode = createNode;\nexports.initVML = initVML;\n\n/***/ }),\n/* 163 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _core = __webpack_require__(90);\n\nvar createElement = _core.createElement;\n\nvar zrUtil = __webpack_require__(0);\n\nvar Path = __webpack_require__(12);\n\nvar ZImage = __webpack_require__(42);\n\nvar ZText = __webpack_require__(43);\n\nvar _graphic = __webpack_require__(89);\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\n\nfunction Definable(svgRoot, tagNames, markLabel) {\n  this._svgRoot = svgRoot;\n  this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n  this._markLabel = markLabel;\n  this.nextId = 0;\n}\n\nDefinable.prototype.createElement = createElement;\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\n\nDefinable.prototype.getDefs = function (isForceCreating) {\n  var svgRoot = this._svgRoot;\n\n  var defs = this._svgRoot.getElementsByTagName('defs');\n\n  if (defs.length === 0) {\n    // Not exist\n    if (isForceCreating) {\n      defs = svgRoot.insertBefore(this.createElement('defs'), // Create new tag\n      svgRoot.firstChild // Insert in the front of svg\n      );\n\n      if (!defs.contains) {\n        // IE doesn't support contains method\n        defs.contains = function (el) {\n          var children = defs.children;\n\n          if (!children) {\n            return false;\n          }\n\n          for (var i = children.length - 1; i >= 0; --i) {\n            if (children[i] === el) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      }\n\n      return defs;\n    } else {\n      return null;\n    }\n  } else {\n    return defs[0];\n  }\n};\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\n\n\nDefinable.prototype.update = function (element, onUpdate) {\n  if (!element) {\n    return;\n  }\n\n  var defs = this.getDefs(false);\n\n  if (element._dom && defs.contains(element._dom)) {\n    // Update DOM\n    if (typeof onUpdate === 'function') {\n      onUpdate();\n    }\n  } else {\n    // No previous dom, create new\n    var dom = this.add(element);\n\n    if (dom) {\n      element._dom = dom;\n    }\n  }\n};\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\n\n\nDefinable.prototype.addDom = function (dom) {\n  var defs = this.getDefs(true);\n  defs.appendChild(dom);\n};\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\n\n\nDefinable.prototype.removeDom = function (element) {\n  var defs = this.getDefs(false);\n  defs.removeChild(element._dom);\n};\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\n\n\nDefinable.prototype.getDoms = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // No dom when defs is not defined\n    return [];\n  }\n\n  var doms = [];\n  zrUtil.each(this._tagNames, function (tagName) {\n    var tags = defs.getElementsByTagName(tagName); // Note that tags is HTMLCollection, which is array-like\n    // rather than real array.\n    // So `doms.concat(tags)` add tags as one object.\n\n    doms = doms.concat([].slice.call(tags));\n  });\n  return doms;\n};\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\n\n\nDefinable.prototype.markAllUnused = function () {\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    dom[that._markLabel] = MARK_UNUSED;\n  });\n};\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\n\n\nDefinable.prototype.markUsed = function (dom) {\n  if (dom) {\n    dom[this._markLabel] = MARK_USED;\n  }\n};\n/**\n * Remove unused DOMs defined in <defs>\n */\n\n\nDefinable.prototype.removeUnused = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // Nothing to remove\n    return;\n  }\n\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    if (dom[that._markLabel] !== MARK_USED) {\n      // Remove gradient\n      defs.removeChild(dom);\n    }\n  });\n};\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\n\n\nDefinable.prototype.getSvgProxy = function (displayable) {\n  if (displayable instanceof Path) {\n    return svgPath;\n  } else if (displayable instanceof ZImage) {\n    return svgImage;\n  } else if (displayable instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n};\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\n\n\nDefinable.prototype.getTextSvgElement = function (displayable) {\n  return displayable.__textSvgEl;\n};\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\n\n\nDefinable.prototype.getSvgElement = function (displayable) {\n  return displayable.__svgEl;\n};\n\nvar _default = Definable;\nmodule.exports = _default;\n\n/***/ }),\n/* 164 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(165);\n\nvar echarts = __webpack_require__(166);\n__webpack_require__(456);\n\n\n// import sum from './sum'\n\n// domecharts\nvar myChart = echarts.init(document.getElementById('main'));\n// \nmyChart.setOption({\n    title: {\n        text: 'ECharts '\n    },\n    tooltip: {},\n    xAxis: {\n        data: ['', '', '', '', '', '']\n    },\n    yAxis: {},\n    series: [{\n        name: '',\n        type: 'bar',\n        data: [5, 20, 36, 10, 10, 20]\n    }]\n});\n\n// console.log(sum(1,2))\n\n/***/ }),\n/* 165 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"main\":\"_3zKFvvFX_EvwXaa527qd_C\",\"test\":\"_3ppb2-bdUDTwxyTdIJFXyL\",\"max\":\"_2Ud_R1uhb9LjLMsjkOGg-v\"};\n\n/***/ }),\n/* 166 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _echarts = __webpack_require__(1);\n\n(function () {\n  for (var key in _echarts) {\n    if (_echarts == null || !_echarts.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _echarts[key];\n  }\n})();\n\nvar _export = __webpack_require__(109);\n\n(function () {\n  for (var key in _export) {\n    if (_export == null || !_export.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _export[key];\n  }\n})();\n\n__webpack_require__(213);\n\n__webpack_require__(224);\n\n__webpack_require__(228);\n\n__webpack_require__(233);\n\n__webpack_require__(237);\n\n__webpack_require__(247);\n\n__webpack_require__(259);\n\n__webpack_require__(266);\n\n__webpack_require__(274);\n\n__webpack_require__(289);\n\n__webpack_require__(293);\n\n__webpack_require__(297);\n\n__webpack_require__(309);\n\n__webpack_require__(314);\n\n__webpack_require__(320);\n\n__webpack_require__(326);\n\n__webpack_require__(330);\n\n__webpack_require__(337);\n\n__webpack_require__(341);\n\n__webpack_require__(344);\n\n__webpack_require__(358);\n\n__webpack_require__(364);\n\n__webpack_require__(365);\n\n__webpack_require__(366);\n\n__webpack_require__(373);\n\n__webpack_require__(48);\n\n__webpack_require__(377);\n\n__webpack_require__(389);\n\n__webpack_require__(135);\n\n__webpack_require__(141);\n\n__webpack_require__(392);\n\n__webpack_require__(400);\n\n__webpack_require__(404);\n\n__webpack_require__(405);\n\n__webpack_require__(412);\n\n__webpack_require__(419);\n\n__webpack_require__(422);\n\n__webpack_require__(425);\n\n__webpack_require__(428);\n\n__webpack_require__(437);\n\n__webpack_require__(448);\n\n__webpack_require__(451);\n\n/***/ }),\n/* 167 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nvar vec2 = __webpack_require__(7);\n\nvar Draggable = __webpack_require__(168);\n\nvar Eventful = __webpack_require__(30);\n\n/**\n * Handler\n * @module zrender/Handler\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n *         pissang (shenyi.914@gmail.com)\n */\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    // target can only be an element that is not silent.\n    target: targetInfo.target,\n    // topTarget can be a silent element.\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which\n  };\n}\n\nfunction EmptyProxy() {}\n\nEmptyProxy.prototype.dispose = function () {};\n\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\n\nvar Handler = function (storage, painter, proxy, painterRoot) {\n  Eventful.call(this);\n  this.storage = storage;\n  this.painter = painter;\n  this.painterRoot = painterRoot;\n  proxy = proxy || new EmptyProxy();\n  /**\n   * Proxy of event. can be Dom, WebGLSurface, etc.\n   */\n\n  this.proxy = proxy; // Attach handler\n\n  proxy.handler = this;\n  /**\n   * {target, topTarget, x, y}\n   * @private\n   * @type {Object}\n   */\n\n  this._hovered = {};\n  /**\n   * @private\n   * @type {Date}\n   */\n\n  this._lastTouchMoment;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastX;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastY;\n  Draggable.call(this);\n  util.each(handlerNames, function (name) {\n    proxy.on && proxy.on(name, this[name], this);\n  }, this);\n};\n\nHandler.prototype = {\n  constructor: Handler,\n  mousemove: function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n    // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n    // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n    // See #6198.\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n\n    var hovered = this._hovered = this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    } // Mouse moving on one element\n\n\n    this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  },\n  mouseout: function (event) {\n    this.dispatchToElement(this._hovered, 'mouseout', event); // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n    var element = event.toElement || event.relatedTarget;\n    var innerDom;\n\n    do {\n      element = element && element.parentNode;\n    } while (element && element.nodeType != 9 && !(innerDom = element === this.painterRoot));\n\n    !innerDom && this.trigger('globalout', {\n      event: event\n    });\n  },\n\n  /**\n   * Resize\n   */\n  resize: function (event) {\n    this._hovered = {};\n  },\n\n  /**\n   * Dispatch event\n   * @param {string} eventName\n   * @param {event=} eventArgs\n   */\n  dispatch: function (eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  },\n\n  /**\n   * Dispose\n   */\n  dispose: function () {\n    this.proxy.dispose();\n    this.storage = this.proxy = this.painter = null;\n  },\n\n  /**\n   * cursor style\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  },\n\n  /**\n   * \n   *\n   * @private\n   * @param {Object} targetInfo {target, topTarget} \n   * @param {string} eventName \n   * @param {Object} event \n   */\n  dispatchToElement: function (targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n\n    if (el && el.silent) {\n      return;\n    }\n\n    var eventHandler = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n    while (el) {\n      el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.parent;\n\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n\n    if (!eventPacket.cancelBubble) {\n      //  zrender \n      this.trigger(eventName, eventPacket); // \n      //  click  dispose painter \n\n      this.painter && this.painter.eachOtherLayer(function (layer) {\n        if (typeof layer[eventHandler] == 'function') {\n          layer[eventHandler].call(layer, eventPacket);\n        }\n\n        if (layer.trigger) {\n          layer.trigger(eventName, eventPacket);\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   * @param {number} x\n   * @param {number} y\n   * @param {module:zrender/graphic/Displayable} exclude\n   * @return {model:zrender/Element}\n   * @method\n   */\n  findHover: function (x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = {\n      x: x,\n      y: y\n    };\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult;\n\n      if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n      && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n\n    return out;\n  }\n}; // Common handlers\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n    var hovered = this.findHover(event.zrX, event.zrY);\n    var hoveredTarget = hovered.target;\n\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n      this._upEl = hoveredTarget;\n    } else if (name === 'mosueup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n      // including the case that `mousedown` - `mousemove` - `mouseup`,\n      // which should be filtered, otherwise it will bring trouble to\n      // pan and zoom.\n      || !this._downPoint // Arbitrary value\n      || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n\n      this._downPoint = null;\n    }\n\n    this.dispatchToElement(hovered, name, event);\n  };\n});\n\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent;\n\n    while (el) {\n      // If clipped by ancestor.\n      // FIXME: If clipPath has neither stroke nor fill,\n      // el.clipPath.contain(x, y) will always return false.\n      if (el.clipPath && !el.clipPath.contain(x, y)) {\n        return false;\n      }\n\n      if (el.silent) {\n        isSilent = true;\n      }\n\n      el = el.parent;\n    }\n\n    return isSilent ? SILENT : true;\n  }\n\n  return false;\n}\n\nutil.mixin(Handler, Eventful);\nutil.mixin(Handler, Draggable);\nvar _default = Handler;\nmodule.exports = _default;\n\n/***/ }),\n/* 168 */\n/***/ (function(module, exports) {\n\n// TODO Draggable for group\n// FIXME Draggable on element which has parent rotation or scale\nfunction Draggable() {\n  this.on('mousedown', this._dragStart, this);\n  this.on('mousemove', this._drag, this);\n  this.on('mouseup', this._dragEnd, this);\n  this.on('globalout', this._dragEnd, this); // this._dropTarget = null;\n  // this._draggingTarget = null;\n  // this._x = 0;\n  // this._y = 0;\n}\n\nDraggable.prototype = {\n  constructor: Draggable,\n  _dragStart: function (e) {\n    var draggingTarget = e.target;\n\n    if (draggingTarget && draggingTarget.draggable) {\n      this._draggingTarget = draggingTarget;\n      draggingTarget.dragging = true;\n      this._x = e.offsetX;\n      this._y = e.offsetY;\n      this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n    }\n  },\n  _drag: function (e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      var x = e.offsetX;\n      var y = e.offsetY;\n      var dx = x - this._x;\n      var dy = y - this._y;\n      this._x = x;\n      this._y = y;\n      draggingTarget.drift(dx, dy, e);\n      this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n      var dropTarget = this.findHover(x, y, draggingTarget).target;\n      var lastDropTarget = this._dropTarget;\n      this._dropTarget = dropTarget;\n\n      if (draggingTarget !== dropTarget) {\n        if (lastDropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n        }\n\n        if (dropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n        }\n      }\n    }\n  },\n  _dragEnd: function (e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      draggingTarget.dragging = false;\n    }\n\n    this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n    if (this._dropTarget) {\n      this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n    }\n\n    this._draggingTarget = null;\n    this._dropTarget = null;\n  }\n};\n\nfunction param(target, e) {\n  return {\n    target: target,\n    topTarget: e && e.topTarget\n  };\n}\n\nvar _default = Draggable;\nmodule.exports = _default;\n\n/***/ }),\n/* 169 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar Group = __webpack_require__(52);\n\nvar timsort = __webpack_require__(69);\n\n/**\n * Storage\n * @module zrender/Storage\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n * @author errorrik (errorrik@gmail.com)\n * @author pissang (https://github.com/pissang/)\n */\n// Use timsort because in most case elements are partially sorted\n// https://jsfiddle.net/pissang/jr4x7mdm/8/\nfunction shapeCompareFunc(a, b) {\n  if (a.zlevel === b.zlevel) {\n    if (a.z === b.z) {\n      // if (a.z2 === b.z2) {\n      //     // FIXME Slow has renderidx compare\n      //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n      //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n      //     return a.__renderidx - b.__renderidx;\n      // }\n      return a.z2 - b.z2;\n    }\n\n    return a.z - b.z;\n  }\n\n  return a.zlevel - b.zlevel;\n}\n/**\n *  (M)\n * @alias module:zrender/Storage\n * @constructor\n */\n\n\nvar Storage = function () {\n  // jshint ignore:line\n  this._roots = [];\n  this._displayList = [];\n  this._displayListLen = 0;\n};\n\nStorage.prototype = {\n  constructor: Storage,\n\n  /**\n   * @param  {Function} cb\n   *\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._roots.length; i++) {\n      this._roots[i].traverse(cb, context);\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [update=false] \n   * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n   *\n   * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n   * @return {Array.<module:zrender/graphic/Displayable>}\n   */\n  getDisplayList: function (update, includeIgnore) {\n    includeIgnore = includeIgnore || false;\n\n    if (update) {\n      this.updateDisplayList(includeIgnore);\n    }\n\n    return this._displayList;\n  },\n\n  /**\n   * \n   * GroupShapeShape\n   * zlevel > z > \n   * @param {boolean} [includeIgnore=false]  ignore \n   */\n  updateDisplayList: function (includeIgnore) {\n    this._displayListLen = 0;\n    var roots = this._roots;\n    var displayList = this._displayList;\n\n    for (var i = 0, len = roots.length; i < len; i++) {\n      this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n    }\n\n    displayList.length = this._displayListLen; // for (var i = 0, len = displayList.length; i < len; i++) {\n    //     displayList[i].__renderidx = i;\n    // }\n    // displayList.sort(shapeCompareFunc);\n\n    env.canvasSupported && timsort(displayList, shapeCompareFunc);\n  },\n  _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n    if (el.ignore && !includeIgnore) {\n      return;\n    }\n\n    el.beforeUpdate();\n\n    if (el.__dirty) {\n      el.update();\n    }\n\n    el.afterUpdate();\n    var userSetClipPath = el.clipPath;\n\n    if (userSetClipPath) {\n      // FIXME \n      if (clipPaths) {\n        clipPaths = clipPaths.slice();\n      } else {\n        clipPaths = [];\n      }\n\n      var currentClipPath = userSetClipPath;\n      var parentClipPath = el; // Recursively add clip path\n\n      while (currentClipPath) {\n        // clipPath  clipPath \n        currentClipPath.parent = parentClipPath;\n        currentClipPath.updateTransform();\n        clipPaths.push(currentClipPath);\n        parentClipPath = currentClipPath;\n        currentClipPath = currentClipPath.clipPath;\n      }\n    }\n\n    if (el.isGroup) {\n      var children = el._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i]; // Force to mark as dirty if group is dirty\n        // FIXME __dirtyPath ?\n\n        if (el.__dirty) {\n          child.__dirty = true;\n        }\n\n        this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n      } // Mark group clean here\n\n\n      el.__dirty = false;\n    } else {\n      el.__clipPaths = clipPaths;\n      this._displayList[this._displayListLen++] = el;\n    }\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {module:zrender/Element} el\n   */\n  addRoot: function (el) {\n    if (el.__storage === this) {\n      return;\n    }\n\n    if (el instanceof Group) {\n      el.addChildrenToStorage(this);\n    }\n\n    this.addToStorage(el);\n\n    this._roots.push(el);\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {string|Array.<string>} [el] Storage\n   */\n  delRoot: function (el) {\n    if (el == null) {\n      // el\n      for (var i = 0; i < this._roots.length; i++) {\n        var root = this._roots[i];\n\n        if (root instanceof Group) {\n          root.delChildrenFromStorage(this);\n        }\n      }\n\n      this._roots = [];\n      this._displayList = [];\n      this._displayListLen = 0;\n      return;\n    }\n\n    if (el instanceof Array) {\n      for (var i = 0, l = el.length; i < l; i++) {\n        this.delRoot(el[i]);\n      }\n\n      return;\n    }\n\n    var idx = util.indexOf(this._roots, el);\n\n    if (idx >= 0) {\n      this.delFromStorage(el);\n\n      this._roots.splice(idx, 1);\n\n      if (el instanceof Group) {\n        el.delChildrenFromStorage(this);\n      }\n    }\n  },\n  addToStorage: function (el) {\n    el.__storage = this;\n    el.dirty(false);\n    return this;\n  },\n  delFromStorage: function (el) {\n    if (el) {\n      el.__storage = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Storage\n   */\n  dispose: function () {\n    this._renderList = this._roots = null;\n  },\n  displayableSortFunc: shapeCompareFunc\n};\nvar _default = Storage;\nmodule.exports = _default;\n\n/***/ }),\n/* 170 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Animator = __webpack_require__(94);\n\nvar log = __webpack_require__(41);\n\nvar _util = __webpack_require__(0);\n\nvar isString = _util.isString;\nvar isFunction = _util.isFunction;\nvar isObject = _util.isObject;\nvar isArrayLike = _util.isArrayLike;\nvar indexOf = _util.indexOf;\n\n/**\n * @alias modue:zrender/mixin/Animatable\n * @constructor\n */\nvar Animatable = function () {\n  /**\n   * @type {Array.<module:zrender/animation/Animator>}\n   * @readOnly\n   */\n  this.animators = [];\n};\n\nAnimatable.prototype = {\n  constructor: Animatable,\n\n  /**\n   * \n   *\n   * @param {string} path The path to fetch value from object, like 'a.b.c'.\n   * @param {boolean} [loop] Whether to loop animation.\n   * @return {module:zrender/animation/Animator}\n   * @example:\n   *     el.animate('style', false)\n   *         .when(1000, {x: 10} )\n   *         .done(function(){ // Animation done })\n   *         .start()\n   */\n  animate: function (path, loop) {\n    var target;\n    var animatingShape = false;\n    var el = this;\n    var zr = this.__zr;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el; // If animating shape\n\n      animatingShape = pathSplitted[0] === 'shape';\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (!target) {\n      log('Property \"' + path + '\" is not existed in element ' + el.id);\n      return;\n    }\n\n    var animators = el.animators;\n    var animator = new Animator(target, loop);\n    animator.during(function (target) {\n      el.dirty(animatingShape);\n    }).done(function () {\n      // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n      animators.splice(indexOf(animators, animator), 1);\n    });\n    animators.push(animator); // If animate after added to the zrender\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stopAnimation: function (forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n\n  /**\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   * @param {Object} target\n   * @param {number} [time=500] Time in ms\n   * @param {string} [easing='linear']\n   * @param {number} [delay=0]\n   * @param {Function} [callback]\n   * @param {Function} [forceAnimate] Prevent stop animation and callback\n   *        immediently when target values are the same as current values.\n   *\n   * @example\n   *  // Animate position\n   *  el.animateTo({\n   *      position: [10, 10]\n   *  }, function () { // done })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n   *  el.animateTo({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100, 'cubicOut', function () { // done })\n   */\n  // TODO Return animation key\n  animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n    // animateTo(target, time, easing, callback);\n    if (isString(delay)) {\n      callback = easing;\n      easing = delay;\n      delay = 0;\n    } // animateTo(target, time, delay, callback);\n    else if (isFunction(easing)) {\n        callback = easing;\n        easing = 'linear';\n        delay = 0;\n      } // animateTo(target, time, callback);\n      else if (isFunction(delay)) {\n          callback = delay;\n          delay = 0;\n        } // animateTo(target, callback)\n        else if (isFunction(time)) {\n            callback = time;\n            time = 500;\n          } // animateTo(target)\n          else if (!time) {\n              time = 500;\n            } // Stop all previous animations\n\n\n    this.stopAnimation();\n\n    this._animateToShallow('', this, target, time, delay); // Animators may be removed immediately after start\n    // if there is nothing to animate\n\n\n    var animators = this.animators.slice();\n    var count = animators.length;\n\n    function done() {\n      count--;\n\n      if (!count) {\n        callback && callback();\n      }\n    } // No animators. This should be checked before animators[i].start(),\n    // because 'done' may be executed immediately if no need to animate.\n\n\n    if (!count) {\n      callback && callback();\n    } // Start after all animators created\n    // Incase any animator is done immediately when all animation properties are not changed\n\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].done(done).start(easing, forceAnimate);\n    }\n  },\n\n  /**\n   * @private\n   * @param {string} path=''\n   * @param {Object} source=this\n   * @param {Object} target\n   * @param {number} [time=500]\n   * @param {number} [delay=0]\n   *\n   * @example\n   *  // Animate position\n   *  el._animateToShallow({\n   *      position: [10, 10]\n   *  })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms\n   *  el._animateToShallow({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100)\n   */\n  _animateToShallow: function (path, source, target, time, delay) {\n    var objShallow = {};\n    var propertyCount = 0;\n\n    for (var name in target) {\n      if (!target.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (source[name] != null) {\n        if (isObject(target[name]) && !isArrayLike(target[name])) {\n          this._animateToShallow(path ? path + '.' + name : name, source[name], target[name], time, delay);\n        } else {\n          objShallow[name] = target[name];\n          propertyCount++;\n        }\n      } else if (target[name] != null) {\n        // Attr directly if not has property\n        // FIXME, if some property not needed for element ?\n        if (!path) {\n          this.attr(name, target[name]);\n        } else {\n          // Shape or style\n          var props = {};\n          props[path] = {};\n          props[path][name] = target[name];\n          this.attr(props);\n        }\n      }\n    }\n\n    if (propertyCount > 0) {\n      this.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n    }\n\n    return this;\n  }\n};\nvar _default = Animatable;\nmodule.exports = _default;\n\n/***/ }),\n/* 171 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar easingFuncs = __webpack_require__(172);\n\n/**\n * \n * @config target onframe\n * @config life(1000) \n * @config delay(0) \n * @config loop(true)\n * @config gap(0) \n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\nfunction Clip(options) {\n  this._target = options.target; // \n\n  this._life = options.life || 1000; // \n\n  this._delay = options.delay || 0; // \n  // this._startTime = new Date().getTime() + this._delay;// \n\n  this._initialized = false; // \n\n  this.loop = options.loop == null ? false : options.loop;\n  this.gap = options.gap || 0;\n  this.easing = options.easing || 'Linear';\n  this.onframe = options.onframe;\n  this.ondestroy = options.ondestroy;\n  this.onrestart = options.onrestart;\n  this._pausedTime = 0;\n  this._paused = false;\n}\n\nClip.prototype = {\n  constructor: Clip,\n  step: function (globalTime, deltaTime) {\n    // Set startTime on first step, or _startTime may has milleseconds different between clips\n    // PENDING\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n    if (percent < 0) {\n      return;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing == 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.fire('frame', schedule); // \n\n    if (percent == 1) {\n      if (this.loop) {\n        this.restart(globalTime); // \n        //  stage.update \n\n        return 'restart';\n      } // \n      // Animation.update\n\n\n      this._needsRemove = true;\n      return 'destroy';\n    }\n\n    return null;\n  },\n  restart: function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n    this._needsRemove = false;\n  },\n  fire: function (eventType, arg) {\n    eventType = 'on' + eventType;\n\n    if (this[eventType]) {\n      this[eventType](this._target, arg);\n    }\n  },\n  pause: function () {\n    this._paused = true;\n  },\n  resume: function () {\n    this._paused = false;\n  }\n};\nvar _default = Clip;\nmodule.exports = _default;\n\n/***/ }),\n/* 172 */\n/***/ (function(module, exports) {\n\n/**\n *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  linear: function (k) {\n    return k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticIn: function (k) {\n    return k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticOut: function (k) {\n    return k * (2 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k;\n    }\n\n    return -0.5 * (--k * (k - 2) - 1);\n  },\n  // t^3\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicIn: function (k) {\n    return k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicOut: function (k) {\n    return --k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k + 2);\n  },\n  // t^4\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticIn: function (k) {\n    return k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticOut: function (k) {\n    return 1 - --k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k;\n    }\n\n    return -0.5 * ((k -= 2) * k * k * k - 2);\n  },\n  // t^5\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticIn: function (k) {\n    return k * k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticOut: function (k) {\n    return --k * k * k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k * k * k + 2);\n  },\n  // sin(t)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalIn: function (k) {\n    return 1 - Math.cos(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalOut: function (k) {\n    return Math.sin(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalInOut: function (k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k));\n  },\n  // 2^t\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialIn: function (k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialOut: function (k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialInOut: function (k) {\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1);\n    }\n\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n  },\n  // sqrt(1-t^2)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularIn: function (k) {\n    return 1 - Math.sqrt(1 - k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularOut: function (k) {\n    return Math.sqrt(1 - --k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\n    }\n\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticIn: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticInOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    if ((k *= 2) < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backIn: function (k) {\n    var s = 1.70158;\n    return k * k * ((s + 1) * k - s);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backOut: function (k) {\n    var s = 1.70158;\n    return --k * k * ((s + 1) * k + s) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backInOut: function (k) {\n    var s = 1.70158 * 1.525;\n\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s));\n    }\n\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceIn: function (k) {\n    return 1 - easing.bounceOut(1 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceOut: function (k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k;\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceInOut: function (k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5;\n    }\n\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n  }\n};\nvar _default = easing;\nmodule.exports = _default;\n\n/***/ }),\n/* 173 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(53);\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar util = __webpack_require__(0);\n\nvar log = __webpack_require__(41);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar timsort = __webpack_require__(69);\n\nvar Layer = __webpack_require__(174);\n\nvar requestAnimationFrame = __webpack_require__(98);\n\nvar Image = __webpack_require__(42);\n\n/**\n * Default canvas painter\n * @module zrender/Painter\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\n// PENDIGN\n// Layer exceeds MAX_PROGRESSIVE_LAYER_NUMBER may have some problem when flush directly second time.\n//\n// Maximum progressive layer. When exceeding this number. All elements will be drawed in the last layer.\nvar MAX_PROGRESSIVE_LAYER_NUMBER = 5;\n\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction isLayerValid(layer) {\n  if (!layer) {\n    return false;\n  }\n\n  if (layer.__builtin__) {\n    return true;\n  }\n\n  if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction preProcessLayer(layer) {\n  layer.__unusedCount++;\n}\n\nfunction postProcessLayer(layer) {\n  if (layer.__unusedCount == 1) {\n    layer.clear();\n  }\n}\n\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\n\nfunction isDisplayableCulled(el, width, height) {\n  tmpRect.copy(el.getBoundingRect());\n\n  if (el.transform) {\n    tmpRect.applyTransform(el.transform);\n  }\n\n  viewRect.width = width;\n  viewRect.height = height;\n  return !tmpRect.intersect(viewRect);\n}\n\nfunction isClipPathChanged(clipPaths, prevClipPaths) {\n  if (clipPaths == prevClipPaths) {\n    // Can both be null or undefined\n    return false;\n  }\n\n  if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n    return true;\n  }\n\n  for (var i = 0; i < clipPaths.length; i++) {\n    if (clipPaths[i] !== prevClipPaths[i]) {\n      return true;\n    }\n  }\n}\n\nfunction doClip(clipPaths, ctx) {\n  for (var i = 0; i < clipPaths.length; i++) {\n    var clipPath = clipPaths[i];\n    clipPath.setTransform(ctx);\n    ctx.beginPath();\n    clipPath.buildPath(ctx, clipPath.shape);\n    ctx.clip(); // Transform back\n\n    clipPath.restoreTransform(ctx);\n  }\n}\n\nfunction createRoot(width, height) {\n  var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // \n\n  domRoot.style.cssText = ['position:relative', 'overflow:hidden', 'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n  return domRoot;\n}\n/**\n * @alias module:zrender/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar Painter = function (root, storage, opts) {\n  this.type = 'canvas'; // In node environment using node-canvas\n\n  var singleCanvas = !root.nodeName // In node ?\n  || root.nodeName.toUpperCase() === 'CANVAS';\n  this._opts = opts = util.extend({}, opts || {});\n  /**\n   * @type {number}\n   */\n\n  this.dpr = opts.devicePixelRatio || devicePixelRatio;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._singleCanvas = singleCanvas;\n  /**\n   * \n   * @type {HTMLElement}\n   */\n\n  this.root = root;\n  var rootStyle = root.style;\n\n  if (rootStyle) {\n    rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n    rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n    root.innerHTML = '';\n  }\n  /**\n   * @type {module:zrender/Storage}\n   */\n\n\n  this.storage = storage;\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n\n  var zlevelList = this._zlevelList = [];\n  /**\n   * @type {Object.<string, module:zrender/Layer>}\n   * @private\n   */\n\n  var layers = this._layers = {};\n  /**\n   * @type {Object.<string, Object>}\n   * @type {private}\n   */\n\n  this._layerConfig = {};\n\n  if (!singleCanvas) {\n    this._width = this._getSize(0);\n    this._height = this._getSize(1);\n    var domRoot = this._domRoot = createRoot(this._width, this._height);\n    root.appendChild(domRoot);\n  } else {\n    if (opts.width != null) {\n      root.width = opts.width;\n    }\n\n    if (opts.height != null) {\n      root.height = opts.height;\n    } // Use canvas width and height directly\n\n\n    var width = root.width;\n    var height = root.height;\n    this._width = width;\n    this._height = height; // Create layer if only one given canvas\n    // Device pixel ratio is fixed to 1 because given canvas has its specified width and height\n\n    var mainLayer = new Layer(root, this, 1);\n    mainLayer.initContext(); // FIXME Use canvas width and height\n    // mainLayer.resize(width, height);\n\n    layers[0] = mainLayer;\n    zlevelList.push(0);\n    this._domRoot = root;\n  } // Layers for progressive rendering\n\n\n  this._progressiveLayers = [];\n  /**\n   * @type {module:zrender/Layer}\n   * @private\n   */\n\n  this._hoverlayer;\n  this._hoverElements = [];\n};\n\nPainter.prototype = {\n  constructor: Painter,\n  getType: function () {\n    return 'canvas';\n  },\n\n  /**\n   * If painter use a single canvas\n   * @return {boolean}\n   */\n  isSingleCanvas: function () {\n    return this._singleCanvas;\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function () {\n    return this._domRoot;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [paintAll=false] displayable\n   */\n  refresh: function (paintAll) {\n    var list = this.storage.getDisplayList(true);\n    var zlevelList = this._zlevelList;\n\n    this._paintList(list, paintAll); // Paint custum layers\n\n\n    for (var i = 0; i < zlevelList.length; i++) {\n      var z = zlevelList[i];\n      var layer = this._layers[z];\n\n      if (!layer.__builtin__ && layer.refresh) {\n        layer.refresh();\n      }\n    }\n\n    this.refreshHover();\n\n    if (this._progressiveLayers.length) {\n      this._startProgessive();\n    }\n\n    return this;\n  },\n  addHover: function (el, hoverStyle) {\n    if (el.__hoverMir) {\n      return;\n    }\n\n    var elMirror = new el.constructor({\n      style: el.style,\n      shape: el.shape\n    });\n    elMirror.__from = el;\n    el.__hoverMir = elMirror;\n    elMirror.setStyle(hoverStyle);\n\n    this._hoverElements.push(elMirror);\n  },\n  removeHover: function (el) {\n    var elMirror = el.__hoverMir;\n    var hoverElements = this._hoverElements;\n    var idx = util.indexOf(hoverElements, elMirror);\n\n    if (idx >= 0) {\n      hoverElements.splice(idx, 1);\n    }\n\n    el.__hoverMir = null;\n  },\n  clearHover: function (el) {\n    var hoverElements = this._hoverElements;\n\n    for (var i = 0; i < hoverElements.length; i++) {\n      var from = hoverElements[i].__from;\n\n      if (from) {\n        from.__hoverMir = null;\n      }\n    }\n\n    hoverElements.length = 0;\n  },\n  refreshHover: function () {\n    var hoverElements = this._hoverElements;\n    var len = hoverElements.length;\n    var hoverLayer = this._hoverlayer;\n    hoverLayer && hoverLayer.clear();\n\n    if (!len) {\n      return;\n    }\n\n    timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n    // FIXME?\n\n    if (!hoverLayer) {\n      hoverLayer = this._hoverlayer = this.getLayer(1e5);\n    }\n\n    var scope = {};\n    hoverLayer.ctx.save();\n\n    for (var i = 0; i < len;) {\n      var el = hoverElements[i];\n      var originalEl = el.__from; // Original el is removed\n      // PENDING\n\n      if (!(originalEl && originalEl.__zr)) {\n        hoverElements.splice(i, 1);\n        originalEl.__hoverMir = null;\n        len--;\n        continue;\n      }\n\n      i++; // Use transform\n      // FIXME style and shape ?\n\n      if (!originalEl.invisible) {\n        el.transform = originalEl.transform;\n        el.invTransform = originalEl.invTransform;\n        el.__clipPaths = originalEl.__clipPaths; // el.\n\n        this._doPaintEl(el, hoverLayer, true, scope);\n      }\n    }\n\n    hoverLayer.ctx.restore();\n  },\n  _startProgessive: function () {\n    var self = this;\n\n    if (!self._furtherProgressive) {\n      return;\n    } // Use a token to stop progress steps triggered by\n    // previous zr.refresh calling.\n\n\n    var token = self._progressiveToken = +new Date();\n    self._progress++;\n    requestAnimationFrame(step);\n\n    function step() {\n      // In case refreshed or disposed\n      if (token === self._progressiveToken && self.storage) {\n        self._doPaintList(self.storage.getDisplayList());\n\n        if (self._furtherProgressive) {\n          self._progress++;\n          requestAnimationFrame(step);\n        } else {\n          self._progressiveToken = -1;\n        }\n      }\n    }\n  },\n  _clearProgressive: function () {\n    this._progressiveToken = -1;\n    this._progress = 0;\n    util.each(this._progressiveLayers, function (layer) {\n      layer.__dirty && layer.clear();\n    });\n  },\n  _paintList: function (list, paintAll) {\n    if (paintAll == null) {\n      paintAll = false;\n    }\n\n    this._updateLayerStatus(list);\n\n    this._clearProgressive();\n\n    this.eachBuiltinLayer(preProcessLayer);\n\n    this._doPaintList(list, paintAll);\n\n    this.eachBuiltinLayer(postProcessLayer);\n  },\n  _doPaintList: function (list, paintAll) {\n    var currentLayer;\n    var currentZLevel;\n    var ctx; // var invTransform = [];\n\n    var scope;\n    var progressiveLayerIdx = 0;\n    var currentProgressiveLayer;\n    var width = this._width;\n    var height = this._height;\n    var layerProgress;\n    var frame = this._progress;\n\n    function flushProgressiveLayer(layer) {\n      var dpr = ctx.dpr || 1;\n      ctx.save();\n      ctx.globalAlpha = 1;\n      ctx.shadowBlur = 0; // Avoid layer don't clear in next progressive frame\n\n      currentLayer.__dirty = true;\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(layer.dom, 0, 0, width * dpr, height * dpr);\n      ctx.restore();\n    }\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var el = list[i];\n      var elZLevel = this._singleCanvas ? 0 : el.zlevel;\n      var elFrame = el.__frame; // Flush at current context\n      // PENDING\n\n      if (elFrame < 0 && currentProgressiveLayer) {\n        flushProgressiveLayer(currentProgressiveLayer);\n        currentProgressiveLayer = null;\n      } // Change draw layer\n\n\n      if (currentZLevel !== elZLevel) {\n        if (ctx) {\n          ctx.restore();\n        } // Reset scope\n\n\n        scope = {}; // Only 0 zlevel if only has one canvas\n\n        currentZLevel = elZLevel;\n        currentLayer = this.getLayer(currentZLevel);\n\n        if (!currentLayer.__builtin__) {\n          log('ZLevel ' + currentZLevel + ' has been used by unkown layer ' + currentLayer.id);\n        }\n\n        ctx = currentLayer.ctx;\n        ctx.save(); // Reset the count\n\n        currentLayer.__unusedCount = 0;\n\n        if (currentLayer.__dirty || paintAll) {\n          currentLayer.clear();\n        }\n      }\n\n      if (!(currentLayer.__dirty || paintAll)) {\n        continue;\n      }\n\n      if (elFrame >= 0) {\n        // Progressive layer changed\n        if (!currentProgressiveLayer) {\n          currentProgressiveLayer = this._progressiveLayers[Math.min(progressiveLayerIdx++, MAX_PROGRESSIVE_LAYER_NUMBER - 1)];\n          currentProgressiveLayer.ctx.save();\n          currentProgressiveLayer.renderScope = {};\n\n          if (currentProgressiveLayer && currentProgressiveLayer.__progress > currentProgressiveLayer.__maxProgress) {\n            // flushProgressiveLayer(currentProgressiveLayer);\n            // Quick jump all progressive elements\n            // All progressive element are not dirty, jump over and flush directly\n            i = currentProgressiveLayer.__nextIdxNotProg - 1; // currentProgressiveLayer = null;\n\n            continue;\n          }\n\n          layerProgress = currentProgressiveLayer.__progress;\n\n          if (!currentProgressiveLayer.__dirty) {\n            // Keep rendering\n            frame = layerProgress;\n          }\n\n          currentProgressiveLayer.__progress = frame + 1;\n        }\n\n        if (elFrame === frame) {\n          this._doPaintEl(el, currentProgressiveLayer, true, currentProgressiveLayer.renderScope);\n        }\n      } else {\n        this._doPaintEl(el, currentLayer, paintAll, scope);\n      }\n\n      el.__dirty = false;\n    }\n\n    if (currentProgressiveLayer) {\n      flushProgressiveLayer(currentProgressiveLayer);\n    } // Restore the lastLayer ctx\n\n\n    ctx && ctx.restore(); // If still has clipping state\n    // if (scope.prevElClipPaths) {\n    //     ctx.restore();\n    // }\n\n    this._furtherProgressive = false;\n    util.each(this._progressiveLayers, function (layer) {\n      if (layer.__maxProgress >= layer.__progress) {\n        this._furtherProgressive = true;\n      }\n    }, this);\n  },\n  _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n    var ctx = currentLayer.ctx;\n    var m = el.transform;\n\n    if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n    !el.invisible // Ignore transparent element\n    && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n    // Draw a scale 0 element can cause all following draw wrong\n    // And setTransform with scale 0 will cause set back transform failed.\n    && !(m && !m[0] && !m[3]) // Ignore culled element\n    && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n      var clipPaths = el.__clipPaths; // Optimize when clipping on group with several elements\n\n      if (scope.prevClipLayer !== currentLayer || isClipPathChanged(clipPaths, scope.prevElClipPaths)) {\n        // If has previous clipping state, restore from it\n        if (scope.prevElClipPaths) {\n          scope.prevClipLayer.ctx.restore();\n          scope.prevClipLayer = scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n          scope.prevEl = null;\n        } // New clipping state\n\n\n        if (clipPaths) {\n          ctx.save();\n          doClip(clipPaths, ctx);\n          scope.prevClipLayer = currentLayer;\n          scope.prevElClipPaths = clipPaths;\n        }\n      }\n\n      el.beforeBrush && el.beforeBrush(ctx);\n      el.brush(ctx, scope.prevEl || null);\n      scope.prevEl = el;\n      el.afterBrush && el.afterBrush(ctx);\n    }\n  },\n\n  /**\n   *  zlevel \n   * @param {number} zlevel\n   * @return {module:zrender/Layer}\n   */\n  getLayer: function (zlevel) {\n    if (this._singleCanvas) {\n      return this._layers[0];\n    }\n\n    var layer = this._layers[zlevel];\n\n    if (!layer) {\n      // Create a new layer\n      layer = new Layer('zr_' + zlevel, this, this.dpr);\n      layer.__builtin__ = true;\n\n      if (this._layerConfig[zlevel]) {\n        util.merge(layer, this._layerConfig[zlevel], true);\n      }\n\n      this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n      // Or excanvas will get 0px clientWidth and clientHeight\n\n      layer.initContext();\n    }\n\n    return layer;\n  },\n  insertLayer: function (zlevel, layer) {\n    var layersMap = this._layers;\n    var zlevelList = this._zlevelList;\n    var len = zlevelList.length;\n    var prevLayer = null;\n    var i = -1;\n    var domRoot = this._domRoot;\n\n    if (layersMap[zlevel]) {\n      log('ZLevel ' + zlevel + ' has been used already');\n      return;\n    } // Check if is a valid layer\n\n\n    if (!isLayerValid(layer)) {\n      log('Layer of zlevel ' + zlevel + ' is not valid');\n      return;\n    }\n\n    if (len > 0 && zlevel > zlevelList[0]) {\n      for (i = 0; i < len - 1; i++) {\n        if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n          break;\n        }\n      }\n\n      prevLayer = layersMap[zlevelList[i]];\n    }\n\n    zlevelList.splice(i + 1, 0, zlevel);\n    layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n    // (It can be a WebGL layer and assigned to a ZImage element)\n    // But it still under management of zrender.\n\n    if (!layer.virtual) {\n      if (prevLayer) {\n        var prevDom = prevLayer.dom;\n\n        if (prevDom.nextSibling) {\n          domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      } else {\n        if (domRoot.firstChild) {\n          domRoot.insertBefore(layer.dom, domRoot.firstChild);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      }\n    }\n  },\n  // Iterate each layer\n  eachLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      cb.call(context, this._layers[z], z);\n    }\n  },\n  // Iterate each buildin layer\n  eachBuiltinLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n  // Iterate each other layer except buildin layer\n  eachOtherLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (!layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Array.<module:zrender/Layer>} [prevLayer]\n   */\n  getLayers: function () {\n    return this._layers;\n  },\n  _updateLayerStatus: function (list) {\n    var layers = this._layers;\n    var progressiveLayers = this._progressiveLayers;\n    var elCountsLastFrame = {};\n    var progressiveElCountsLastFrame = {};\n    this.eachBuiltinLayer(function (layer, z) {\n      elCountsLastFrame[z] = layer.elCount;\n      layer.elCount = 0;\n      layer.__dirty = false;\n    });\n    util.each(progressiveLayers, function (layer, idx) {\n      progressiveElCountsLastFrame[idx] = layer.elCount;\n      layer.elCount = 0;\n      layer.__dirty = false;\n    });\n    var progressiveLayerCount = 0;\n    var currentProgressiveLayer;\n    var lastProgressiveKey;\n    var frameCount = 0;\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var el = list[i];\n      var zlevel = this._singleCanvas ? 0 : el.zlevel;\n      var layer = layers[zlevel];\n      var elProgress = el.progressive;\n\n      if (layer) {\n        layer.elCount++;\n        layer.__dirty = layer.__dirty || el.__dirty;\n      } /////// Update progressive\n\n\n      if (elProgress >= 0) {\n        // Fix wrong progressive sequence problem.\n        if (lastProgressiveKey !== elProgress) {\n          lastProgressiveKey = elProgress;\n          frameCount++;\n        }\n\n        var elFrame = el.__frame = frameCount - 1;\n\n        if (!currentProgressiveLayer) {\n          var idx = Math.min(progressiveLayerCount, MAX_PROGRESSIVE_LAYER_NUMBER - 1);\n          currentProgressiveLayer = progressiveLayers[idx];\n\n          if (!currentProgressiveLayer) {\n            currentProgressiveLayer = progressiveLayers[idx] = new Layer('progressive', this, this.dpr);\n            currentProgressiveLayer.initContext();\n          }\n\n          currentProgressiveLayer.__maxProgress = 0;\n        }\n\n        currentProgressiveLayer.__dirty = currentProgressiveLayer.__dirty || el.__dirty;\n        currentProgressiveLayer.elCount++;\n        currentProgressiveLayer.__maxProgress = Math.max(currentProgressiveLayer.__maxProgress, elFrame);\n\n        if (currentProgressiveLayer.__maxProgress >= currentProgressiveLayer.__progress) {\n          // Should keep rendering this  layer because progressive rendering is not finished yet\n          layer.__dirty = true;\n        }\n      } else {\n        el.__frame = -1;\n\n        if (currentProgressiveLayer) {\n          currentProgressiveLayer.__nextIdxNotProg = i;\n          progressiveLayerCount++;\n          currentProgressiveLayer = null;\n        }\n      }\n    }\n\n    if (currentProgressiveLayer) {\n      progressiveLayerCount++;\n      currentProgressiveLayer.__nextIdxNotProg = i;\n    } // \n\n\n    this.eachBuiltinLayer(function (layer, z) {\n      if (elCountsLastFrame[z] !== layer.elCount) {\n        layer.__dirty = true;\n      }\n    });\n    progressiveLayers.length = Math.min(progressiveLayerCount, MAX_PROGRESSIVE_LAYER_NUMBER);\n    util.each(progressiveLayers, function (layer, idx) {\n      if (progressiveElCountsLastFrame[idx] !== layer.elCount) {\n        el.__dirty = true;\n      }\n\n      if (layer.__dirty) {\n        layer.__progress = 0;\n      }\n    });\n  },\n\n  /**\n   * hover\n   */\n  clear: function () {\n    this.eachBuiltinLayer(this._clearLayer);\n    return this;\n  },\n  _clearLayer: function (layer) {\n    layer.clear();\n  },\n\n  /**\n   * zlevel\n   *\n   * @param {string} zlevel\n   * @param {Object} config \n   * @param {string} [config.clearColor=0] \n   * @param {string} [config.motionBlur=false] \n   * @param {number} [config.lastFrameAlpha=0.7]\n   *                 alpha\n   */\n  configLayer: function (zlevel, config) {\n    if (config) {\n      var layerConfig = this._layerConfig;\n\n      if (!layerConfig[zlevel]) {\n        layerConfig[zlevel] = config;\n      } else {\n        util.merge(layerConfig[zlevel], config, true);\n      }\n\n      var layer = this._layers[zlevel];\n\n      if (layer) {\n        util.merge(layer, layerConfig[zlevel], true);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {number} zlevel zlevel\n   */\n  delLayer: function (zlevel) {\n    var layers = this._layers;\n    var zlevelList = this._zlevelList;\n    var layer = layers[zlevel];\n\n    if (!layer) {\n      return;\n    }\n\n    layer.dom.parentNode.removeChild(layer.dom);\n    delete layers[zlevel];\n    zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n  },\n\n  /**\n   * \n   */\n  resize: function (width, height) {\n    var domRoot = this._domRoot; // FIXME Why ?\n\n    domRoot.style.display = 'none'; // Save input w/h\n\n    var opts = this._opts;\n    width != null && (opts.width = width);\n    height != null && (opts.height = height);\n    width = this._getSize(0);\n    height = this._getSize(1);\n    domRoot.style.display = ''; // resize\n\n    if (this._width != width || height != this._height) {\n      domRoot.style.width = width + 'px';\n      domRoot.style.height = height + 'px';\n\n      for (var id in this._layers) {\n        if (this._layers.hasOwnProperty(id)) {\n          this._layers[id].resize(width, height);\n        }\n      }\n\n      util.each(this._progressiveLayers, function (layer) {\n        layer.resize(width, height);\n      });\n      this.refresh(true);\n    }\n\n    this._width = width;\n    this._height = height;\n    return this;\n  },\n\n  /**\n   * \n   * @param {number} zlevel\n   */\n  clearLayer: function (zlevel) {\n    var layer = this._layers[zlevel];\n\n    if (layer) {\n      layer.clear();\n    }\n  },\n\n  /**\n   * \n   */\n  dispose: function () {\n    this.root.innerHTML = '';\n    this.root = this.storage = this._domRoot = this._layers = null;\n  },\n\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @param {number} [opts.pixelRatio]\n   */\n  getRenderedCanvas: function (opts) {\n    opts = opts || {};\n\n    if (this._singleCanvas) {\n      return this._layers[0].dom;\n    }\n\n    var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n    imageLayer.initContext();\n    imageLayer.clearColor = opts.backgroundColor;\n    imageLayer.clear();\n    var displayList = this.storage.getDisplayList(true);\n    var scope = {};\n    var zlevel;\n    var self = this;\n\n    function findAndDrawOtherLayer(smaller, larger) {\n      var zlevelList = self._zlevelList;\n\n      if (smaller == null) {\n        smaller = -Infinity;\n      }\n\n      var intermediateLayer;\n\n      for (var i = 0; i < zlevelList.length; i++) {\n        var z = zlevelList[i];\n        var layer = self._layers[z];\n\n        if (!layer.__builtin__ && z > smaller && z < larger) {\n          intermediateLayer = layer;\n          break;\n        }\n      }\n\n      if (intermediateLayer && intermediateLayer.renderToCanvas) {\n        imageLayer.ctx.save();\n        intermediateLayer.renderToCanvas(imageLayer.ctx);\n        imageLayer.ctx.restore();\n      }\n    }\n\n    for (var i = 0; i < displayList.length; i++) {\n      var el = displayList[i];\n\n      if (el.zlevel !== zlevel) {\n        findAndDrawOtherLayer(zlevel, el.zlevel);\n        zlevel = el.zlevel;\n      }\n\n      this._doPaintEl(el, imageLayer, true, scope);\n    }\n\n    findAndDrawOtherLayer(zlevel, Infinity);\n    return imageLayer.dom;\n  },\n\n  /**\n   * \n   */\n  getWidth: function () {\n    return this._width;\n  },\n\n  /**\n   * \n   */\n  getHeight: function () {\n    return this._height;\n  },\n  _getSize: function (whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  pathToImage: function (path, dpr) {\n    dpr = dpr || this.dpr;\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var rect = path.getBoundingRect();\n    var style = path.style;\n    var shadowBlurSize = style.shadowBlur;\n    var shadowOffsetX = style.shadowOffsetX;\n    var shadowOffsetY = style.shadowOffsetY;\n    var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n    var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n    var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n    var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n    var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n    var width = rect.width + leftMargin + rightMargin;\n    var height = rect.height + topMargin + bottomMargin;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    ctx.scale(dpr, dpr);\n    ctx.clearRect(0, 0, width, height);\n    ctx.dpr = dpr;\n    var pathTransform = {\n      position: path.position,\n      rotation: path.rotation,\n      scale: path.scale\n    };\n    path.position = [leftMargin - rect.x, topMargin - rect.y];\n    path.rotation = 0;\n    path.scale = [1, 1];\n    path.updateTransform();\n\n    if (path) {\n      path.brush(ctx);\n    }\n\n    var ImageShape = Image;\n    var imgShape = new ImageShape({\n      style: {\n        x: 0,\n        y: 0,\n        image: canvas\n      }\n    });\n\n    if (pathTransform.position != null) {\n      imgShape.position = path.position = pathTransform.position;\n    }\n\n    if (pathTransform.rotation != null) {\n      imgShape.rotation = path.rotation = pathTransform.rotation;\n    }\n\n    if (pathTransform.scale != null) {\n      imgShape.scale = path.scale = pathTransform.scale;\n    }\n\n    return imgShape;\n  }\n};\nvar _default = Painter;\nmodule.exports = _default;\n\n/***/ }),\n/* 174 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nvar _config = __webpack_require__(53);\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar Style = __webpack_require__(96);\n\nvar Pattern = __webpack_require__(97);\n\n/**\n * @module zrender/Layer\n * @author pissang(https://www.github.com/pissang)\n */\nfunction returnFalse() {\n  return false;\n}\n/**\n * dom\n *\n * @inner\n * @param {string} id dom id \n * @param {Painter} painter painter instance\n * @param {number} number\n */\n\n\nfunction createDom(id, painter, dpr) {\n  var newDom = util.createCanvas();\n  var width = painter.getWidth();\n  var height = painter.getHeight();\n  var newDomStyle = newDom.style; // append~\n\n  newDomStyle.position = 'absolute';\n  newDomStyle.left = 0;\n  newDomStyle.top = 0;\n  newDomStyle.width = width + 'px';\n  newDomStyle.height = height + 'px';\n  newDom.width = width * dpr;\n  newDom.height = height * dpr; // id\n\n  newDom.setAttribute('data-zr-dom-id', id);\n  return newDom;\n}\n/**\n * @alias module:zrender/Layer\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @param {string} id\n * @param {module:zrender/Painter} painter\n * @param {number} [dpr]\n */\n\n\nvar Layer = function (id, painter, dpr) {\n  var dom;\n  dpr = dpr || devicePixelRatio;\n\n  if (typeof id === 'string') {\n    dom = createDom(id, painter, dpr);\n  } // Not using isDom because in node it will return false\n  else if (util.isObject(id)) {\n      dom = id;\n      id = dom.id;\n    }\n\n  this.id = id;\n  this.dom = dom;\n  var domStyle = dom.style;\n\n  if (domStyle) {\n    // Not in node\n    dom.onselectstart = returnFalse; // \n\n    domStyle['-webkit-user-select'] = 'none';\n    domStyle['user-select'] = 'none';\n    domStyle['-webkit-touch-callout'] = 'none';\n    domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n    domStyle['padding'] = 0;\n    domStyle['margin'] = 0;\n    domStyle['border-width'] = 0;\n  }\n\n  this.domBack = null;\n  this.ctxBack = null;\n  this.painter = painter;\n  this.config = null; // Configs\n\n  /**\n   * \n   * @type {string}\n   * @default 0\n   */\n\n  this.clearColor = 0;\n  /**\n   * \n   * @type {boolean}\n   * @default false\n   */\n\n  this.motionBlur = false;\n  /**\n   * alpha\n   * @type {number}\n   * @default 0.7\n   */\n\n  this.lastFrameAlpha = 0.7;\n  /**\n   * Layer dpr\n   * @type {number}\n   */\n\n  this.dpr = dpr;\n};\n\nLayer.prototype = {\n  constructor: Layer,\n  elCount: 0,\n  __dirty: true,\n  initContext: function () {\n    this.ctx = this.dom.getContext('2d');\n    this.ctx.__currentValues = {};\n    this.ctx.dpr = this.dpr;\n  },\n  createBackBuffer: function () {\n    var dpr = this.dpr;\n    this.domBack = createDom('back-' + this.id, this.painter, dpr);\n    this.ctxBack = this.domBack.getContext('2d');\n    this.ctxBack.__currentValues = {};\n\n    if (dpr != 1) {\n      this.ctxBack.scale(dpr, dpr);\n    }\n  },\n\n  /**\n   * @param  {number} width\n   * @param  {number} height\n   */\n  resize: function (width, height) {\n    var dpr = this.dpr;\n    var dom = this.dom;\n    var domStyle = dom.style;\n    var domBack = this.domBack;\n    domStyle.width = width + 'px';\n    domStyle.height = height + 'px';\n    dom.width = width * dpr;\n    dom.height = height * dpr;\n\n    if (domBack) {\n      domBack.width = width * dpr;\n      domBack.height = height * dpr;\n\n      if (dpr != 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} clearAll Clear all with out motion blur\n   */\n  clear: function (clearAll) {\n    var dom = this.dom;\n    var ctx = this.ctx;\n    var width = dom.width;\n    var height = dom.height;\n    var clearColor = this.clearColor;\n    var haveMotionBLur = this.motionBlur && !clearAll;\n    var lastFrameAlpha = this.lastFrameAlpha;\n    var dpr = this.dpr;\n\n    if (haveMotionBLur) {\n      if (!this.domBack) {\n        this.createBackBuffer();\n      }\n\n      this.ctxBack.globalCompositeOperation = 'copy';\n      this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n    }\n\n    ctx.clearRect(0, 0, width, height);\n\n    if (clearColor) {\n      var clearColorGradientOrPattern; // Gradient\n\n      if (clearColor.colorStops) {\n        // Cache canvas gradient\n        clearColorGradientOrPattern = clearColor.__canvasGradient || Style.getGradient(ctx, clearColor, {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        });\n        clearColor.__canvasGradient = clearColorGradientOrPattern;\n      } // Pattern\n      else if (clearColor.image) {\n          clearColorGradientOrPattern = Pattern.prototype.getCanvasPattern.call(clearColor, ctx);\n        }\n\n      ctx.save();\n      ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n      ctx.fillRect(0, 0, width, height);\n      ctx.restore();\n    }\n\n    if (haveMotionBLur) {\n      var domBack = this.domBack;\n      ctx.save();\n      ctx.globalAlpha = lastFrameAlpha;\n      ctx.drawImage(domBack, 0, 0, width, height);\n      ctx.restore();\n    }\n  }\n};\nvar _default = Layer;\nmodule.exports = _default;\n\n/***/ }),\n/* 175 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nvar _event = __webpack_require__(23);\n\nvar Dispatcher = _event.Dispatcher;\n\nvar requestAnimationFrame = __webpack_require__(98);\n\nvar Animator = __webpack_require__(94);\n\n/**\n * , \n *\n * @module zrender/animation/Animation\n * @author pissang(https://github.com/pissang)\n */\n// TODO Additive animation\n// http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n// https://developer.apple.com/videos/wwdc2014/#236\n\n/**\n * @typedef {Object} IZRenderStage\n * @property {Function} update\n */\n\n/**\n * @alias module:zrender/animation/Animation\n * @constructor\n * @param {Object} [options]\n * @param {Function} [options.onframe]\n * @param {IZRenderStage} [options.stage]\n * @example\n *     var animation = new Animation();\n *     var obj = {\n *         x: 100,\n *         y: 100\n *     };\n *     animation.animate(node.position)\n *         .when(1000, {\n *             x: 500,\n *             y: 500\n *         })\n *         .when(2000, {\n *             x: 100,\n *             y: 100\n *         })\n *         .start('spline');\n */\nvar Animation = function (options) {\n  options = options || {};\n  this.stage = options.stage || {};\n\n  this.onframe = options.onframe || function () {}; // private properties\n\n\n  this._clips = [];\n  this._running = false;\n  this._time;\n  this._pausedTime;\n  this._pauseStart;\n  this._paused = false;\n  Dispatcher.call(this);\n};\n\nAnimation.prototype = {\n  constructor: Animation,\n\n  /**\n   *  clip\n   * @param {module:zrender/animation/Clip} clip\n   */\n  addClip: function (clip) {\n    this._clips.push(clip);\n  },\n\n  /**\n   *  animator\n   * @param {module:zrender/animation/Animator} animator\n   */\n  addAnimator: function (animator) {\n    animator.animation = this;\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.addClip(clips[i]);\n    }\n  },\n\n  /**\n   * \n   * @param {module:zrender/animation/Clip} clip\n   */\n  removeClip: function (clip) {\n    var idx = util.indexOf(this._clips, clip);\n\n    if (idx >= 0) {\n      this._clips.splice(idx, 1);\n    }\n  },\n\n  /**\n   * \n   * @param {module:zrender/animation/Animator} animator\n   */\n  removeAnimator: function (animator) {\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.removeClip(clips[i]);\n    }\n\n    animator.animation = null;\n  },\n  _update: function () {\n    var time = new Date().getTime() - this._pausedTime;\n\n    var delta = time - this._time;\n    var clips = this._clips;\n    var len = clips.length;\n    var deferredEvents = [];\n    var deferredClips = [];\n\n    for (var i = 0; i < len; i++) {\n      var clip = clips[i];\n      var e = clip.step(time, delta); // Throw out the events need to be called after\n      // stage.update, like destroy\n\n      if (e) {\n        deferredEvents.push(e);\n        deferredClips.push(clip);\n      }\n    } // Remove the finished clip\n\n\n    for (var i = 0; i < len;) {\n      if (clips[i]._needsRemove) {\n        clips[i] = clips[len - 1];\n        clips.pop();\n        len--;\n      } else {\n        i++;\n      }\n    }\n\n    len = deferredEvents.length;\n\n    for (var i = 0; i < len; i++) {\n      deferredClips[i].fire(deferredEvents[i]);\n    }\n\n    this._time = time;\n    this.onframe(delta);\n    this.trigger('frame', delta);\n\n    if (this.stage.update) {\n      this.stage.update();\n    }\n  },\n  _startLoop: function () {\n    var self = this;\n    this._running = true;\n\n    function step() {\n      if (self._running) {\n        requestAnimationFrame(step);\n        !self._paused && self._update();\n      }\n    }\n\n    requestAnimationFrame(step);\n  },\n\n  /**\n   * \n   */\n  start: function () {\n    this._time = new Date().getTime();\n    this._pausedTime = 0;\n\n    this._startLoop();\n  },\n\n  /**\n   * \n   */\n  stop: function () {\n    this._running = false;\n  },\n\n  /**\n   * Pause\n   */\n  pause: function () {\n    if (!this._paused) {\n      this._pauseStart = new Date().getTime();\n      this._paused = true;\n    }\n  },\n\n  /**\n   * Resume\n   */\n  resume: function () {\n    if (this._paused) {\n      this._pausedTime += new Date().getTime() - this._pauseStart;\n      this._paused = false;\n    }\n  },\n\n  /**\n   * \n   */\n  clear: function () {\n    this._clips = [];\n  },\n\n  /**\n   * animator\n   * @param  {Object} target\n   * @param  {Object} options\n   * @param  {boolean} [options.loop=false] \n   * @param  {Function} [options.getter=null]\n   *         gettergetter\n   * @param  {Function} [options.setter=null]\n   *         settersetter\n   * @return {module:zrender/animation/Animation~Animator}\n   */\n  // TODO Gap\n  animate: function (target, options) {\n    options = options || {};\n    var animator = new Animator(target, options.loop, options.getter, options.setter);\n    this.addAnimator(animator);\n    return animator;\n  }\n};\nutil.mixin(Animation, Dispatcher);\nvar _default = Animation;\nmodule.exports = _default;\n\n/***/ }),\n/* 176 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _event = __webpack_require__(23);\n\nvar addEventListener = _event.addEventListener;\nvar removeEventListener = _event.removeEventListener;\nvar normalizeEvent = _event.normalizeEvent;\n\nvar zrUtil = __webpack_require__(0);\n\nvar Eventful = __webpack_require__(30);\n\nvar env = __webpack_require__(11);\n\nvar GestureMgr = __webpack_require__(177);\n\nvar TOUCH_CLICK_DELAY = 300;\nvar mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\nvar touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\nvar pointerEventNames = {\n  pointerdown: 1,\n  pointerup: 1,\n  pointermove: 1,\n  pointerout: 1\n};\nvar pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n  var nm = name.replace('mouse', 'pointer');\n  return pointerEventNames[nm] ? nm : name;\n});\n\nfunction eventNameFix(name) {\n  return name === 'mousewheel' && env.browser.firefox ? 'DOMMouseScroll' : name;\n}\n\nfunction processGesture(proxy, event, stage) {\n  var gestureMgr = proxy._gestureMgr;\n  stage === 'start' && gestureMgr.clear();\n  var gestureInfo = gestureMgr.recognize(event, proxy.handler.findHover(event.zrX, event.zrY, null).target, proxy.dom);\n  stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n  if (gestureInfo) {\n    var type = gestureInfo.type;\n    event.gestureEvent = type;\n    proxy.handler.dispatchToElement({\n      target: gestureInfo.target\n    }, type, gestureInfo.event);\n  }\n} // function onMSGestureChange(proxy, event) {\n//     if (event.translationX || event.translationY) {\n//         // mousemove is carried by MSGesture to reduce the sensitivity.\n//         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n//     }\n//     if (event.scale !== 1) {\n//         event.pinchX = event.offsetX;\n//         event.pinchY = event.offsetY;\n//         event.pinchScale = event.scale;\n//         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n//     }\n// }\n\n/**\n * Prevent mouse event from being dispatched after Touch Events action\n * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n * Result: Blocking Mouse Events for 700ms.\n */\n\n\nfunction setTouchTimer(instance) {\n  instance._touching = true;\n  clearTimeout(instance._touchTimer);\n  instance._touchTimer = setTimeout(function () {\n    instance._touching = false;\n  }, 700);\n}\n\nvar domHandlers = {\n  /**\n   * Mouse move handler\n   * @inner\n   * @param {Event} event\n   */\n  mousemove: function (event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger('mousemove', event);\n  },\n\n  /**\n   * Mouse out handler\n   * @inner\n   * @param {Event} event\n   */\n  mouseout: function (event) {\n    event = normalizeEvent(this.dom, event);\n    var element = event.toElement || event.relatedTarget;\n\n    if (element != this.dom) {\n      while (element && element.nodeType != 9) {\n        // rootdommouseOut\n        if (element === this.dom) {\n          return;\n        }\n\n        element = element.parentNode;\n      }\n    }\n\n    this.trigger('mouseout', event);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchstart: function (event) {\n    // Default mouse behaviour should not be disabled here.\n    // For example, page may needs to be slided.\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    this._lastTouchMoment = new Date();\n    processGesture(this, event, 'start'); // In touch device, trigger `mousemove`(`mouseover`) should\n    // be triggered, and must before `mousedown` triggered.\n\n    domHandlers.mousemove.call(this, event);\n    domHandlers.mousedown.call(this, event);\n    setTouchTimer(this);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchmove: function (event) {\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    processGesture(this, event, 'change'); // Mouse move should always be triggered no matter whether\n    // there is gestrue event, because mouse move and pinch may\n    // be used at the same time.\n\n    domHandlers.mousemove.call(this, event);\n    setTouchTimer(this);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchend: function (event) {\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    processGesture(this, event, 'end');\n    domHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n    // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n    // we can conveniently implement \"hover style\" in both PC and touch device just\n    // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n    // to remove \"hover style\" on an element, without any additional code for\n    // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n    // style\" will remain for user view)\n    // click event should always be triggered no matter whether\n    // there is gestrue event. System click can not be prevented.\n\n    if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n      domHandlers.click.call(this, event);\n    }\n\n    setTouchTimer(this);\n  },\n  pointerdown: function (event) {\n    domHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n    //     this._msGesture.addPointer(event.pointerId);\n    // }\n  },\n  pointermove: function (event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      domHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function (event) {\n    domHandlers.mouseup.call(this, event);\n  },\n  pointerout: function (event) {\n    // pointerout will be triggered when tap on touch screen\n    // (IE11+/Edge on MS Surface) after click event triggered,\n    // which is inconsistent with the mousout behavior we defined\n    // in touchend. So we unify them.\n    // (check domHandlers.touchend for detailed explanation)\n    if (!isPointerFromTouch(event)) {\n      domHandlers.mouseout.call(this, event);\n    }\n  }\n};\n\nfunction isPointerFromTouch(event) {\n  var pointerType = event.pointerType;\n  return pointerType === 'pen' || pointerType === 'touch';\n} // function useMSGuesture(handlerProxy, event) {\n//     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n// }\n// Common handlers\n\n\nzrUtil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  domHandlers[name] = function (event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger(name, event);\n  };\n});\n/**\n * dom \n *\n * @inner\n * @param {module:zrender/Handler} instance \n */\n\nfunction initDomHandler(instance) {\n  zrUtil.each(touchHandlerNames, function (name) {\n    instance._handlers[name] = zrUtil.bind(domHandlers[name], instance);\n  });\n  zrUtil.each(pointerHandlerNames, function (name) {\n    instance._handlers[name] = zrUtil.bind(domHandlers[name], instance);\n  });\n  zrUtil.each(mouseHandlerNames, function (name) {\n    instance._handlers[name] = makeMouseHandler(domHandlers[name], instance);\n  });\n\n  function makeMouseHandler(fn, instance) {\n    return function () {\n      if (instance._touching) {\n        return;\n      }\n\n      return fn.apply(instance, arguments);\n    };\n  }\n}\n\nfunction HandlerDomProxy(dom) {\n  Eventful.call(this);\n  this.dom = dom;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._touching = false;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._touchTimer;\n  /**\n   * @private\n   * @type {module:zrender/core/GestureMgr}\n   */\n\n  this._gestureMgr = new GestureMgr();\n  this._handlers = {};\n  initDomHandler(this);\n\n  if (env.pointerEventsSupported) {\n    // Only IE11+/Edge\n    // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n    // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n    // at the same time.\n    // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n    // screen, which do not occurs in pointer event.\n    // So we use pointer event to both detect touch gesture and mouse behavior.\n    mountHandlers(pointerHandlerNames, this); // FIXME\n    // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n    // which does not prevent defuault behavior occasionally (which may cause view port\n    // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n    // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n    // touch screen. And we only support click behavior on MS touch screen now.\n    // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n    // We dont support touch on IE on win7.\n    // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n    // if (typeof MSGesture === 'function') {\n    //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n    //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n    // }\n  } else {\n    if (env.touchEventsSupported) {\n      mountHandlers(touchHandlerNames, this); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n      // addEventListener(root, 'mouseout', this._mouseoutHandler);\n    } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n    // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n    // mouse event can not be handle in those devices.\n    // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n    // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n    mountHandlers(mouseHandlerNames, this);\n  }\n\n  function mountHandlers(handlerNames, instance) {\n    zrUtil.each(handlerNames, function (name) {\n      addEventListener(dom, eventNameFix(name), instance._handlers[name]);\n    }, instance);\n  }\n}\n\nvar handlerDomProxyProto = HandlerDomProxy.prototype;\n\nhandlerDomProxyProto.dispose = function () {\n  var handlerNames = mouseHandlerNames.concat(touchHandlerNames);\n\n  for (var i = 0; i < handlerNames.length; i++) {\n    var name = handlerNames[i];\n    removeEventListener(this.dom, eventNameFix(name), this._handlers[name]);\n  }\n};\n\nhandlerDomProxyProto.setCursor = function (cursorStyle) {\n  this.dom.style.cursor = cursorStyle || 'default';\n};\n\nzrUtil.mixin(HandlerDomProxy, Eventful);\nvar _default = HandlerDomProxy;\nmodule.exports = _default;\n\n/***/ }),\n/* 177 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar eventUtil = __webpack_require__(23);\n\n/**\n * Only implements needed gestures for mobile.\n */\nvar GestureMgr = function () {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  this._track = [];\n};\n\nGestureMgr.prototype = {\n  constructor: GestureMgr,\n  recognize: function (event, target, root) {\n    this._doTrack(event, target, root);\n\n    return this._recognize(event);\n  },\n  clear: function () {\n    this._track.length = 0;\n    return this;\n  },\n  _doTrack: function (event, target, root) {\n    var touches = event.touches;\n\n    if (!touches) {\n      return;\n    }\n\n    var trackItem = {\n      points: [],\n      touches: [],\n      target: target,\n      event: event\n    };\n\n    for (var i = 0, len = touches.length; i < len; i++) {\n      var touch = touches[i];\n      var pos = eventUtil.clientToLocal(root, touch, {});\n      trackItem.points.push([pos.zrX, pos.zrY]);\n      trackItem.touches.push(touch);\n    }\n\n    this._track.push(trackItem);\n  },\n  _recognize: function (event) {\n    for (var eventName in recognizers) {\n      if (recognizers.hasOwnProperty(eventName)) {\n        var gestureInfo = recognizers[eventName](this._track, event);\n\n        if (gestureInfo) {\n          return gestureInfo;\n        }\n      }\n    }\n  }\n};\n\nfunction dist(pointPair) {\n  var dx = pointPair[1][0] - pointPair[0][0];\n  var dy = pointPair[1][1] - pointPair[0][1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction center(pointPair) {\n  return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n}\n\nvar recognizers = {\n  pinch: function (track, event) {\n    var trackLen = track.length;\n\n    if (!trackLen) {\n      return;\n    }\n\n    var pinchEnd = (track[trackLen - 1] || {}).points;\n    var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n    if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n      var pinchScale = dist(pinchEnd) / dist(pinchPre);\n      !isFinite(pinchScale) && (pinchScale = 1);\n      event.pinchScale = pinchScale;\n      var pinchCenter = center(pinchEnd);\n      event.pinchX = pinchCenter[0];\n      event.pinchY = pinchCenter[1];\n      return {\n        type: 'pinch',\n        target: track[0].target,\n        event: event\n      };\n    }\n  } // Only pinch currently.\n\n};\nvar _default = GestureMgr;\nmodule.exports = _default;\n\n/***/ }),\n/* 178 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar Model = __webpack_require__(10);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar globalDefault = __webpack_require__(202);\n\nvar colorPaletteMinin = __webpack_require__(108);\n\n/**\n * ECharts global model\n *\n * @module {echarts/model/Global}\n */\n\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\nvar each = zrUtil.each;\nvar filter = zrUtil.filter;\nvar map = zrUtil.map;\nvar isArray = zrUtil.isArray;\nvar indexOf = zrUtil.indexOf;\nvar isObject = zrUtil.isObject;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\n/**\n * @alias module:echarts/model/Global\n *\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {Object} theme\n */\n\nvar GlobalModel = Model.extend({\n  constructor: GlobalModel,\n  init: function (option, parentModel, theme, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    /**\n     * @type {module:echarts/model/Model}\n     * @private\n     */\n\n    this._theme = new Model(theme);\n    /**\n     * @type {module:echarts/model/OptionManager}\n     */\n\n    this._optionManager = optionManager;\n  },\n  setOption: function (option, optionPreprocessorFuncs) {\n    zrUtil.assert(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n    this.resetOption(null);\n  },\n\n  /**\n   * @param {string} type null/undefined: reset all.\n   *                      'recreate': force recreate all.\n   *                      'timeline': only reset timeline option\n   *                      'media': only reset media query option\n   * @return {boolean} Whether option changed.\n   */\n  resetOption: function (type) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (!this.option || type === 'recreate') {\n        initBase.call(this, baseOption);\n      } else {\n        this.restoreData();\n        this.mergeOption(baseOption);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          this.mergeOption(mediaOption, optionChanged = true);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  },\n\n  /**\n   * @protected\n   */\n  mergeOption: function (newOption) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var newCptTypes = []; //  component model  merge\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        option[mainType] = option[mainType] == null ? zrUtil.clone(componentOption) : zrUtil.merge(option[mainType], componentOption, true);\n      } else {\n        newCptTypes.push(mainType);\n      }\n    }); // FIXME OPTION \n\n    ComponentModel.topologicalTravel(newCptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n    this._seriesIndices = this._seriesIndices || [];\n\n    function visitComponent(mainType, dependencies) {\n      var newCptOptionList = modelUtil.normalizeToArray(newOption[mainType]);\n      var mapResult = modelUtil.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n      modelUtil.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n      each(mapResult, function (item, index) {\n        var opt = item.option;\n\n        if (isObject(opt)) {\n          item.keyInfo.mainType = mainType;\n          item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n        }\n      });\n      var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n      option[mainType] = [];\n      componentsMap.set(mainType, []);\n      each(mapResult, function (resultItem, index) {\n        var componentModel = resultItem.exist;\n        var newCptOption = resultItem.option;\n        zrUtil.assert(isObject(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n        // see removeEdgeAndAdd in topologicalTravel and\n        // ComponentModel.getAllClassMainTypes.\n\n        if (!newCptOption) {\n          componentModel.mergeOption({}, this);\n          componentModel.optionUpdated({}, false);\n        } else {\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, true);\n\n          if (componentModel && componentModel instanceof ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name;\n            componentModel.mergeOption(newCptOption, this);\n            componentModel.optionUpdated(newCptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = zrUtil.extend({\n              dependentModels: dependentModels,\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n            zrUtil.extend(componentModel, extraOpt);\n            componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n            // newCptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        componentsMap.get(mainType)[index] = componentModel;\n        option[mainType][index] = componentModel.option;\n      }, this); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        this._seriesIndices = createSeriesIndices(componentsMap.get('series'));\n      }\n    }\n  },\n\n  /**\n   * Get option for output (cloned option and inner info removed)\n   * @public\n   * @return {Object}\n   */\n  getOption: function () {\n    var option = zrUtil.clone(this.option);\n    each(option, function (opts, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(opts);\n\n        for (var i = opts.length - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (modelUtil.isIdInner(opts[i])) {\n            opts.splice(i, 1);\n          }\n        }\n\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getTheme: function () {\n    return this._theme;\n  },\n\n  /**\n   * @param {string} mainType\n   * @param {number} [idx=0]\n   * @return {module:echarts/model/Component}\n   */\n  getComponent: function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      return list[idx || 0];\n    }\n  },\n\n  /**\n   * If none of index and id and name used, return all components with mainType.\n   * @param {Object} condition\n   * @param {string} condition.mainType\n   * @param {string} [condition.subType] If ignore, only query by mainType\n   * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  queryComponents: function (condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cpts = this._componentsMap.get(mainType);\n\n    if (!cpts || !cpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      if (!isArray(index)) {\n        index = [index];\n      }\n\n      result = filter(map(index, function (idx) {\n        return cpts[idx];\n      }), function (val) {\n        return !!val;\n      });\n    } else if (id != null) {\n      var isIdArray = isArray(id);\n      result = filter(cpts, function (cpt) {\n        return isIdArray && indexOf(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n      });\n    } else if (name != null) {\n      var isNameArray = isArray(name);\n      result = filter(cpts, function (cpt) {\n        return isNameArray && indexOf(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n      });\n    } else {\n      // Return all components with mainType\n      result = cpts.slice();\n    }\n\n    return filterBySubType(result, condition);\n  },\n\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * var result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series'},\n   *     function (model, index) {...}\n   * );\n   * // result like [component0, componnet1, ...]\n   *\n   * @param {Object} condition\n   * @param {string} condition.mainType Mandatory.\n   * @param {string} [condition.subType] Optional.\n   * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n   *        where xxx is mainType.\n   *        If query attribute is null/undefined or has no index/id/name,\n   *        do not filtering by query conditions, which is convenient for\n   *        no-payload situations or when target of action is global.\n   * @param {Function} [condition.filter] parameter: component, return boolean.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  findComponents: function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  },\n\n  /**\n   * @usage\n   * eachComponent('legend', function (legendModel, index) {\n   *     ...\n   * });\n   * eachComponent(function (componentType, model, index) {\n   *     // componentType does not include subType\n   *     // (componentType is 'xxx' but not 'xxx.aa')\n   * });\n   * eachComponent(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n   *     function (model, index) {...}\n   * );\n   * eachComponent(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n   *     function (model, index) {...}\n   * );\n   *\n   * @param {string|Object=} mainType When mainType is object, the definition\n   *                                  is the same as the method 'findComponents'.\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachComponent: function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (typeof mainType === 'function') {\n      context = cb;\n      cb = mainType;\n      componentsMap.each(function (components, componentType) {\n        each(components, function (component, index) {\n          cb.call(context, componentType, component, index);\n        });\n      });\n    } else if (zrUtil.isString(mainType)) {\n      each(componentsMap.get(mainType), cb, context);\n    } else if (isObject(mainType)) {\n      var queryResult = this.findComponents(mainType);\n      each(queryResult, cb, context);\n    }\n  },\n\n  /**\n   * @param {string} name\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByName: function (name) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.name === name;\n    });\n  },\n\n  /**\n   * @param {number} seriesIndex\n   * @return {module:echarts/model/Series}\n   */\n  getSeriesByIndex: function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  },\n\n  /**\n   * @param {string} subType\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByType: function (subType) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.subType === subType;\n    });\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeries: function () {\n    return this._componentsMap.get('series').slice();\n  },\n\n  /**\n   * After filtering, series may be different\n   * frome raw series.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeries: function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeries: function (cb, context) {\n    each(this._componentsMap.get('series'), cb, context);\n  },\n\n  /**\n   * After filtering, series may be different.\n   * frome raw series.\n   *\n   * @parma {string} subType\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeriesByType: function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered of given type.\n   *\n   * @parma {string} subType\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeriesByType: function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  },\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   */\n  isSeriesFiltered: function (seriesModel) {\n    assertSeriesInitialized(this);\n    return zrUtil.indexOf(this._seriesIndices, seriesModel.componentIndex) < 0;\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getCurrentSeriesIndices: function () {\n    return (this._seriesIndices || []).slice();\n  },\n\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n  filterSeries: function (cb, context) {\n    assertSeriesInitialized(this);\n    var filteredSeries = filter(this._componentsMap.get('series'), cb, context);\n    this._seriesIndices = createSeriesIndices(filteredSeries);\n  },\n  restoreData: function () {\n    var componentsMap = this._componentsMap;\n    this._seriesIndices = createSeriesIndices(componentsMap.get('series'));\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      componentTypes.push(componentType);\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType, dependencies) {\n      each(componentsMap.get(componentType), function (component) {\n        component.restoreData();\n      });\n    });\n  }\n});\n/**\n * @inner\n */\n\nfunction mergeTheme(option, theme) {\n  zrUtil.each(theme, function (themeItem, name) {\n    //  component model  merge  model \n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? zrUtil.clone(themeItem) : zrUtil.merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction initBase(baseOption) {\n  baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n  // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n  this.option = {};\n  this.option[OPTION_INNER_KEY] = 1;\n  /**\n   * Init with series: [], in case of calling findSeries method\n   * before series initialized.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @private\n   */\n\n  this._componentsMap = zrUtil.createHashMap({\n    series: []\n  });\n  /**\n   * Mapping between filtered series list and raw series list.\n   * key: filtered series indices, value: raw series indices.\n   * @type {Array.<nubmer>}\n   * @private\n   */\n\n  this._seriesIndices = null;\n  mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n  zrUtil.merge(baseOption, globalDefault, false);\n  this.mergeOption(baseOption);\n}\n/**\n * @inner\n * @param {Array.<string>|string} types model types\n * @return {Object} key: {string} type, value: {Array.<Object>} models\n */\n\n\nfunction getComponentsByTypes(componentsMap, types) {\n  if (!zrUtil.isArray(types)) {\n    types = types ? [types] : [];\n  }\n\n  var ret = {};\n  each(types, function (type) {\n    ret[type] = (componentsMap.get(type) || []).slice();\n  });\n  return ret;\n}\n/**\n * @inner\n */\n\n\nfunction determineSubType(mainType, newCptOption, existComponent) {\n  var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n  : ComponentModel.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n  return subType;\n}\n/**\n * @inner\n */\n\n\nfunction createSeriesIndices(seriesModels) {\n  return map(seriesModels, function (series) {\n    return series.componentIndex;\n  }) || [];\n}\n/**\n * @inner\n */\n\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cpt) {\n    return cpt.subType === condition.subType;\n  }) : components;\n}\n/**\n * @inner\n */\n\n\nfunction assertSeriesInitialized(ecModel) {}\n\nzrUtil.mixin(GlobalModel, colorPaletteMinin);\nvar _default = GlobalModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 179 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getLineStyle: function (excludes) {\n    var style = getLineStyle(this, excludes);\n    var lineDash = this.getLineDash(style.lineWidth);\n    lineDash && (style.lineDash = lineDash);\n    return style;\n  },\n  getLineDash: function (lineWidth) {\n    if (lineWidth == null) {\n      lineWidth = 1;\n    }\n\n    var lineType = this.get('type');\n    var dotSize = Math.max(lineWidth, 2);\n    var dashSize = lineWidth * 4;\n    return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 180 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\nvar _default = {\n  getAreaStyle: function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 181 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar textContain = __webpack_require__(20);\n\nvar graphicUtil = __webpack_require__(2);\n\nvar PATH_COLOR = ['textStyle', 'color'];\nvar _default = {\n  /**\n   * Get color property or get color from option.textStyle.color\n   * @param {boolean} [isEmphasis]\n   * @return {string}\n   */\n  getTextColor: function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  },\n\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n  getFont: function () {\n    return graphicUtil.getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  },\n  getTextRect: function (text) {\n    return textContain.getBoundingRect(text, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('rich'), this.getShallow('truncateText'));\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar PathProxy = __webpack_require__(37);\n\nvar transformPath = __webpack_require__(186);\n\n// command chars\nvar cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function (v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vRatio = function (u, v) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\n\nvar vAngle = function (u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n  var psi = psiDeg * (PI / 180.0);\n  var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n  var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= mathSqrt(lambda);\n    ry *= mathSqrt(lambda);\n  }\n\n  var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n  var cxp = f * rx * yp / ry;\n  var cyp = f * -ry * xp / rx;\n  var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n  var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n  var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  var dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = PI;\n  }\n\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * PI;\n  }\n\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * PI;\n  }\n\n  path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nfunction createPathProxyFromString(data) {\n  if (!data) {\n    return [];\n  } // command string\n\n\n  var cs = data.replace(/-/g, ' -').replace(/  /g, ' ').replace(/ /g, ',').replace(/,,/g, ',');\n  var n; // create pipes so that we can split the data\n\n  for (n = 0; n < cc.length; n++) {\n    cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n  } // create array\n\n\n  var arr = cs.split('|'); // init context point\n\n  var cpx = 0;\n  var cpy = 0;\n  var path = new PathProxy();\n  var CMD = PathProxy.CMD;\n  var prevCmd;\n\n  for (n = 1; n < arr.length; n++) {\n    var str = arr[n];\n    var c = str.charAt(0);\n    var off = 0;\n    var p = str.slice(1).replace(/e,-/g, 'e-').split(',');\n    var cmd;\n\n    if (p.length > 0 && p[0] === '') {\n      p.shift();\n    }\n\n    for (var i = 0; i < p.length; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n\n    while (off < p.length && !isNaN(p[off])) {\n      if (isNaN(p[0])) {\n        break;\n      }\n\n      var ctlPtx;\n      var ctlPty;\n      var rx;\n      var ry;\n      var psi;\n      var fa;\n      var fs;\n      var x1 = cpx;\n      var y1 = cpy; // convert l, H, h, V, and v to L\n\n      switch (c) {\n        case 'l':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'L':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'm':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          c = 'l';\n          break;\n\n        case 'M':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          c = 'L';\n          break;\n\n        case 'h':\n          cpx += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'H':\n          cpx = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'v':\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'V':\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'C':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n          cpx = p[off - 2];\n          cpy = p[off - 1];\n          break;\n\n        case 'c':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n          cpx += p[off - 2];\n          cpy += p[off - 1];\n          break;\n\n        case 'S':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 's':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = cpx + p[off++];\n          y1 = cpy + p[off++];\n          cpx += p[off++];\n          cpy += p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 'Q':\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'q':\n          x1 = p[off++] + cpx;\n          y1 = p[off++] + cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'T':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 't':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 'A':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n\n        case 'a':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n      }\n    }\n\n    if (c === 'z' || c === 'Z') {\n      cmd = CMD.Z;\n      path.addData(cmd);\n    }\n\n    prevCmd = cmd;\n  }\n\n  path.toStatic();\n  return path;\n} // TODO Optimize double memory cost problem\n\n\nfunction createPathOptions(str, opts) {\n  var pathProxy = createPathProxyFromString(str);\n  opts = opts || {};\n\n  opts.buildPath = function (path) {\n    if (path.setData) {\n      path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    } else {\n      var ctx = path;\n      pathProxy.rebuildPath(ctx);\n    }\n  };\n\n  opts.applyTransform = function (m) {\n    transformPath(pathProxy, m);\n    this.dirty(true);\n  };\n\n  return opts;\n}\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\n\n\nfunction createFromString(str, opts) {\n  return new Path(createPathOptions(str, opts));\n}\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\n\n\nfunction extendFromString(str, opts) {\n  return Path.extend(createPathOptions(str, opts));\n}\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\n\n\nfunction mergePath(pathEls, opts) {\n  var pathList = [];\n  var len = pathEls.length;\n\n  for (var i = 0; i < len; i++) {\n    var pathEl = pathEls[i];\n\n    if (!pathEl.path) {\n      pathEl.createPathProxy();\n    }\n\n    if (pathEl.__dirtyPath) {\n      pathEl.buildPath(pathEl.path, pathEl.shape, true);\n    }\n\n    pathList.push(pathEl.path);\n  }\n\n  var pathBundle = new Path(opts); // Need path proxy.\n\n  pathBundle.createPathProxy();\n\n  pathBundle.buildPath = function (path) {\n    path.appendPath(pathList); // Svg and vml renderer don't have context\n\n    var ctx = path.getContext();\n\n    if (ctx) {\n      path.rebuildPath(ctx);\n    }\n  };\n\n  return pathBundle;\n}\n\nexports.createFromString = createFromString;\nexports.extendFromString = extendFromString;\nexports.mergePath = mergePath;\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar PathProxy = __webpack_require__(37);\n\nvar line = __webpack_require__(101);\n\nvar cubic = __webpack_require__(184);\n\nvar quadratic = __webpack_require__(102);\n\nvar arc = __webpack_require__(185);\n\nvar _util = __webpack_require__(103);\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = __webpack_require__(25);\n\nvar windingLine = __webpack_require__(104);\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // \n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_, y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema == 2) {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc \n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } //  subpath \n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i == 1) {\n      //  L, C, Q\n      //  previous point  point\n      //\n      //  Arc \n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo  subpath, \n        //  closePath \n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE  L, C, Q  NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc \n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc \n\n        var psi = data[i++];\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; //  arc \n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // \n          x0 = x1;\n          y0 = y1;\n        } // zr scale, x\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); //  subpath \n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar curve = __webpack_require__(25);\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 185 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(103);\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * \n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 186 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar PathProxy = __webpack_require__(37);\n\nvar _vector = __webpack_require__(7);\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 187 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\n/**\n * \n * @module zrender/shape/Circle\n */\nvar _default = Path.extend({\n  type: 'circle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    // Better stroking in ShapeBundle\n    // Always do it may have performence issue ( fill may be 2x more cost)\n    if (inBundle) {\n      ctx.moveTo(shape.cx + shape.r, shape.cy);\n    } // else {\n    //     if (ctx.allocate && !ctx.data.length) {\n    //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n    //     }\n    // }\n    // Better stroking in ShapeBundle\n    // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n    ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 188 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar fixClipWithShadow = __webpack_require__(105);\n\n/**\n * \n * @module zrender/graphic/shape/Sector\n */\nvar _default = Path.extend({\n  type: 'sector',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n    ctx.lineTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 189 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\n/**\n * \n * @module zrender/graphic/shape/Ring\n */\nvar _default = Path.extend({\n  type: 'ring',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    r0: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var PI2 = Math.PI * 2;\n    ctx.moveTo(x + shape.r, y);\n    ctx.arc(x, y, shape.r, 0, PI2, false);\n    ctx.moveTo(x + shape.r0, y);\n    ctx.arc(x, y, shape.r0, 0, PI2, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 190 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar polyHelper = __webpack_require__(106);\n\n/**\n * \n * @module zrender/shape/Polygon\n */\nvar _default = Path.extend({\n  type: 'polygon',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 191 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(7);\n\nvar v2Distance = _vector.distance;\n\n/**\n * Catmull-Rom spline \n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points \n * @param {boolean} isLoop\n * @return {Array}\n */\n\n\nfunction _default(points, isLoop) {\n  var len = points.length;\n  var ret = [];\n  var distance = 0;\n\n  for (var i = 1; i < len; i++) {\n    distance += v2Distance(points[i - 1], points[i]);\n  }\n\n  var segs = distance / 2;\n  segs = segs < len ? len : segs;\n\n  for (var i = 0; i < segs; i++) {\n    var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n    var idx = Math.floor(pos);\n    var w = pos - idx;\n    var p0;\n    var p1 = points[idx % len];\n    var p2;\n    var p3;\n\n    if (!isLoop) {\n      p0 = points[idx === 0 ? idx : idx - 1];\n      p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n      p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n    } else {\n      p0 = points[(idx - 1 + len) % len];\n      p2 = points[(idx + 1) % len];\n      p3 = points[(idx + 2) % len];\n    }\n\n    var w2 = w * w;\n    var w3 = w * w2;\n    ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n  }\n\n  return ret;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 192 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(7);\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * \n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * \n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points \n * @param {number} smooth , 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint \n *                            [[0, 0], [100, 100]], \n *                           \n * @param {Array} \n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min, max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // \n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 193 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar polyHelper = __webpack_require__(106);\n\n/**\n * @module zrender/graphic/shape/Polyline\n */\nvar _default = Path.extend({\n  type: 'polyline',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, false);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 194 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar roundRectHelper = __webpack_require__(100);\n\n/**\n * \n * @module zrender/graphic/shape/Rect\n */\nvar _default = Path.extend({\n  type: 'rect',\n  shape: {\n    // r1r2r3r4\n    // r1          [1, 1, 1, 1]\n    // r[1]        [1, 1, 1, 1]\n    // r[1, 2]     [1, 2, 1, 2]\n    // r[1, 2, 3]  [1, 2, 3, 2]\n    r: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n\n    if (!shape.r) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, shape);\n    }\n\n    ctx.closePath();\n    return;\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 195 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\n/**\n * \n * @module zrender/graphic/shape/Line\n */\nvar _default = Path.extend({\n  type: 'line',\n  shape: {\n    // Start point\n    x1: 0,\n    y1: 0,\n    // End point\n    x2: 0,\n    y2: 0,\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (percent < 1) {\n      x2 = x1 * (1 - percent) + x2 * percent;\n      y2 = y1 * (1 - percent) + y2 * percent;\n    }\n\n    ctx.lineTo(x2, y2);\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} percent\n   * @return {Array.<number>}\n   */\n  pointAt: function (p) {\n    var shape = this.shape;\n    return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 196 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar vec2 = __webpack_require__(7);\n\nvar _curve = __webpack_require__(25);\n\nvar quadraticSubdivide = _curve.quadraticSubdivide;\nvar cubicSubdivide = _curve.cubicSubdivide;\nvar quadraticAt = _curve.quadraticAt;\nvar cubicAt = _curve.cubicAt;\nvar quadraticDerivativeAt = _curve.quadraticDerivativeAt;\nvar cubicDerivativeAt = _curve.cubicDerivativeAt;\n\n/**\n * \n * @module zrender/shape/BezierCurve\n */\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 === null || cpy2 === null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar _default = Path.extend({\n  type: 'bezier-curve',\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    // cpx2: 0,\n    // cpy2: 0\n    // Curve show percent, for animating\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  pointAt: function (t) {\n    return someVectorAt(this.shape, t, false);\n  },\n\n  /**\n   * Get tangent at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  tangentAt: function (t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 197 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\n/**\n * \n * @module zrender/graphic/shape/Arc\n */\nvar _default = Path.extend({\n  type: 'arc',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 198 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\n// CompoundPath to improve performance\nvar _default = Path.extend({\n  type: 'compound',\n  shape: {\n    paths: null\n  },\n  _updatePathDirty: function () {\n    var dirtyPath = this.__dirtyPath;\n    var paths = this.shape.paths;\n\n    for (var i = 0; i < paths.length; i++) {\n      // Mark as dirty if any subpath is dirty\n      dirtyPath = dirtyPath || paths[i].__dirtyPath;\n    }\n\n    this.__dirtyPath = dirtyPath;\n    this.__dirty = this.__dirty || dirtyPath;\n  },\n  beforeBrush: function () {\n    this._updatePathDirty();\n\n    var paths = this.shape.paths || [];\n    var scale = this.getGlobalScale(); // Update path scale\n\n    for (var i = 0; i < paths.length; i++) {\n      if (!paths[i].path) {\n        paths[i].createPathProxy();\n      }\n\n      paths[i].path.setScale(scale[0], scale[1]);\n    }\n  },\n  buildPath: function (ctx, shape) {\n    var paths = shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].buildPath(ctx, paths[i].shape, true);\n    }\n  },\n  afterBrush: function () {\n    var paths = this.shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].__dirtyPath = false;\n    }\n  },\n  getBoundingRect: function () {\n    this._updatePathDirty();\n\n    return Path.prototype.getBoundingRect.call(this);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 199 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Gradient = __webpack_require__(56);\n\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\nvar RadialGradient = function (x, y, r, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'radial', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0.5 : x;\n  this.y = y == null ? 0.5 : y;\n  this.r = r == null ? 0.5 : r; // Can be cloned\n\n  this.type = 'radial'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n  constructor: RadialGradient\n};\nzrUtil.inherits(RadialGradient, Gradient);\nvar _default = RadialGradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 200 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\nvar _default = {\n  getItemStyle: function (excludes, includes) {\n    var style = getItemStyle(this, excludes, includes);\n    var lineDash = this.getBorderLineDash();\n    lineDash && (style.lineDash = lineDash);\n    return style;\n  },\n  getBorderLineDash: function () {\n    var lineType = this.get('borderType');\n    return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 201 */\n/***/ (function(module, exports) {\n\nvar _default = {\n  getBoxLayoutParams: function () {\n    return {\n      left: this.get('left'),\n      top: this.get('top'),\n      right: this.get('right'),\n      bottom: this.get('bottom'),\n      width: this.get('width'),\n      height: this.get('height')\n    };\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 202 */\n/***/ (function(module, exports) {\n\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  platform = navigator.platform || '';\n}\n\nvar _default = {\n  // \n  // backgroundColor: 'rgba(0,0,0,0)',\n  // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n  // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n  // \n  // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n  // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n  // \n  color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\n  //  Grid \n  // grid: {},\n  // \n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 300,\n  animationEasing: 'exponentialOut',\n  animationEasingUpdate: 'cubicOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 203 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\nfunction ExtensionAPI(chartInstance) {\n  zrUtil.each(echartsAPIList, function (name) {\n    this[name] = zrUtil.bind(chartInstance[name], chartInstance);\n  }, this);\n}\n\nvar _default = ExtensionAPI;\nmodule.exports = _default;\n\n/***/ }),\n/* 204 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar ComponentModel = __webpack_require__(13);\n\n/**\n * ECharts option manager\n *\n * @module {echarts/model/OptionManager}\n */\nvar each = zrUtil.each;\nvar clone = zrUtil.clone;\nvar map = zrUtil.map;\nvar merge = zrUtil.merge;\nvar QUERY_REG = /^(min|max)?(.+)$/;\n/**\n * TERM EXPLANATIONS:\n *\n * [option]:\n *\n *     An object that contains definitions of components. For example:\n *     var option = {\n *         title: {...},\n *         legend: {...},\n *         visualMap: {...},\n *         series: [\n *             {data: [...]},\n *             {data: [...]},\n *             ...\n *         ]\n *     };\n *\n * [rawOption]:\n *\n *     An object input to echarts.setOption. 'rawOption' may be an\n *     'option', or may be an object contains multi-options. For example:\n *     var option = {\n *         baseOption: {\n *             title: {...},\n *             legend: {...},\n *             series: [\n *                 {data: [...]},\n *                 {data: [...]},\n *                 ...\n *             ]\n *         },\n *         timeline: {...},\n *         options: [\n *             {title: {...}, series: {data: [...]}},\n *             {title: {...}, series: {data: [...]}},\n *             ...\n *         ],\n *         media: [\n *             {\n *                 query: {maxWidth: 320},\n *                 option: {series: {x: 20}, visualMap: {show: false}}\n *             },\n *             {\n *                 query: {minWidth: 320, maxWidth: 720},\n *                 option: {series: {x: 500}, visualMap: {show: true}}\n *             },\n *             {\n *                 option: {series: {x: 1200}, visualMap: {show: true}}\n *             }\n *         ]\n *     };\n *\n * @alias module:echarts/model/OptionManager\n * @param {module:echarts/ExtensionAPI} api\n */\n\nfunction OptionManager(api) {\n  /**\n   * @private\n   * @type {module:echarts/ExtensionAPI}\n   */\n  this._api = api;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._timelineOptions = [];\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n\n  this._mediaList = [];\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._mediaDefault;\n  /**\n   * -1, means default.\n   * empty means no media.\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._currentMediaIndices = [];\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._optionBackup;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._newBaseOption;\n} // timeline.notMerge is not supported in ec3. Firstly there is rearly\n// case that notMerge is needed. Secondly supporting 'notMerge' requires\n// rawOption cloned and backuped when timeline changed, which does no\n// good to performance. What's more, that both timeline and setOption\n// method supply 'notMerge' brings complex and some problems.\n// Consider this case:\n// (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n// (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\n\nOptionManager.prototype = {\n  constructor: OptionManager,\n\n  /**\n   * @public\n   * @param {Object} rawOption Raw option.\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Array.<Function>} optionPreprocessorFuncs\n   * @return {Object} Init option\n   */\n  setOption: function (rawOption, optionPreprocessorFuncs) {\n    rawOption = clone(rawOption, true); // FIXME\n    //  timeline options  media baseOption\n\n    var oldOptionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption.call(this, rawOption, optionPreprocessorFuncs, !oldOptionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (oldOptionBackup) {\n      // Only baseOption can be merged.\n      mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption); // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline opitons will not be merged to the formers, but just substitude them.\n\n      if (newParsedOption.timelineOptions.length) {\n        oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n\n      if (newParsedOption.mediaList.length) {\n        oldOptionBackup.mediaList = newParsedOption.mediaList;\n      }\n\n      if (newParsedOption.mediaDefault) {\n        oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  },\n\n  /**\n   * @param {boolean} isRecreate\n   * @return {Object}\n   */\n  mountOption: function (isRecreate) {\n    var optionBackup = this._optionBackup; // TODO\n    // resetclone\n\n    this._timelineOptions = map(optionBackup.timelineOptions, clone);\n    this._mediaList = map(optionBackup.mediaList, clone);\n    this._mediaDefault = clone(optionBackup.mediaDefault);\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  },\n\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Object}\n   */\n  getTimelineOption: function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n\n      if (timelineModel) {\n        option = clone(timelineOptions[timelineModel.getCurrentIndex()], true);\n      }\n    }\n\n    return option;\n  },\n\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Array.<Object>}\n   */\n  getMediaOption: function (ecModel) {\n    var ecWidth = this._api.getWidth();\n\n    var ecHeight = this._api.getHeight();\n\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // mediaDefault\n\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n\n    this._currentMediaIndices = indices;\n    return result;\n  }\n};\n\nfunction parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n  var timelineOptions = [];\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption; // Compatible with ec2.\n\n  var timelineOpt = rawOption.timeline;\n\n  if (rawOption.baseOption) {\n    baseOption = rawOption.baseOption;\n  } // For timeline\n\n\n  if (timelineOpt || rawOption.options) {\n    baseOption = baseOption || {};\n    timelineOptions = (rawOption.options || []).slice();\n  } // For media query\n\n\n  if (rawOption.media) {\n    baseOption = baseOption || {};\n    var media = rawOption.media;\n    each(media, function (singleMedia) {\n      if (singleMedia && singleMedia.option) {\n        if (singleMedia.query) {\n          mediaList.push(singleMedia);\n        } else if (!mediaDefault) {\n          // Use the first media default.\n          mediaDefault = singleMedia;\n        }\n      }\n    });\n  } // For normal option\n\n\n  if (!baseOption) {\n    baseOption = rawOption;\n  } // Set timelineOpt to baseOption in ec3,\n  // which is convenient for merge option.\n\n\n  if (!baseOption.timeline) {\n    baseOption.timeline = timelineOpt;\n  } // Preprocess.\n\n\n  each([baseOption].concat(timelineOptions).concat(zrUtil.map(mediaList, function (media) {\n    return media.option;\n  })), function (option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  });\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptions,\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n  };\n  var applicatable = true;\n  zrUtil.each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicatable = false;\n    }\n  });\n  return applicatable;\n}\n\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\n\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handle its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performace expensive)\n */\n\n\nfunction mergeOption(oldOption, newOption) {\n  newOption = newOption || {};\n  each(newOption, function (newCptOpt, mainType) {\n    if (newCptOpt == null) {\n      return;\n    }\n\n    var oldCptOpt = oldOption[mainType];\n\n    if (!ComponentModel.hasClass(mainType)) {\n      oldOption[mainType] = merge(oldCptOpt, newCptOpt, true);\n    } else {\n      newCptOpt = modelUtil.normalizeToArray(newCptOpt);\n      oldCptOpt = modelUtil.normalizeToArray(oldCptOpt);\n      var mapResult = modelUtil.mappingToExists(oldCptOpt, newCptOpt);\n      oldOption[mainType] = map(mapResult, function (item) {\n        return item.option && item.exist ? merge(item.exist, item.option, true) : item.exist || item.option;\n      });\n    }\n  });\n}\n\nvar _default = OptionManager;\nmodule.exports = _default;\n\n/***/ }),\n/* 205 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(0);\n\nvar each = _util.each;\nvar isArray = _util.isArray;\nvar isObject = _util.isObject;\n\nvar compatStyle = __webpack_require__(206);\n\nvar _model = __webpack_require__(5);\n\nvar normalizeToArray = _model.normalizeToArray;\n\n// Compatitable with 2.0\nfunction get(opt, path) {\n  path = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < path.length; i++) {\n    obj = obj && obj[path[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  path = path.split(',');\n  var obj = opt;\n  var key;\n\n  for (var i = 0; i < path.length - 1; i++) {\n    key = path[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[path[i]] == null) {\n    obj[path[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar COMPATITABLE_SERIES = ['bar', 'boxplot', 'candlestick', 'chord', 'effectScatter', 'funnel', 'gauge', 'lines', 'graph', 'heatmap', 'line', 'map', 'parallel', 'pie', 'radar', 'sankey', 'scatter', 'treemap'];\n\nfunction _default(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n      }\n    }\n\n    if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.normal.color', pointerColor);\n    }\n\n    for (var i = 0; i < COMPATITABLE_SERIES.length; i++) {\n      if (COMPATITABLE_SERIES[i] === seriesOpt.type) {\n        compatLayoutProperties(seriesOpt);\n        break;\n      }\n    }\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 206 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction compatTextStyle(opt, propName) {\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var propName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(propName)) {\n        labelOptSingle[propName] = textStyle[propName];\n      }\n    }\n  }\n}\n\nfunction compatLabelTextStyle(labelOpt) {\n  if (isObject(labelOpt)) {\n    compatTextStyle(labelOpt, 'normal');\n    compatTextStyle(labelOpt, 'emphasis');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatItemStyle(seriesOpt);\n  compatLabelTextStyle(seriesOpt.label); // treemap\n\n  compatLabelTextStyle(seriesOpt.upperLabel); // graph\n\n  compatLabelTextStyle(seriesOpt.edgeLabel);\n  var markPoint = seriesOpt.markPoint;\n  compatItemStyle(markPoint);\n  compatLabelTextStyle(markPoint && markPoint.label);\n  var markLine = seriesOpt.markLine;\n  compatItemStyle(seriesOpt.markLine);\n  compatLabelTextStyle(markLine && markLine.label);\n  var markArea = seriesOpt.markArea;\n  compatLabelTextStyle(markArea && markArea.label); // For gauge\n\n  compatTextStyle(seriesOpt, 'axisLabel');\n  compatTextStyle(seriesOpt, 'title');\n  compatTextStyle(seriesOpt, 'detail');\n  var data = seriesOpt.data;\n\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      compatItemStyle(data[i]);\n      compatLabelTextStyle(data[i] && data[i].label);\n    }\n  } // mark point data\n\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatItemStyle(mpData[i]);\n      compatLabelTextStyle(mpData[i] && mpData[i].label);\n    }\n  } // mark line data\n\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatItemStyle(mlData[i][0]);\n        compatLabelTextStyle(mlData[i][0] && mlData[i][0].label);\n        compatItemStyle(mlData[i][1]);\n        compatLabelTextStyle(mlData[i][1] && mlData[i][1].label);\n      } else {\n        compatItemStyle(mlData[i]);\n        compatLabelTextStyle(mlData[i] && mlData[i].label);\n      }\n    }\n  }\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nfunction _default(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name');\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatLabelTextStyle(geoOpt.label);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatLabelTextStyle(regionObj.label);\n      });\n    }\n  });\n  compatLabelTextStyle(toObj(option.timeline).label);\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 207 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Gradient = __webpack_require__(56);\n\nfunction _default(ecModel) {\n  function encodeColor(seriesModel) {\n    var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.normal.color').split('.');\n    var data = seriesModel.getData();\n    var color = seriesModel.get(colorAccessPath) // Set in itemStyle\n    || seriesModel.getColorFromPalette(seriesModel.get('name')); // Default color\n    // FIXME Set color function or use the platte color\n\n    data.setVisual('color', color); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      if (typeof color === 'function' && !(color instanceof Gradient)) {\n        data.each(function (idx) {\n          data.setItemVisual(idx, 'color', color(seriesModel.getDataParams(idx)));\n        });\n      } // itemStyle in each data item\n\n\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var color = itemModel.get(colorAccessPath, true);\n\n        if (color != null) {\n          data.setItemVisual(idx, 'color', color);\n        }\n      });\n    }\n  }\n\n  ecModel.eachRawSeries(encodeColor);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 208 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nfunction _default(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    color: '#c23531',\n    textColor: '#000',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    zlevel: 0\n  });\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  var arc = new graphic.Arc({\n    shape: {\n      startAngle: -PI / 2,\n      endAngle: -PI / 2 + 0.1,\n      r: 10\n    },\n    style: {\n      stroke: opts.color,\n      lineCap: 'round',\n      lineWidth: 5\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none',\n      text: opts.text,\n      textPosition: 'right',\n      textDistance: 10,\n      textFill: opts.textColor\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  arc.animateShape(true).when(1000, {\n    endAngle: PI * 3 / 2\n  }).start('circularInOut');\n  arc.animateShape(true).when(1000, {\n    startAngle: PI * 3 / 2\n  }).delay(300).start('circularInOut');\n  var group = new graphic.Group();\n  group.add(arc);\n  group.add(labelRect);\n  group.add(mask); // Inject resize\n\n  group.resize = function () {\n    var cx = api.getWidth() / 2;\n    var cy = api.getHeight() / 2;\n    arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    var r = arc.shape.r;\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 209 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar createListFromArray = __webpack_require__(27);\n\nvar axisHelper = __webpack_require__(17);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar Model = __webpack_require__(10);\n\nvar _completeDimensions = __webpack_require__(19);\n\nexports.completeDimensions = _completeDimensions;\n\nvar _symbol = __webpack_require__(18);\n\nexports.createSymbol = _symbol.createSymbol;\n\n/**\n * Create a muti dimension List structure from seriesModel.\n * @param  {module:echarts/model/Model} seriesModel\n * @return {module:echarts/data/List} list\n */\nfunction createList(seriesModel) {\n  var data = seriesModel.get('data');\n  return createListFromArray(data, seriesModel, seriesModel.ecModel);\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n */\n\n\n/**\n * Create scale\n * @param {Array.<number>} dataExtent\n * @param {Object|module:echarts/Model} option\n */\nfunction createScale(dataExtent, option) {\n  var axisModel = option;\n\n  if (!(option instanceof Model)) {\n    axisModel = new Model(option);\n    zrUtil.mixin(axisModel, axisModelCommonMixin);\n  }\n\n  var scale = axisHelper.createScaleByModel(axisModel);\n  scale.setExtent(dataExtent[0], dataExtent[1]);\n  axisHelper.niceScaleExtent(scale, axisModel);\n  return scale;\n}\n/**\n * Mixin common methods to axis model,\n *\n * Inlcude methods\n * `getFormattedLabels() => Array.<string>`\n * `getCategories() => Array.<string>`\n * `getMin(origin: boolean) => number`\n * `getMax(origin: boolean) => number`\n * `getNeedCrossZero() => boolean`\n * `setRange(start: number, end: number)`\n * `resetRange()`\n */\n\n\nfunction mixinAxisModelCommonMethods(Model) {\n  zrUtil.mixin(Model, axisModelCommonMixin);\n}\n\nexports.createList = createList;\nexports.createScale = createScale;\nexports.mixinAxisModelCommonMethods = mixinAxisModelCommonMethods;\n\n/***/ }),\n/* 210 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Scale = __webpack_require__(57);\n\n/**\n * Linear continuous scale\n * @module echarts/coord/scale/Ordinal\n *\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\nvar scaleProto = Scale.prototype;\nvar OrdinalScale = Scale.extend({\n  type: 'ordinal',\n  init: function (data, extent) {\n    this._data = data;\n    this._extent = extent || [0, data.length - 1];\n  },\n  parse: function (val) {\n    return typeof val === 'string' ? zrUtil.indexOf(this._data, val) // val might be float.\n    : Math.round(val);\n  },\n  contain: function (rank) {\n    rank = this.parse(rank);\n    return scaleProto.contain.call(this, rank) && this._data[rank] != null;\n  },\n\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param {number|string} [val]\n   * @return {number}\n   */\n  normalize: function (val) {\n    return scaleProto.normalize.call(this, this.parse(val));\n  },\n  scale: function (val) {\n    return Math.round(scaleProto.scale.call(this, val));\n  },\n\n  /**\n   * @return {Array}\n   */\n  getTicks: function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push(rank);\n      rank++;\n    }\n\n    return ticks;\n  },\n\n  /**\n   * Get item on rank n\n   * @param {number} n\n   * @return {string}\n   */\n  getLabel: function (n) {\n    return this._data[n];\n  },\n\n  /**\n   * @return {number}\n   */\n  count: function () {\n    return this._extent[1] - this._extent[0] + 1;\n  },\n\n  /**\n   * @override\n   */\n  unionExtentFromData: function (data, dim) {\n    this.unionExtent(data.getDataExtent(dim, false));\n  },\n  niceTicks: zrUtil.noop,\n  niceExtent: zrUtil.noop\n});\n/**\n * @return {module:echarts/scale/Time}\n */\n\nOrdinalScale.create = function () {\n  return new OrdinalScale();\n};\n\nvar _default = OrdinalScale;\nmodule.exports = _default;\n\n/***/ }),\n/* 211 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar numberUtil = __webpack_require__(3);\n\nvar formatUtil = __webpack_require__(8);\n\nvar scaleHelper = __webpack_require__(110);\n\nvar IntervalScale = __webpack_require__(58);\n\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design have\n// concidered these common case:\n// (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\nvar intervalScaleProto = IntervalScale.prototype;\nvar mathCeil = Math.ceil;\nvar mathFloor = Math.floor;\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = ONE_SECOND * 60;\nvar ONE_HOUR = ONE_MINUTE * 60;\nvar ONE_DAY = ONE_HOUR * 24; // FIXME \n\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n/**\n * @alias module:echarts/coord/scale/Time\n * @constructor\n */\n\n\nvar TimeScale = IntervalScale.extend({\n  type: 'time',\n\n  /**\n   * @override\n   */\n  getLabel: function (val) {\n    var stepLvl = this._stepLvl;\n    var date = new Date(val);\n    return formatUtil.formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n  },\n\n  /**\n   * @override\n   */\n  niceExtent: function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = numberUtil.round(mathFloor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = numberUtil.round(mathCeil(extent[1] / interval) * interval);\n    }\n  },\n\n  /**\n   * @override\n   */\n  niceTicks: function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    var approxInterval = span / approxTickNum;\n\n    if (minInterval != null && approxInterval < minInterval) {\n      approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && approxInterval > maxInterval) {\n      approxInterval = maxInterval;\n    }\n\n    var scaleLevelsLen = scaleLevels.length;\n    var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n    var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n    var interval = level[1]; // Same with interval scale if span is much larger than 1 year\n\n    if (level[0] === 'year') {\n      var yearSpan = span / interval; // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n      // var niceYearSpan = numberUtil.nice(yearSpan, false);\n\n      var yearStep = numberUtil.nice(yearSpan / approxTickNum, true);\n      interval *= yearStep;\n    }\n\n    var timezoneOffset = this.getSetting('useUTC') ? 0 : new Date(+extent[0] || +extent[1]).getTimezoneOffset() * 60 * 1000;\n    var niceExtent = [Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset), Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)];\n    scaleHelper.fixExtent(niceExtent, extent);\n    this._stepLvl = level; // Interval will be used in getTicks\n\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  },\n  parse: function (val) {\n    // val might be float.\n    return +numberUtil.parseDate(val);\n  }\n});\nzrUtil.each(['contain', 'normalize'], function (methodName) {\n  TimeScale.prototype[methodName] = function (val) {\n    return intervalScaleProto[methodName].call(this, this.parse(val));\n  };\n}); // Steps from d3\n\nvar scaleLevels = [// Format              interval\n['hh:mm:ss', ONE_SECOND], // 1s\n['hh:mm:ss', ONE_SECOND * 5], // 5s\n['hh:mm:ss', ONE_SECOND * 10], // 10s\n['hh:mm:ss', ONE_SECOND * 15], // 15s\n['hh:mm:ss', ONE_SECOND * 30], // 30s\n['hh:mm\\nMM-dd', ONE_MINUTE], // 1m\n['hh:mm\\nMM-dd', ONE_MINUTE * 5], // 5m\n['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n['hh:mm\\nMM-dd', ONE_HOUR], // 1h\n['hh:mm\\nMM-dd', ONE_HOUR * 2], // 2h\n['hh:mm\\nMM-dd', ONE_HOUR * 6], // 6h\n['hh:mm\\nMM-dd', ONE_HOUR * 12], // 12h\n['MM-dd\\nyyyy', ONE_DAY], // 1d\n['MM-dd\\nyyyy', ONE_DAY * 2], // 2d\n['MM-dd\\nyyyy', ONE_DAY * 3], // 3d\n['MM-dd\\nyyyy', ONE_DAY * 4], // 4d\n['MM-dd\\nyyyy', ONE_DAY * 5], // 5d\n['MM-dd\\nyyyy', ONE_DAY * 6], // 6d\n['week', ONE_DAY * 7], // 7d\n['MM-dd\\nyyyy', ONE_DAY * 10], // 10d\n['week', ONE_DAY * 14], // 2w\n['week', ONE_DAY * 21], // 3w\n['month', ONE_DAY * 31], // 1M\n['week', ONE_DAY * 42], // 6w\n['month', ONE_DAY * 62], // 2M\n['week', ONE_DAY * 42], // 10w\n['quarter', ONE_DAY * 380 / 4], // 3M\n['month', ONE_DAY * 31 * 4], // 4M\n['month', ONE_DAY * 31 * 5], // 5M\n['half-year', ONE_DAY * 380 / 2], // 6M\n['month', ONE_DAY * 31 * 8], // 8M\n['month', ONE_DAY * 31 * 10], // 10M\n['year', ONE_DAY * 380] // 1Y\n];\n/**\n * @param {module:echarts/model/Model}\n * @return {module:echarts/scale/Time}\n */\n\nTimeScale.create = function (model) {\n  return new TimeScale({\n    useUTC: model.ecModel.get('useUTC')\n  });\n};\n\nvar _default = TimeScale;\nmodule.exports = _default;\n\n/***/ }),\n/* 212 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Scale = __webpack_require__(57);\n\nvar numberUtil = __webpack_require__(3);\n\nvar IntervalScale = __webpack_require__(58);\n\n/**\n * Log scale\n * @module echarts/scale/Log\n */\n// Use some method of IntervalScale\nvar scaleProto = Scale.prototype;\nvar intervalScaleProto = IntervalScale.prototype;\nvar getPrecisionSafe = numberUtil.getPrecisionSafe;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\nvar LogScale = Scale.extend({\n  type: 'log',\n  base: 10,\n  $constructor: function () {\n    Scale.apply(this, arguments);\n    this._originalScale = new IntervalScale();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getTicks: function () {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    return zrUtil.map(intervalScaleProto.getTicks.call(this), function (val) {\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && originalScale.__fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && originalScale.__fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return powVal;\n    }, this);\n  },\n\n  /**\n   * @param {number} val\n   * @return {string}\n   */\n  getLabel: intervalScaleProto.getLabel,\n\n  /**\n   * @param  {number} val\n   * @return {number}\n   */\n  scale: function (val) {\n    val = scaleProto.scale.call(this, val);\n    return mathPow(this.base, val);\n  },\n\n  /**\n   * @param {number} start\n   * @param {number} end\n   */\n  setExtent: function (start, end) {\n    var base = this.base;\n    start = mathLog(start) / mathLog(base);\n    end = mathLog(end) / mathLog(base);\n    intervalScaleProto.setExtent.call(this, start, end);\n  },\n\n  /**\n   * @return {number} end\n   */\n  getExtent: function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  },\n\n  /**\n   * @param  {Array.<number>} extent\n   */\n  unionExtent: function (extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  },\n\n  /**\n   * @override\n   */\n  unionExtentFromData: function (data, dim) {\n    this.unionExtent(data.getDataExtent(dim, true, function (val) {\n      return val > 0;\n    }));\n  },\n\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param  {number} [approxTickNum = 10] Given approx tick number\n   */\n  niceTicks: function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  },\n\n  /**\n   * Nice extent.\n   * @override\n   */\n  niceExtent: function (opt) {\n    intervalScaleProto.niceExtent.call(this, opt);\n    var originalScale = this._originalScale;\n    originalScale.__fixMin = opt.fixMin;\n    originalScale.__fixMax = opt.fixMax;\n  }\n});\nzrUtil.each(['contain', 'normalize'], function (methodName) {\n  LogScale.prototype[methodName] = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleProto[methodName].call(this, val);\n  };\n});\n\nLogScale.create = function () {\n  return new LogScale();\n};\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, getPrecisionSafe(originalVal));\n}\n\nvar _default = LogScale;\nmodule.exports = _default;\n\n/***/ }),\n/* 213 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(214);\n\n__webpack_require__(215);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar layoutPoints = __webpack_require__(74);\n\nvar dataSample = __webpack_require__(217);\n\n__webpack_require__(45);\n\n// In case developer forget to include grid component\necharts.registerVisual(zrUtil.curry(visualSymbol, 'line', 'circle', 'line'));\necharts.registerLayout(zrUtil.curry(layoutPoints, 'line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, zrUtil.curry(dataSample, 'line'));\n\n/***/ }),\n/* 214 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = __webpack_require__(27);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clipOverflow: true,\n    // cursor: null,\n    label: {\n      normal: {\n        position: 'top'\n      }\n    },\n    // itemStyle: {\n    //     normal: {},\n    //     emphasis: {}\n    // },\n    lineStyle: {\n      normal: {\n        width: 2,\n        type: 'solid'\n      }\n    },\n    // areaStyle: {},\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    // \n    symbol: 'emptyCircle',\n    // \n    symbolSize: 4,\n    // \n    symbolRotate: null,\n    //  symbol,  tooltip hover \n    showSymbol: true,\n    // \n    showAllSymbol: false,\n    // \n    connectNulls: false,\n    // 'average', 'max', 'min', 'sum'\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 215 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar SymbolDraw = __webpack_require__(44);\n\nvar SymbolClz = __webpack_require__(59);\n\nvar lineAnimationDiff = __webpack_require__(216);\n\nvar graphic = __webpack_require__(2);\n\nvar modelUtil = __webpack_require__(5);\n\nvar _poly = __webpack_require__(115);\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = __webpack_require__(26);\n\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.3 : 0;\n}\n\nfunction getAxisExtentWithGap(axis) {\n  var extent = axis.getGlobalExtent();\n\n  if (axis.onBand) {\n    // Remove extra 1px to avoid line miter in clipped edge\n    var halfBandWidth = axis.getBandWidth() / 2 - 1;\n    var dir = extent[1] > extent[0] ? 1 : -1;\n    extent[0] += dir * halfBandWidth;\n    extent[1] -= dir * halfBandWidth;\n  }\n\n  return extent;\n}\n\nfunction sign(val) {\n  return val >= 0 ? 1 : -1;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Array.<Array.<number>>} points\n * @private\n */\n\n\nfunction getStackedOnPoints(coordSys, data) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = 0;\n\n  if (!baseAxis.onZero) {\n    var extent = valueAxis.scale.getExtent();\n\n    if (extent[0] > 0) {\n      // Both positive\n      valueStart = extent[0];\n    } else if (extent[1] < 0) {\n      // Both negative\n      valueStart = extent[1];\n    } // If is one positive, and one negative, onZero shall be true\n\n  }\n\n  var valueDim = valueAxis.dim;\n  var baseDataOffset = valueDim === 'x' || valueDim === 'radius' ? 1 : 0;\n  return data.mapArray([valueDim], function (val, idx) {\n    var stackedOnSameSign;\n    var stackedOn = data.stackedOn; // Find first stacked value with same sign\n\n    while (stackedOn && sign(stackedOn.get(valueDim, idx)) === sign(val)) {\n      stackedOnSameSign = stackedOn;\n      break;\n    }\n\n    var stackedData = [];\n    stackedData[baseDataOffset] = data.get(baseAxis.dim, idx);\n    stackedData[1 - baseDataOffset] = stackedOnSameSign ? stackedOnSameSign.get(valueDim, idx, true) : valueStart;\n    return coordSys.dataToPoint(stackedData);\n  }, true);\n}\n\nfunction createGridClipShape(cartesian, hasAnimation, seriesModel) {\n  var xExtent = getAxisExtentWithGap(cartesian.getAxis('x'));\n  var yExtent = getAxisExtentWithGap(cartesian.getAxis('y'));\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = Math.min(xExtent[0], xExtent[1]);\n  var y = Math.min(yExtent[0], yExtent[1]);\n  var width = Math.max(xExtent[0], xExtent[1]) - x;\n  var height = Math.max(yExtent[0], yExtent[1]) - y;\n  var lineWidth = seriesModel.get('lineStyle.normal.width') || 2; // Expand clip shape to avoid clipping when line value exceeds axis\n\n  var expandSize = seriesModel.get('clipOverflow') ? lineWidth / 2 : Math.max(width, height);\n\n  if (isHorizontal) {\n    y -= expandSize;\n    height += expandSize * 2;\n  } else {\n    x -= expandSize;\n    width += expandSize * 2;\n  }\n\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipShape(polar, hasAnimation, seriesModel) {\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis();\n  var radiusExtent = radiusAxis.getExtent();\n  var angleExtent = angleAxis.getExtent();\n  var RADIAN = Math.PI / 180;\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: polar.cx,\n      cy: polar.cy,\n      r0: radiusExtent[0],\n      r: radiusExtent[1],\n      startAngle: -angleExtent[0] * RADIAN,\n      endAngle: -angleExtent[1] * RADIAN,\n      clockwise: angleAxis.inverse\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = -angleExtent[0] * RADIAN;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: -angleExtent[1] * RADIAN\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipShape(coordSys, hasAnimation, seriesModel) {\n  return coordSys.type === 'polar' ? createPolarClipShape(coordSys, hasAnimation, seriesModel) : createGridClipShape(coordSys, hasAnimation, seriesModel);\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    // Can only be x or y\n    if (visualMetaList[i].dimension < 2) {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta || coordSys.type !== 'cartesian2d') {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var dimension = visualMeta.dimension;\n  var dimName = data.dimensions[dimension];\n  var axis = coordSys.getAxis(dimName); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[dimName] = minCoord;\n  gradient[dimName + '2'] = maxCoord;\n  return gradient;\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle.normal');\n    var areaStyleModel = seriesModel.getModel('areaStyle.normal');\n    var points = data.mapArray(data.getItemLayout, true);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var stackedOnPoints = getStackedOnPoints(coordSys, data);\n    var showSymbol = seriesModel.get('showSymbol');\n\n    var isSymbolIgnore = showSymbol && !isCoordSysPolar && !seriesModel.get('showAllSymbol') && this._getSymbolIgnoreFunc(data, coordSys); // Remove temporary symbols\n\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step'); // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, isSymbolIgnore);\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createClipShape(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createClipShape(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, isSymbolIgnore); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOn = data.stackedOn;\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOn) {\n        var stackedOnSeries = stackedOn.hostModel;\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  _getSymbolIgnoreFunc: function (data, coordSys) {\n    var categoryAxis = coordSys.getAxesByScale('ordinal')[0]; // `getLabelInterval` is provided by echarts/component/axis\n\n    if (categoryAxis && categoryAxis.isLabelIgnored) {\n      return zrUtil.bind(categoryAxis.isLabelIgnored, categoryAxis);\n    }\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 216 */\n/***/ (function(module, exports) {\n\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\nfunction sign(val) {\n  return val >= 0 ? 1 : -1;\n}\n\nfunction getStackedOnPoint(coordSys, data, idx) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = baseAxis.onZero ? 0 : valueAxis.scale.getExtent()[0];\n  var valueDim = valueAxis.dim;\n  var baseDataOffset = valueDim === 'x' || valueDim === 'radius' ? 1 : 0;\n  var stackedOnSameSign;\n  var stackedOn = data.stackedOn;\n  var val = data.get(valueDim, idx); // Find first stacked value with same sign\n\n  while (stackedOn && sign(stackedOn.get(valueDim, idx)) === sign(val)) {\n    stackedOnSameSign = stackedOn;\n    break;\n  }\n\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(baseAxis.dim, idx);\n  stackedData[1 - baseDataOffset] = stackedOnSameSign ? stackedOnSameSign.get(valueDim, idx, true) : valueStart;\n  return coordSys.dataToPoint(stackedData);\n} // function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\n\n\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var dims = newCoordSys.dimensions;\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(dims[0], idx, true), newData.get(dims[1], idx, true)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(dims[0], idx, true), oldData.get(dims[1], idx, true)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 217 */\n/***/ (function(module, exports) {\n\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    }\n\n    return max;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    }\n\n    return min;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var sampling = seriesModel.get('sampling');\n    var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n    if (coordSys.type === 'cartesian2d' && sampling) {\n      var baseAxis = coordSys.getBaseAxis();\n      var valueAxis = coordSys.getOtherAxis(baseAxis);\n      var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n      var size = extent[1] - extent[0];\n      var rate = Math.round(data.count() / size);\n\n      if (rate > 1) {\n        var sampler;\n\n        if (typeof sampling === 'string') {\n          sampler = samplers[sampling];\n        } else if (typeof sampling === 'function') {\n          sampler = sampling;\n        }\n\n        if (sampler) {\n          data = data.downSample(valueAxis.dim, 1 / rate, sampler, indexSampler);\n          seriesModel.setData(data);\n        }\n      }\n    }\n  }, this);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 218 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Cartesian = __webpack_require__(219);\n\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, clamp) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    return [xAxis.toGlobalCoord(xAxis.dataToCoord(data[0], clamp)), yAxis.toGlobalCoord(yAxis.dataToCoord(data[1], clamp))];\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, clamp) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    return [xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp), yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp)];\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;\n\n/***/ }),\n/* 219 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;\n\n/***/ }),\n/* 220 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * If axis is on the zero position of the other axis\n   * @type {boolean}\n   */\n  onZero: false,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * If label is ignored.\n   * Automatically used when axis is category and label can not be all shown\n   * @param  {number}  idx\n   * @return {boolean}\n   */\n  isLabelIgnored: function (idx) {\n    if (this.type === 'category') {\n      var labelInterval = this.getLabelInterval();\n      return typeof labelInterval === 'function' && !labelInterval(idx, this.scale.getLabel(idx)) || idx % (labelInterval + 1);\n    }\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;\n\n/***/ }),\n/* 221 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(116);\n\nvar ComponentModel = __webpack_require__(13);\n\n// Grid \n//  Cartesian2D \nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 222 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(116);\n\n__webpack_require__(223);\n\n/***/ }),\n/* 223 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar AxisView = __webpack_require__(34);\n\nvar cartesianAxisHelper = __webpack_require__(118);\n\nvar ifIgnoreOnTick = AxisBuilder.ifIgnoreOnTick;\nvar getInterval = AxisBuilder.getInterval;\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine']; // function getAlignWithLabel(model, axisModel) {\n//     var alignWithLabel = model.get('alignWithLabel');\n//     if (alignWithLabel === 'auto') {\n//         alignWithLabel = axisModel.get('axisTick.alignWithLabel');\n//     }\n//     return alignWithLabel;\n// }\n\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel, layout.labelInterval);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @param {number|Function} labelInterval\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel, labelInterval) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineInterval = getInterval(splitLineModel, labelInterval);\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords();\n    var ticks = axis.scale.getTicks();\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n    var p1 = [];\n    var p2 = []; // Simple optimization\n    // Batching the lines if color are the same\n\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      if (ifIgnoreOnTick(axis, i, lineInterval, ticksCoords.length, showMinLabel, showMaxLabel)) {\n        continue;\n      }\n\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n\n      this._axisGroup.add(new graphic.Line(graphic.subPixelOptimizeLine({\n        anid: 'line_' + ticks[i],\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      })));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @param {number|Function} labelInterval\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel, labelInterval) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitAreaModel = axisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var ticksCoords = axis.getTicksCoords();\n    var ticks = axis.scale.getTicks();\n    var prevX = axis.toGlobalCoord(ticksCoords[0]);\n    var prevY = axis.toGlobalCoord(ticksCoords[0]);\n    var count = 0;\n    var areaInterval = getInterval(splitAreaModel, labelInterval);\n    var areaStyle = areaStyleModel.getAreaStyle();\n    areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      if (ifIgnoreOnTick(axis, i, areaInterval, ticksCoords.length, showMinLabel, showMaxLabel)) {\n        continue;\n      }\n\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (axis.isHorizontal()) {\n        x = prevX;\n        y = gridRect.y;\n        width = tickCoord - x;\n        height = gridRect.height;\n      } else {\n        x = gridRect.x;\n        y = prevY;\n        width = gridRect.width;\n        height = tickCoord - y;\n      }\n\n      var colorIndex = count++ % areaColors.length;\n\n      this._axisGroup.add(new graphic.Rect({\n        anid: 'area_' + ticks[i],\n        shape: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        },\n        style: zrUtil.defaults({\n          fill: areaColors[colorIndex]\n        }, areaStyle),\n        silent: true\n      }));\n\n      prevX = x + width;\n      prevY = y + height;\n    }\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});\n\n/***/ }),\n/* 224 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar barLayoutGrid = __webpack_require__(76);\n\n__webpack_require__(75);\n\n__webpack_require__(225);\n\n__webpack_require__(226);\n\n__webpack_require__(45);\n\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(barLayoutGrid, 'bar')); // Visual coding for legend\n\necharts.registerVisual(function (ecModel) {\n  ecModel.eachSeriesByType('bar', function (seriesModel) {\n    var data = seriesModel.getData();\n    data.setVisual('legendSymbol', 'roundRect');\n  });\n});\n\n/***/ }),\n/* 225 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BaseBarSeries = __webpack_require__(119);\n\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect'\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 226 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar _helper = __webpack_require__(120);\n\nvar setLabel = _helper.setLabel;\n\nvar Model = __webpack_require__(10);\n\nvar barItemStyle = __webpack_require__(227);\n\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'normal', 'barBorderWidth']; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._render(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  _render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n      var el = elementCreator[coord.type](data, dataIndex, itemModel, layout, isHorizontalOrRadial, animationModel);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](data, newIndex, itemModel, layout, isHorizontalOrRadial, animationModel, true);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    this._data = data;\n  },\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (el) {\n          if (el.type === 'sector') {\n            removeSector(el.dataIndex, ecModel, el);\n          } else {\n            removeRect(el.dataIndex, ecModel, el);\n          }\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n});\n\nvar elementCreator = {\n  cartesian2d: function (data, dataIndex, itemModel, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (data, dataIndex, itemModel, layout, isRadial, animationModel, isUpdate) {\n    var sector = new graphic.Sector({\n      shape: zrUtil.extend({}, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = getLineWidth(itemModel, layout); // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var itemStyleModel = itemModel.getModel('itemStyle.normal');\n  var hoverStyle = itemModel.getModel('itemStyle.emphasis').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    fill: color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n  return Math.min(lineWidth, Math.abs(rawLayout.width), Math.abs(rawLayout.height));\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 227 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 228 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(229);\n\n__webpack_require__(230);\n\nvar createDataSelectAction = __webpack_require__(121);\n\nvar dataColor = __webpack_require__(78);\n\nvar pieLayout = __webpack_require__(231);\n\nvar dataFilter = __webpack_require__(62);\n\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(zrUtil.curry(dataColor, 'pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(zrUtil.curry(dataFilter, 'pie'));\n\n/***/ }),\n/* 229 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar List = __webpack_require__(14);\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar _number = __webpack_require__(3);\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar completeDimensions = __webpack_require__(19);\n\nvar dataSelectableMixin = __webpack_require__(77);\n\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n\n    this.updateSelectedMap(option.data);\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this.option.data);\n  },\n  getInitialData: function (option, ecModel) {\n    var dimensions = completeDimensions(['value'], option.data);\n    var list = new List(dimensions, this);\n    list.initData(option.data);\n    return list;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each('value', function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option.labelLine, ['show']);\n    var labelLineNormalOpt = option.labelLine.normal;\n    var labelLineEmphasisOpt = option.labelLine.emphasis; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.normal.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.label.emphasis.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // \n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // \n    clockwise: true,\n    startAngle: 90,\n    // 0\n    minAngle: 0,\n    // \n    selectedOffset: 10,\n    // \n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // singlemultiple\n    // selectedMode: false,\n    // 'radius' | 'area'\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    label: {\n      normal: {\n        // If rotate around circle\n        rotate: false,\n        show: true,\n        // 'outer', 'inside', 'center'\n        position: 'outer' // formatter: Tooltip.formatter\n        // TEXTSTYLE\n        // distance: positioninnerlabel()\n\n      },\n      emphasis: {}\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      normal: {\n        show: true,\n        // \n        length: 15,\n        // \n        length2: 15,\n        smooth: false,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 1\n      },\n      emphasis: {}\n    },\n    // Animation type canbe expansion, scale\n    animationType: 'expansion',\n    animationEasing: 'cubicOut',\n    data: []\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 230 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar ChartView = __webpack_require__(26);\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    polyline.ignore = polyline.hoverIgnore;\n    text.ignore = text.hoverIgnore;\n  }\n\n  function onNormal() {\n    polyline.ignore = polyline.normalIgnore;\n    text.ignore = text.normalIgnore;\n  }\n\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    graphic.updateProps(sector, {\n      shape: sectorShape\n    }, seriesModel, idx);\n  } // Update common style\n\n\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemStyleModel.getModel('normal').getItemStyle()));\n  sector.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), itemModel.get('selected'), seriesModel.get('selectedOffset'), seriesModel.get('animation'));\n\n  function onEmphasis() {\n    // Sector may has animation of updating data. Force to move to the last frame\n    // Or it may stopped on the wrong shape\n    sector.stopAnimation(true);\n    sector.animateTo({\n      shape: {\n        r: layout.r + seriesModel.get('hoverOffset')\n      }\n    }, 300, 'elasticOut');\n  }\n\n  function onNormal() {\n    sector.stopAnimation(true);\n    sector.animateTo({\n      shape: {\n        r: layout.r\n      }\n    }, 300, 'elasticOut');\n  }\n\n  sector.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n  if (itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled()) {\n    sector.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal);\n  }\n\n  this._updateLabel(data, idx);\n\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.updateProps(labelLine, {\n    shape: {\n      points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n    }\n  }, seriesModel, idx);\n  graphic.updateProps(labelText, {\n    style: {\n      x: labelLayout.x,\n      y: labelLayout.y\n    }\n  }, seriesModel, idx);\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label.normal');\n  var labelHoverModel = itemModel.getModel('label.emphasis');\n  var labelLineModel = itemModel.getModel('labelLine.normal');\n  var labelLineHoverModel = itemModel.getModel('labelLine.emphasis');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && isFirstRender && data.count() > 0 // Default expansion animation\n    && animationType !== 'scale') {\n      var shape = data.getItemLayout(0);\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel));\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;\n\n/***/ }),\n/* 231 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar labelLayout = __webpack_require__(232);\n\nvar zrUtil = __webpack_require__(0);\n\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var data = seriesModel.getData();\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each('value', function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum('value'); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent('value');\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each('value', function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r\n        });\n        return;\n      } // FIXME  2.0  roseType  area \n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r\n      });\n      currentAngle = endAngle;\n    }, true); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each('value', function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each('value', function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, width, height);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 232 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar textContain = __webpack_require__(20);\n\n// FIXME emphasis label position is not same with normal label position\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  }); // \n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  } // \n\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // \n    ? Number.MAX_VALUE // \n    : 0 // \n    : isDownList // \n    ? Number.MAX_VALUE // \n    : 0; // \n\n    for (var i = 0, l = list.length; i < l; i++) {\n      // Not change x for center label\n      if (list[i].position === 'center') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // \n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // \n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label.normal'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('label.emphasis.position');\n    var labelLineModel = itemModel.getModel('labelLine.normal');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate = labelModel.get('rotate') ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 233 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(234);\n\n__webpack_require__(235);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar layoutPoints = __webpack_require__(74);\n\n__webpack_require__(45);\n\n// In case developer forget to include grid component\necharts.registerVisual(zrUtil.curry(visualSymbol, 'scatter', 'circle', null));\necharts.registerLayout(zrUtil.curry(layoutPoints, 'scatter'));\n\n/***/ }),\n/* 234 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar createListFromArray = __webpack_require__(27);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar _default = SeriesModel.extend({\n  type: 'series.scatter',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  brushSelector: 'point',\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \n    symbolSize: 10,\n    // symbolSize * 2\n    // symbolRotate: null,  // \n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    // label: {\n    // normal: {\n    // show: false\n    // distance: 5,\n    // formatter: Tooltip.formatter\n    // position: 'top''right'\n    //           'inside'|'left'|'right'|'top'|'bottom'\n    // TEXTSTYLE\n    //     }\n    // },\n    itemStyle: {\n      normal: {\n        opacity: 0.8 // color: \n\n      }\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 235 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar SymbolDraw = __webpack_require__(44);\n\nvar LargeSymbolDraw = __webpack_require__(236);\n\necharts.extendChartView({\n  type: 'scatter',\n  init: function () {\n    this._normalSymbolDraw = new SymbolDraw();\n    this._largeSymbolDraw = new LargeSymbolDraw();\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var largeSymbolDraw = this._largeSymbolDraw;\n    var normalSymbolDraw = this._normalSymbolDraw;\n    var group = this.group;\n    var symbolDraw = seriesModel.get('large') && data.count() > seriesModel.get('largeThreshold') ? largeSymbolDraw : normalSymbolDraw;\n    this._symbolDraw = symbolDraw;\n    symbolDraw.updateData(data);\n    group.add(symbolDraw.group);\n    group.remove(symbolDraw === largeSymbolDraw ? normalSymbolDraw.group : largeSymbolDraw.group);\n  },\n  updateLayout: function (seriesModel) {\n    this._symbolDraw.updateLayout(seriesModel);\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(api, true);\n  },\n  dispose: function () {}\n});\n\n/***/ }),\n/* 236 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n// TODO Batch by color\nvar LargeSymbolPath = graphic.extendShape({\n  shape: {\n    points: null,\n    sizes: null\n  },\n  symbolProxy: null,\n  buildPath: function (path, shape) {\n    var points = shape.points;\n    var sizes = shape.sizes;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (isNaN(pt[0]) || isNaN(pt[1])) {\n        continue;\n      }\n\n      var size = sizes[i];\n\n      if (size[0] < 4) {\n        // Optimize for small symbol\n        path.rect(pt[0] - size[0] / 2, pt[1] - size[1] / 2, size[0], size[1]);\n      } else {\n        symbolProxyShape.x = pt[0] - size[0] / 2;\n        symbolProxyShape.y = pt[1] - size[1] / 2;\n        symbolProxyShape.width = size[0];\n        symbolProxyShape.height = size[1];\n        symbolProxy.buildPath(path, symbolProxyShape, true);\n      }\n    }\n  },\n  findDataIndex: function (x, y) {\n    var shape = this.shape;\n    var points = shape.points;\n    var sizes = shape.sizes; // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var i = points.length - 1; i >= 0; i--) {\n      var pt = points[i];\n      var size = sizes[i];\n      var x0 = pt[0] - size[0] / 2;\n      var y0 = pt[1] - size[1] / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + size[0] && y <= y0 + size[1]) {\n        // i is dataIndex\n        return i;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeSymbolDraw() {\n  this.group = new graphic.Group();\n  this._symbolEl = new LargeSymbolPath({// rectHover: true,\n    // cursor: 'default'\n  });\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nlargeSymbolProto.updateData = function (data) {\n  this.group.removeAll();\n  var symbolEl = this._symbolEl;\n  var seriesModel = data.hostModel;\n  symbolEl.setShape({\n    points: data.mapArray(data.getItemLayout),\n    sizes: data.mapArray(function (idx) {\n      var size = data.getItemVisual(idx, 'symbolSize');\n\n      if (!(size instanceof Array)) {\n        size = [size, size];\n      }\n\n      return size;\n    })\n  }); // Create symbolProxy to build path for each data\n\n  symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n  symbolEl.setColor = symbolEl.symbolProxy.setColor;\n  symbolEl.useStyle(seriesModel.getModel('itemStyle.normal').getItemStyle(['color']));\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    symbolEl.setColor(visualColor);\n  } // Enable tooltip\n  // PENDING May have performance issue when path is extremely large\n\n\n  symbolEl.seriesIndex = seriesModel.seriesIndex;\n  symbolEl.on('mousemove', function (e) {\n    symbolEl.dataIndex = null;\n    var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n    if (dataIndex >= 0) {\n      // Provide dataIndex for tooltip\n      symbolEl.dataIndex = dataIndex;\n    }\n  }); // Add back\n\n  this.group.add(symbolEl);\n};\n\nlargeSymbolProto.updateLayout = function (seriesModel) {\n  var data = seriesModel.getData();\n\n  this._symbolEl.setShape({\n    points: data.mapArray(data.getItemLayout)\n  });\n};\n\nlargeSymbolProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LargeSymbolDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 237 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(238);\n\n__webpack_require__(243);\n\n__webpack_require__(244);\n\nvar dataColor = __webpack_require__(78);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar radarLayout = __webpack_require__(245);\n\nvar dataFilter = __webpack_require__(62);\n\nvar backwardCompat = __webpack_require__(246);\n\n// Must use radar component\necharts.registerVisual(zrUtil.curry(dataColor, 'radar'));\necharts.registerVisual(zrUtil.curry(visualSymbol, 'radar', 'circle', null));\necharts.registerLayout(radarLayout);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'radar'));\necharts.registerPreprocessor(backwardCompat);\n\n/***/ }),\n/* 238 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(239);\n\n__webpack_require__(241);\n\n__webpack_require__(242);\n\n/***/ }),\n/* 239 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar IndicatorAxis = __webpack_require__(240);\n\nvar IntervalScale = __webpack_require__(58);\n\nvar numberUtil = __webpack_require__(3);\n\nvar _axisHelper = __webpack_require__(17);\n\nvar getScaleExtent = _axisHelper.getScaleExtent;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = __webpack_require__(21);\n\n// TODO clockwise\nfunction Radar(radarModel, ecModel, api) {\n  this._model = radarModel;\n  /**\n   * Radar dimensions\n   * @type {Array.<string>}\n   */\n\n  this.dimensions = [];\n  this._indicatorAxes = zrUtil.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n    var dim = 'indicator_' + idx;\n    var indicatorAxis = new IndicatorAxis(dim, new IntervalScale());\n    indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n    indicatorAxis.model = indicatorModel;\n    indicatorModel.axis = indicatorAxis;\n    this.dimensions.push(dim);\n    return indicatorAxis;\n  }, this);\n  this.resize(radarModel, api);\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cx;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cy;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.r;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.startAngle;\n}\n\nRadar.prototype.getIndicatorAxes = function () {\n  return this._indicatorAxes;\n};\n\nRadar.prototype.dataToPoint = function (value, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n};\n\nRadar.prototype.coordToPoint = function (coord, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  var angle = indicatorAxis.angle;\n  var x = this.cx + coord * Math.cos(angle);\n  var y = this.cy - coord * Math.sin(angle);\n  return [x, y];\n};\n\nRadar.prototype.pointToData = function (pt) {\n  var dx = pt[0] - this.cx;\n  var dy = pt[1] - this.cy;\n  var radius = Math.sqrt(dx * dx + dy * dy);\n  dx /= radius;\n  dy /= radius;\n  var radian = Math.atan2(-dy, dx); // Find the closest angle\n  // FIXME index can calculated directly\n\n  var minRadianDiff = Infinity;\n  var closestAxis;\n  var closestAxisIdx = -1;\n\n  for (var i = 0; i < this._indicatorAxes.length; i++) {\n    var indicatorAxis = this._indicatorAxes[i];\n    var diff = Math.abs(radian - indicatorAxis.angle);\n\n    if (diff < minRadianDiff) {\n      closestAxis = indicatorAxis;\n      closestAxisIdx = i;\n      minRadianDiff = diff;\n    }\n  }\n\n  return [closestAxisIdx, +(closestAxis && closestAxis.coodToData(radius))];\n};\n\nRadar.prototype.resize = function (radarModel, api) {\n  var center = radarModel.get('center');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var viewSize = Math.min(viewWidth, viewHeight) / 2;\n  this.cx = numberUtil.parsePercent(center[0], viewWidth);\n  this.cy = numberUtil.parsePercent(center[1], viewHeight);\n  this.startAngle = radarModel.get('startAngle') * Math.PI / 180;\n  this.r = numberUtil.parsePercent(radarModel.get('radius'), viewSize);\n  zrUtil.each(this._indicatorAxes, function (indicatorAxis, idx) {\n    indicatorAxis.setExtent(0, this.r);\n    var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n    angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n    indicatorAxis.angle = angle;\n  }, this);\n};\n\nRadar.prototype.update = function (ecModel, api) {\n  var indicatorAxes = this._indicatorAxes;\n  var radarModel = this._model;\n  zrUtil.each(indicatorAxes, function (indicatorAxis) {\n    indicatorAxis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n    if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n      return;\n    }\n\n    var data = radarSeries.getData();\n    zrUtil.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.unionExtentFromData(data, indicatorAxis.dim);\n    });\n  }, this);\n  var splitNumber = radarModel.get('splitNumber');\n\n  function increaseInterval(interval) {\n    var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n    var f = interval / exp10;\n\n    if (f === 2) {\n      f = 5;\n    } else {\n      // f is 2 or 5\n      f *= 2;\n    }\n\n    return f * exp10;\n  } // Force all the axis fixing the maxSplitNumber.\n\n\n  zrUtil.each(indicatorAxes, function (indicatorAxis, idx) {\n    var rawExtent = getScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n    niceScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n    var axisModel = indicatorAxis.model;\n    var scale = indicatorAxis.scale;\n    var fixedMin = axisModel.getMin();\n    var fixedMax = axisModel.getMax();\n    var interval = scale.getInterval();\n\n    if (fixedMin != null && fixedMax != null) {\n      // User set min, max, divide to get new interval\n      scale.setExtent(+fixedMin, +fixedMax);\n      scale.setInterval((fixedMax - fixedMin) / splitNumber);\n    } else if (fixedMin != null) {\n      var max; // User set min, expand extent on the other side\n\n      do {\n        max = fixedMin + interval * splitNumber;\n        scale.setExtent(+fixedMin, max); // Interval must been set after extent\n        // FIXME\n\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n    } else if (fixedMax != null) {\n      var min; // User set min, expand extent on the other side\n\n      do {\n        min = fixedMax - interval * splitNumber;\n        scale.setExtent(min, +fixedMax);\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n    } else {\n      var nicedSplitNumber = scale.getTicks().length - 1;\n\n      if (nicedSplitNumber > splitNumber) {\n        interval = increaseInterval(interval);\n      } // PENDING\n\n\n      var center = Math.round((rawExtent[0] + rawExtent[1]) / 2 / interval) * interval;\n      var halfSplitNumber = Math.round(splitNumber / 2);\n      scale.setExtent(numberUtil.round(center - halfSplitNumber * interval), numberUtil.round(center + (splitNumber - halfSplitNumber) * interval));\n      scale.setInterval(interval);\n    }\n  });\n};\n/**\n * Radar dimensions is based on the data\n * @type {Array}\n */\n\n\nRadar.dimensions = [];\n\nRadar.create = function (ecModel, api) {\n  var radarList = [];\n  ecModel.eachComponent('radar', function (radarModel) {\n    var radar = new Radar(radarModel, ecModel, api);\n    radarList.push(radar);\n    radarModel.coordinateSystem = radar;\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries) {\n    if (radarSeries.get('coordinateSystem') === 'radar') {\n      // Inject coordinate system\n      radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n    }\n  });\n  return radarList;\n};\n\nCoordinateSystem.register('radar', Radar);\nvar _default = Radar;\nmodule.exports = _default;\n\n/***/ }),\n/* 240 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\nfunction IndicatorAxis(dim, scale, radiusExtent) {\n  Axis.call(this, dim, scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'value';\n  this.angle = 0;\n  /**\n   * Indicator name\n   * @type {string}\n   */\n\n  this.name = '';\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.model;\n}\n\nzrUtil.inherits(IndicatorAxis, Axis);\nvar _default = IndicatorAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 241 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar axisDefault = __webpack_require__(117);\n\nvar Model = __webpack_require__(10);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar valueAxisDefault = axisDefault.valueAxis;\n\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\n\nvar RadarModel = echarts.extendComponentModel({\n  type: 'radar',\n  optionUpdated: function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick');\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('name');\n    var showName = this.get('name.show');\n    var nameFormatter = this.get('name.formatter');\n    var nameGap = this.get('nameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n\n      var iNameTextStyle = nameTextStyle;\n\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      } // Use same configuration\n\n\n      indicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        axisLabel: axisLabel,\n        // Competitable with 2 and use text\n        name: indicatorOpt.text,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n\n      if (!showName) {\n        indicatorOpt.name = '';\n      }\n\n      if (typeof nameFormatter === 'string') {\n        var indName = indicatorOpt.name;\n        indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (typeof nameFormatter === 'function') {\n        indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n      }\n\n      var model = zrUtil.extend(new Model(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n\n    this.getIndicatorModels = function () {\n      return indicatorModels;\n    };\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    name: {\n      show: true // formatter: null\n      // textStyle: {}\n\n    },\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    nameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  }\n});\nvar _default = RadarModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 242 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar graphic = __webpack_require__(2);\n\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n\nvar _default = echarts.extendComponentView({\n  type: 'radar',\n  render: function (radarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n\n    this._buildAxes(radarModel);\n\n    this._buildSplitLineAndArea(radarModel);\n  },\n  _buildAxes: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n        position: [radar.cx, radar.cy],\n        rotation: indicatorAxis.angle,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1\n      });\n      return axisBuilder;\n    });\n    zrUtil.each(axisBuilders, function (axisBuilder) {\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n      this.group.add(axisBuilder.getGroup());\n    }, this);\n  },\n  _buildSplitLineAndArea: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n\n    if (!indicatorAxes.length) {\n      return;\n    }\n\n    var shape = radarModel.get('shape');\n    var splitLineModel = radarModel.getModel('splitLine');\n    var splitAreaModel = radarModel.getModel('splitArea');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var showSplitLine = splitLineModel.get('show');\n    var showSplitArea = splitAreaModel.get('show');\n    var splitLineColors = lineStyleModel.get('color');\n    var splitAreaColors = areaStyleModel.get('color');\n    splitLineColors = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n    splitAreaColors = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n    var splitLines = [];\n    var splitAreas = [];\n\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n      var colorIndex = idx % areaOrLineColorList.length;\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n      return colorIndex;\n    }\n\n    if (shape === 'circle') {\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\n      var cx = radar.cx;\n      var cy = radar.cy;\n\n      for (var i = 0; i < ticksRadius.length; i++) {\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n          splitLines[colorIndex].push(new graphic.Circle({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r: ticksRadius[i]\n            }\n          }));\n        }\n\n        if (showSplitArea && i < ticksRadius.length - 1) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n          splitAreas[colorIndex].push(new graphic.Ring({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r0: ticksRadius[i],\n              r: ticksRadius[i + 1]\n            }\n          }));\n        }\n      }\n    } // Polyyon\n    else {\n        var realSplitNumber;\n        var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\n          var ticksCoords = indicatorAxis.getTicksCoords();\n          realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n          return zrUtil.map(ticksCoords, function (tickCoord) {\n            return radar.coordToPoint(tickCoord, idx);\n          });\n        });\n        var prevPoints = [];\n\n        for (var i = 0; i <= realSplitNumber; i++) {\n          var points = [];\n\n          for (var j = 0; j < indicatorAxes.length; j++) {\n            points.push(axesTicksPoints[j][i]);\n          } // Close\n\n\n          if (points[0]) {\n            points.push(points[0].slice());\n          } else {}\n\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Polyline({\n              shape: {\n                points: points\n              }\n            }));\n          }\n\n          if (showSplitArea && prevPoints) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n            splitAreas[colorIndex].push(new graphic.Polygon({\n              shape: {\n                points: points.concat(prevPoints)\n              }\n            }));\n          }\n\n          prevPoints = points.slice().reverse();\n        }\n      }\n\n    var lineStyle = lineStyleModel.getLineStyle();\n    var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\n      this.group.add(graphic.mergePath(splitAreas, {\n        style: zrUtil.defaults({\n          stroke: 'none',\n          fill: splitAreaColors[idx % splitAreaColors.length]\n        }, areaStyle),\n        silent: true\n      }));\n    }, this);\n    zrUtil.each(splitLines, function (splitLines, idx) {\n      this.group.add(graphic.mergePath(splitLines, {\n        style: zrUtil.defaults({\n          fill: 'none',\n          stroke: splitLineColors[idx % splitLineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }, this);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 243 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SeriesModel = __webpack_require__(15);\n\nvar List = __webpack_require__(14);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\nvar RadarSeries = SeriesModel.extend({\n  type: 'series.radar',\n  dependencies: ['radar'],\n  // Overwrite\n  init: function (option) {\n    RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n  },\n  getInitialData: function (option, ecModel) {\n    var data = option.data || [];\n    var dimensions = completeDimensions([], data, {\n      extraPrefix: 'indicator_',\n      extraFromZero: true\n    });\n    var list = new List(dimensions, this);\n    list.initData(data);\n    return list;\n  },\n  formatTooltip: function (dataIndex) {\n    var value = this.getRawValue(dataIndex);\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    return encodeHTML(name === '' ? this.name : name) + '<br/>' + zrUtil.map(indicatorAxes, function (axis, idx) {\n      return encodeHTML(axis.name + ' : ' + value[idx]);\n    }).join('<br />');\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      normal: {\n        width: 2,\n        type: 'solid'\n      }\n    },\n    label: {\n      normal: {\n        position: 'top'\n      }\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbol: 'emptyCircle',\n    symbolSize: 4 // symbolRotate: null\n\n  }\n});\nvar _default = RadarSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 244 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar graphic = __webpack_require__(2);\n\nvar zrUtil = __webpack_require__(0);\n\nvar symbolUtil = __webpack_require__(18);\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'radar',\n  render: function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n      var color = data.getItemVisual(idx, 'color');\n\n      if (symbolType === 'none') {\n        return;\n      }\n\n      var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2, color);\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scale: [symbolSize[0] / 2, symbolSize[1] / 2]\n      });\n      return symbolPath;\n    }\n\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n\n          if (oldPoints[i]) {\n            symbolPath.attr('position', oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              position: newPoints[i]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.attr('position', newPoints[i]);\n          }\n\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n\n      if (!points) {\n        return;\n      }\n\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n\n      if (!target.shape.points) {\n        return;\n      }\n\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var color = data.getItemVisual(idx, 'color');\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle.normal').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      polyline.hoverStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n      var areaStyleModel = itemModel.getModel('areaStyle.normal');\n      var hoverAreaStyleModel = itemModel.getModel('areaStyle.emphasis');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n      hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n      polygon.ignore = polygonIgnore;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: color,\n        opacity: 0.7\n      }));\n      polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n      var itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n      var itemHoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      symbolGroup.eachChild(function (symbolPath) {\n        symbolPath.setStyle(itemStyle);\n        symbolPath.hoverStyle = zrUtil.clone(itemHoverStyle);\n        graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: data.get(data.dimensions[symbolPath.__dimIdx], idx),\n          autoColor: color,\n          isRectText: true\n        });\n      });\n\n      function onEmphasis() {\n        polygon.attr('ignore', hoverPolygonIgnore);\n      }\n\n      function onNormal() {\n        polygon.attr('ignore', polygonIgnore);\n      }\n\n      itemGroup.off('mouseover').off('mouseout').off('normal').off('emphasis');\n      itemGroup.on('emphasis', onEmphasis).on('mouseover', onEmphasis).on('normal', onNormal).on('mouseout', onNormal);\n      graphic.setHoverStyle(itemGroup);\n    });\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 245 */\n/***/ (function(module, exports) {\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    function pointsConverter(val, idx) {\n      points[idx] = points[idx] || [];\n      points[idx][i] = coordSys.dataToPoint(val, i);\n    }\n\n    for (var i = 0; i < coordSys.getIndicatorAxes().length; i++) {\n      var dim = data.dimensions[i];\n      data.each(dim, pointsConverter);\n    }\n\n    data.each(function (idx) {\n      // Close polygon\n      points[idx][0] && points[idx].push(points[idx][0].slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 246 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n// Backward compat for radar chart in 2\nfunction _default(option) {\n  var polarOptArr = option.polar;\n\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n\n    var polarNotRadar = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n\n        option.radar = option.radar || [];\n\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar;\n  }\n\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 247 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(248);\n\n__webpack_require__(254);\n\n__webpack_require__(126);\n\n__webpack_require__(63);\n\nvar mapSymbolLayout = __webpack_require__(255);\n\nvar mapVisual = __webpack_require__(256);\n\nvar mapDataStatistic = __webpack_require__(257);\n\nvar backwardCompat = __webpack_require__(258);\n\nvar createDataSelectAction = __webpack_require__(121);\n\necharts.registerLayout(mapSymbolLayout);\necharts.registerVisual(mapVisual);\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\necharts.registerPreprocessor(backwardCompat);\ncreateDataSelectAction('map', [{\n  type: 'mapToggleSelect',\n  event: 'mapselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'mapSelect',\n  event: 'mapselected',\n  method: 'select'\n}, {\n  type: 'mapUnSelect',\n  event: 'mapunselected',\n  method: 'unSelect'\n}]);\n\n/***/ }),\n/* 248 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar List = __webpack_require__(14);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar dataSelectableMixin = __webpack_require__(77);\n\nvar geoCreator = __webpack_require__(63);\n\nvar MapSeries = SeriesModel.extend({\n  type: 'series.map',\n  dependencies: ['geo'],\n  layoutMode: 'box',\n\n  /**\n   * Only first map series of same mapType will drawMap\n   * @type {boolean}\n   */\n  needsDrawMap: false,\n\n  /**\n   * Group of all map series with same mapType\n   * @type {boolean}\n   */\n  seriesGroup: [],\n  init: function (option) {\n    this._fillOption(option, this.getMapType()); // this.option = option;\n\n\n    MapSeries.superApply(this, 'init', arguments);\n    this.updateSelectedMap(option.data);\n  },\n  getInitialData: function (option) {\n    var dimensions = completeDimensions(['value'], option.data || []);\n    var list = new List(dimensions, this);\n    list.initData(option.data);\n    return list;\n  },\n  mergeOption: function (newOption) {\n    this._fillOption(newOption, this.getMapType());\n\n    MapSeries.superApply(this, 'mergeOption', arguments);\n    this.updateSelectedMap(this.option.data);\n  },\n\n  /**\n   * If no host geo model, return null, which means using a\n   * inner exclusive geo model.\n   */\n  getHostGeoModel: function () {\n    var geoIndex = this.option.geoIndex;\n    return geoIndex != null ? this.dependentModels.geo[geoIndex] : null;\n  },\n  getMapType: function () {\n    return (this.getHostGeoModel() || this).option.map;\n  },\n  _fillOption: function (option, mapName) {\n    // Shallow clone\n    // option = zrUtil.extend({}, option);\n    option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap); // return option;\n  },\n  getRawValue: function (dataIndex) {\n    // Use value stored in data instead because it is calculated from multiple series\n    // FIXME Provide all value of multiple series ?\n    return this.getData().get('value', dataIndex);\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (regionName) {\n    var data = this.getData();\n    return data.getItemModel(data.indexOfName(regionName));\n  },\n\n  /**\n   * Map tooltip formatter\n   *\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex) {\n    // FIXME orignalData and data is a bit confusing\n    var data = this.getData();\n    var formattedValue = addCommas(this.getRawValue(dataIndex));\n    var name = data.getName(dataIndex);\n    var seriesGroup = this.seriesGroup;\n    var seriesNames = [];\n\n    for (var i = 0; i < seriesGroup.length; i++) {\n      var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n\n      if (!isNaN(seriesGroup[i].originalData.get('value', otherIndex))) {\n        seriesNames.push(encodeHTML(seriesGroup[i].name));\n      }\n    }\n\n    return seriesNames.join(', ') + '<br />' + encodeHTML(name + ' : ' + formattedValue);\n  },\n\n  /**\n   * @implement\n   */\n  getTooltipPosition: function (dataIndex) {\n    if (dataIndex != null) {\n      var name = this.getData().getName(dataIndex);\n      var geo = this.coordinateSystem;\n      var region = geo.getRegion(name);\n      return region && geo.dataToPoint(region.center);\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 2,\n    coordinateSystem: 'geo',\n    // map should be explicitly specified since ec3.\n    map: '',\n    // If `geoIndex` is not specified, a exclusive geo will be\n    // created. Otherwise use the specified geo component, and\n    // `map` and `mapType` are ignored.\n    // geoIndex: 0,\n    // 'center' | 'left' | 'right' | 'x%' | {number}\n    left: 'center',\n    // 'center' | 'top' | 'bottom' | 'x%' | {number}\n    top: 'center',\n    // right\n    // bottom\n    // width:\n    // height\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    aspectScale: 0.75,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    // \n    // 'sum' | 'average' | 'max' | 'min'\n    // mapValueCalculation: 'sum',\n    // \n    // mapValuePrecision: 0,\n    // \n    showLegendSymbol: true,\n    // singlemultiple\n    // selectedMode: false,\n    dataRangeHoverLink: true,\n    // \n    // roam: false,\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ],\n    // higher priority than center and zoom\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    label: {\n      normal: {\n        show: false,\n        color: '#000'\n      },\n      emphasis: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      }\n    },\n    // scaleLimit: null,\n    itemStyle: {\n      normal: {\n        // color: ,\n        borderWidth: 0.5,\n        borderColor: '#444',\n        areaColor: '#eee'\n      },\n      // \n      emphasis: {\n        areaColor: 'rgba(255,215,0,0.8)'\n      }\n    }\n  }\n});\nzrUtil.mixin(MapSeries, dataSelectableMixin);\nvar _default = MapSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 249 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar parseGeoJson = __webpack_require__(111);\n\nvar View = __webpack_require__(122);\n\nvar fixNanhai = __webpack_require__(250);\n\nvar fixTextCoord = __webpack_require__(251);\n\nvar fixGeoCoord = __webpack_require__(252);\n\nvar fixDiaoyuIsland = __webpack_require__(253);\n\n// Geo fix functions\nvar geoFixFuncs = [fixNanhai, fixTextCoord, fixGeoCoord, fixDiaoyuIsland];\n/**\n * [Geo description]\n * @param {string} name Geo name\n * @param {string} map Map type\n * @param {Object} geoJson\n * @param {Object} [specialAreas]\n *        Specify the positioned areas by left, top, width, height\n * @param {Object.<string, string>} [nameMap]\n *        Specify name alias\n */\n\nfunction Geo(name, map, geoJson, specialAreas, nameMap) {\n  View.call(this, name);\n  /**\n   * Map type\n   * @type {string}\n   */\n\n  this.map = map;\n  this._nameCoordMap = zrUtil.createHashMap();\n  this.loadGeoJson(geoJson, specialAreas, nameMap);\n}\n\nGeo.prototype = {\n  constructor: Geo,\n  type: 'geo',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['lng', 'lat'],\n\n  /**\n   * If contain given lng,lat coord\n   * @param {Array.<number>}\n   * @readOnly\n   */\n  containCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param {Object} geoJson\n   * @param {Object} [specialAreas]\n   *        Specify the positioned areas by left, top, width, height\n   * @param {Object.<string, string>} [nameMap]\n   *        Specify name alias\n   */\n  loadGeoJson: function (geoJson, specialAreas, nameMap) {\n    // https://jsperf.com/try-catch-performance-overhead\n    try {\n      this.regions = geoJson ? parseGeoJson(geoJson) : [];\n    } catch (e) {\n      throw 'Invalid geoJson format\\n' + e.message;\n    }\n\n    specialAreas = specialAreas || {};\n    nameMap = nameMap || {};\n    var regions = this.regions;\n    var regionsMap = zrUtil.createHashMap();\n\n    for (var i = 0; i < regions.length; i++) {\n      var regionName = regions[i].name; // Try use the alias in nameMap\n\n      regionName = nameMap.hasOwnProperty(regionName) ? nameMap[regionName] : regionName;\n      regions[i].name = regionName;\n      regionsMap.set(regionName, regions[i]); // Add geoJson\n\n      this.addGeoCoord(regionName, regions[i].center); // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n\n      var specialArea = specialAreas[regionName];\n\n      if (specialArea) {\n        regions[i].transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    }\n\n    this._regionsMap = regionsMap;\n    this._rect = null;\n    zrUtil.each(geoFixFuncs, function (fixFunc) {\n      fixFunc(this);\n    }, this);\n  },\n  // Overwrite\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    rect = rect.clone(); // Longitute is inverted\n\n    rect.y = -rect.y - rect.height;\n    var viewTransform = this._viewTransform;\n    viewTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    viewTransform.decomposeTransform();\n    var scale = viewTransform.scale;\n    scale[1] = -scale[1];\n    viewTransform.updateTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/coord/geo/Region}\n   */\n  getRegion: function (name) {\n    return this._regionsMap.get(name);\n  },\n  getRegionByCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return regions[i];\n      }\n    }\n  },\n\n  /**\n   * Add geoCoord for indexing by name\n   * @param {string} name\n   * @param {Array.<number>} geoCoord\n   */\n  addGeoCoord: function (name, geoCoord) {\n    this._nameCoordMap.set(name, geoCoord);\n  },\n\n  /**\n   * Get geoCoord by name\n   * @param {string} name\n   * @return {Array.<number>}\n   */\n  getGeoCoord: function (name) {\n    return this._nameCoordMap.get(name);\n  },\n  // Overwrite\n  getBoundingRect: function () {\n    if (this._rect) {\n      return this._rect;\n    }\n\n    var rect;\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      var regionRect = regions[i].getBoundingRect();\n      rect = rect || regionRect.clone();\n      rect.union(regionRect);\n    } // FIXME Always return new ?\n\n\n    return this._rect = rect || new BoundingRect(0, 0, 0, 0);\n  },\n\n  /**\n   * @param {string|Array.<number>} data\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data) {\n    if (typeof data === 'string') {\n      // Map area name to geoCoord\n      data = this.getGeoCoord(data);\n    }\n\n    if (data) {\n      return View.prototype.dataToPoint.call(this, data);\n    }\n  },\n\n  /**\n   * @inheritDoc\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @inheritDoc\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData')\n};\nzrUtil.mixin(Geo, View);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var geoModel = finder.geoModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map.\n  || (seriesModel.getReferringComponents('geo')[0] || {}).coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = Geo;\nmodule.exports = _default;\n\n/***/ }),\n/* 250 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Region = __webpack_require__(112);\n\n// Fix for \nvar geoCoord = [126, 25];\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\n\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\n\nfunction _default(geo) {\n  if (geo.map === 'china') {\n    geo.regions.push(new Region('', zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 251 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar coordsOffsetMap = {\n  '': [32, 80],\n  // \n  '': [0, -10],\n  '': [10, 5],\n  '': [-10, 10],\n  //'': [-10, 0],\n  '': [5, 5]\n};\n\nfunction _default(geo) {\n  zrUtil.each(geo.regions, function (region) {\n    var coordFix = coordsOffsetMap[region.name];\n\n    if (coordFix) {\n      var cp = region.center;\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 252 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar geoCoordMap = {\n  'Russia': [100, 60],\n  'United States': [-99, 38],\n  'United States of America': [-99, 38]\n};\n\nfunction _default(geo) {\n  zrUtil.each(geo.regions, function (region) {\n    var geoCoord = geoCoordMap[region.name];\n\n    if (geoCoord) {\n      var cp = region.center;\n      cp[0] = geoCoord[0];\n      cp[1] = geoCoord[1];\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 253 */\n/***/ (function(module, exports) {\n\n// Fix for \n// var Region = require('../Region');\n// var zrUtil = require('zrender/src/core/util');\n// var geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\n\nfunction _default(geo) {\n  if (geo.map === 'china') {\n    for (var i = 0, len = geo.regions.length; i < len; ++i) {\n      if (geo.regions[i].name === '') {\n        geo.regions[i].geometries.push({\n          type: 'polygon',\n          exterior: points[0]\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 254 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar MapDraw = __webpack_require__(123);\n\nvar _default = echarts.extendChartView({\n  type: 'map',\n  render: function (mapModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'mapToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var group = this.group;\n    group.removeAll();\n\n    if (mapModel.getHostGeoModel()) {\n      return;\n    } // Not update map if it is an roam action from self\n\n\n    if (!(payload && payload.type === 'geoRoam' && payload.componentType === 'series' && payload.seriesId === mapModel.id)) {\n      if (mapModel.needsDrawMap) {\n        var mapDraw = this._mapDraw || new MapDraw(api, true);\n        group.add(mapDraw.group);\n        mapDraw.draw(mapModel, ecModel, api, this, payload);\n        this._mapDraw = mapDraw;\n      } else {\n        // Remove drawed map\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n      }\n    } else {\n      var mapDraw = this._mapDraw;\n      mapDraw && group.add(mapDraw.group);\n    }\n\n    mapModel.get('showLegendSymbol') && ecModel.getComponent('legend') && this._renderSymbols(mapModel, ecModel, api);\n  },\n  remove: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n    this.group.removeAll();\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n  },\n  _renderSymbols: function (mapModel, ecModel, api) {\n    var originalData = mapModel.originalData;\n    var group = this.group;\n    originalData.each('value', function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      var layout = originalData.getItemLayout(idx);\n\n      if (!layout || !layout.point) {\n        // Not exists in map\n        return;\n      }\n\n      var point = layout.point;\n      var offset = layout.offset;\n      var circle = new graphic.Circle({\n        style: {\n          // Because the special of map draw.\n          // Which needs statistic of multiple series and draw on one map.\n          // And each series also need a symbol with legend color\n          //\n          // Layout and visual are put one the different data\n          fill: mapModel.getData().getVisual('color')\n        },\n        shape: {\n          cx: point[0] + offset * 9,\n          cy: point[1],\n          r: 3\n        },\n        silent: true,\n        // Do not overlap the first series, on which labels are displayed.\n        z2: !offset ? 10 : 8\n      }); // First data on the same region\n\n      if (!offset) {\n        var fullData = mapModel.mainSeries.getData();\n        var name = originalData.getName(idx);\n        var fullIndex = fullData.indexOfName(name);\n        var itemModel = originalData.getItemModel(idx);\n        var labelModel = itemModel.getModel('label.normal');\n        var hoverLabelModel = itemModel.getModel('label.emphasis');\n        var polygonGroups = fullData.getItemGraphicEl(fullIndex);\n        var normalText = zrUtil.retrieve2(mapModel.getFormattedLabel(idx, 'normal'), name);\n        var emphasisText = zrUtil.retrieve2(mapModel.getFormattedLabel(idx, 'emphasis'), normalText);\n\n        var onEmphasis = function () {\n          var hoverStyle = graphic.setTextStyle({}, hoverLabelModel, {\n            text: hoverLabelModel.get('show') ? emphasisText : null\n          }, {\n            isRectText: true,\n            useInsideStyle: false\n          }, true);\n          circle.style.extendFrom(hoverStyle); // Make label upper than others if overlaps.\n\n          circle.__mapOriginalZ2 = circle.z2;\n          circle.z2 += 1;\n        };\n\n        var onNormal = function () {\n          graphic.setTextStyle(circle.style, labelModel, {\n            text: labelModel.get('show') ? normalText : null,\n            textPosition: labelModel.getShallow('position') || 'bottom'\n          }, {\n            isRectText: true,\n            useInsideStyle: false\n          });\n\n          if (circle.__mapOriginalZ2 != null) {\n            circle.z2 = circle.__mapOriginalZ2;\n            circle.__mapOriginalZ2 = null;\n          }\n        };\n\n        polygonGroups.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal);\n        onNormal();\n      }\n\n      group.add(circle);\n    });\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 255 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each('value', function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.center);\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendSymbol(which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 256 */\n/***/ (function(module, exports) {\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var colorList = seriesModel.get('color');\n    var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n    var areaColor = itemStyleModel.get('areaColor');\n    var color = itemStyleModel.get('color') || colorList[seriesModel.seriesIndex % colorList.length];\n    seriesModel.getData().setVisual({\n      'areaColor': areaColor,\n      'color': color\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 257 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n// FIXME \n\n/**\n * @param {Array.<module:echarts/data/List>} datas\n * @param {string} statisticType 'average' 'sum'\n * @inner\n */\nfunction dataStatistics(datas, statisticType) {\n  var dataNameMap = {};\n  var dims = ['value'];\n  zrUtil.each(datas, function (data) {\n    data.each(dims, function (value, idx) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var mapKey = 'ec-' + data.getName(idx);\n      dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n\n      if (!isNaN(value)) {\n        dataNameMap[mapKey].push(value);\n      }\n    });\n  });\n  return datas[0].map(dims, function (value, idx) {\n    var mapKey = 'ec-' + datas[0].getName(idx);\n    var sum = 0;\n    var min = Infinity;\n    var max = -Infinity;\n    var len = dataNameMap[mapKey].length;\n\n    for (var i = 0; i < len; i++) {\n      min = Math.min(min, dataNameMap[mapKey][i]);\n      max = Math.max(max, dataNameMap[mapKey][i]);\n      sum += dataNameMap[mapKey][i];\n    }\n\n    var result;\n\n    if (statisticType === 'min') {\n      result = min;\n    } else if (statisticType === 'max') {\n      result = max;\n    } else if (statisticType === 'average') {\n      result = sum / len;\n    } else {\n      result = sum;\n    }\n\n    return len === 0 ? NaN : result;\n  });\n}\n\nfunction _default(ecModel) {\n  var seriesGroups = {};\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var hostGeoModel = seriesModel.getHostGeoModel();\n    var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n    (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n  });\n  zrUtil.each(seriesGroups, function (seriesList, key) {\n    var data = dataStatistics(zrUtil.map(seriesList, function (seriesModel) {\n      return seriesModel.getData();\n    }), seriesList[0].get('mapValueCalculation'));\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].originalData = seriesList[i].getData();\n    } // FIXME Put where?\n\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].seriesGroup = seriesList;\n      seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n      seriesList[i].setData(data.cloneShallow());\n      seriesList[i].mainSeries = seriesList[0];\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 258 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(option) {\n  // Save geoCoord\n  var mapSeries = [];\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'map') {\n      mapSeries.push(seriesOpt);\n      seriesOpt.map = seriesOpt.map || seriesOpt.mapType; // Put x, y, width, height, x2, y2 in the top level\n\n      zrUtil.defaults(seriesOpt, seriesOpt.mapLocation);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 259 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(260);\n\n__webpack_require__(261);\n\n__webpack_require__(262);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar orthogonalLayout = __webpack_require__(263);\n\nvar radialLayout = __webpack_require__(265);\n\necharts.registerVisual(zrUtil.curry(visualSymbol, 'tree', 'circle', null));\necharts.registerLayout(orthogonalLayout);\necharts.registerLayout(radialLayout);\n\n/***/ }),\n/* 260 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SeriesModel = __webpack_require__(15);\n\nvar Tree = __webpack_require__(128);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\n\n/**\n * @file Create data struct and define tree view's series model\n */\nvar _default = SeriesModel.extend({\n  type: 'series.tree',\n  layoutInfo: null,\n  // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n  layoutMode: 'box',\n\n  /**\n   * Init a tree data structure from data in option series\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option) {\n    //create an virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var treeOption = {};\n    treeOption.leaves = leaves;\n    var tree = Tree.createTree(root, this, treeOption);\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex);\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n\n    return encodeHTML(name + (isNaN(value) || value == null ? '' : ' : ' + value));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // the orient of orthoginal layout, can be setted to 'horizontal' or 'vertical'\n    orient: 'horizontal',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      normal: {\n        color: '#ccc',\n        width: 1.5,\n        curveness: 0.5\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: 'lightsteelblue',\n        borderColor: '#c23531',\n        borderWidth: 1.5\n      }\n    },\n    label: {\n      normal: {\n        show: true,\n        color: '#555'\n      }\n    },\n    leaves: {\n      label: {\n        normal: {\n          show: true\n        }\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 1000\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 261 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar SymbolClz = __webpack_require__(59);\n\nvar _layoutHelper = __webpack_require__(130);\n\nvar radialCoordinate = _layoutHelper.radialCoordinate;\n\nvar echarts = __webpack_require__(1);\n\n/**\n * @file  This file used to draw tree view\n */\nvar _default = echarts.extendChartView({\n  type: 'tree',\n\n  /**\n   * Init the chart\n   * @override\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup = new graphic.Group();\n    this.group.add(this._mainGroup);\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n    } else {\n      group.attr('position', [layoutInfo.x, layoutInfo.y]);\n    }\n\n    var oldData = this._data;\n    var seriesScope = {\n      expandAndCollapse: seriesModel.get('expandAndCollapse'),\n      layout: layout,\n      orient: seriesModel.get('orient'),\n      curvature: seriesModel.get('lineStyle.normal.curveness'),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      useNameLabel: true,\n      fadeIn: true\n    };\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // create node and edge\n        updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n        return;\n      } // update  node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      removeNode(data, oldIdx, symbolEl, group, seriesModel, seriesScope);\n    }).execute();\n\n    if (seriesScope.expandAndCollapse === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  remove: function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  }\n});\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y) && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n  seriesScope.itemModel = itemModel;\n  seriesScope.itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle();\n  seriesScope.hoverItemStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n  seriesScope.lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n  seriesScope.labelModel = itemModel.getModel('label.normal');\n  seriesScope.hoverLabelModel = itemModel.getModel('label.emphasis');\n\n  if (node.isExpand === false && node.children.length !== 0) {\n    seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n  } else {\n    seriesScope.symbolInnerColor = '#fff';\n  }\n\n  return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.position[0],\n    y: sourceSymbolEl.position[1],\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, seriesScope);\n    symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n  } else {\n    symbolEl.updateData(data, dataIndex, seriesScope);\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  graphic.updateProps(symbolEl, {\n    position: [targetLayout.x, targetLayout.y]\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesScope.layout === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length = realRoot.children.length;\n    var rad;\n    var isLeft;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {};\n      center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n      center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setStyle({\n      textPosition: textPosition,\n      textRotation: -rad,\n      textOrigin: 'center',\n      verticalAlign: 'middle'\n    });\n  }\n\n  if (node.parentNode && node.parentNode !== virtualRoot) {\n    var edge = symbolEl.__edge;\n\n    if (!edge) {\n      edge = symbolEl.__edge = new graphic.BezierCurve({\n        shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n        style: zrUtil.defaults({\n          opacity: 0\n        }, seriesScope.lineStyle)\n      });\n    }\n\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n      style: {\n        opacity: 1\n      }\n    }, seriesModel);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n\n  graphic.updateProps(symbolEl, {\n    position: [sourceLayout.x + 1, sourceLayout.y + 1]\n  }, seriesModel, function () {\n    group.remove(symbolEl);\n    data.setItemGraphicEl(dataIndex, null);\n  });\n  symbolEl.fadeOut(null, {\n    keepLabel: true\n  });\n  var edge = symbolEl.__edge;\n\n  if (edge) {\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n      style: {\n        opacity: 0\n      }\n    }, seriesModel, function () {\n      group.remove(edge);\n    });\n  }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var orient = seriesScope.orient;\n\n  if (seriesScope.layout === 'radial') {\n    var x1 = sourceLayout.rawX;\n    var y1 = sourceLayout.rawY;\n    var x2 = targetLayout.rawX;\n    var y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x,\n      y1: radialCoor1.y,\n      x2: radialCoor4.x,\n      y2: radialCoor4.y,\n      cpx1: radialCoor2.x,\n      cpy1: radialCoor2.y,\n      cpx2: radialCoor3.x,\n      cpy2: radialCoor3.y\n    };\n  } else {\n    var x1 = sourceLayout.x;\n    var y1 = sourceLayout.y;\n    var x2 = targetLayout.x;\n    var y2 = targetLayout.y;\n\n    if (orient === 'horizontal') {\n      cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'vertical') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n    }\n\n    return {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      cpx1: cpx1,\n      cpy1: cpy1,\n      cpx2: cpx2,\n      cpy2: cpy2\n    };\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\necharts.registerAction({\n  type: 'treeExpandAndCollapse',\n  event: 'treeExpandAndCollapse',\n  update: 'update'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'tree',\n    query: payload\n  }, function (seriesModel) {\n    var dataIndex = payload.dataIndex;\n    var tree = seriesModel.getData().tree;\n    var node = tree.getNodeByDataIndex(dataIndex);\n    node.isExpand = !node.isExpand;\n  });\n});\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar commonLayout = __webpack_require__(131);\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports) {\n\n/**\n * Traverse the tree from bottom to top and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\n\n\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\n\nexports.eachAfter = eachAfter;\nexports.eachBefore = eachBefore;\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar commonLayout = __webpack_require__(131);\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(267);\n\n__webpack_require__(268);\n\n__webpack_require__(271);\n\nvar treemapVisual = __webpack_require__(272);\n\nvar treemapLayout = __webpack_require__(273);\n\necharts.registerVisual(treemapVisual);\necharts.registerLayout(treemapLayout);\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar Tree = __webpack_require__(128);\n\nvar Model = __webpack_require__(10);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar _helper = __webpack_require__(46);\n\nvar wrapTreePathInfo = _helper.wrapTreePathInfo;\n\nvar _default = SeriesModel.extend({\n  type: 'series.treemap',\n  layoutMode: 'box',\n  dependencies: ['grid', 'polar'],\n\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  defaultOption: {\n    // Disable progressive rendering\n    progressive: 0,\n    hoverLayerThreshold: Infinity,\n    // center: ['50%', '50%'],          // not supported in ec3.\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    right: null,\n    bottom: null,\n    width: '80%',\n    height: '80%',\n    sort: true,\n    // Can be null or false or true\n    // (order by desc default, asc not supported yet (strange effect))\n    clipWindow: 'origin',\n    // Size of clipped window when zooming. 'origin' or 'fullscreen'\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    // golden ratio\n    leafDepth: null,\n    // Nodes on depth from root are regarded as leaves.\n    // Count from zero (zero represents only view root).\n    drillDownIcon: '',\n    // Use html character temporarily because it is complicated\n    // to align specialized icon. \n    zoomToNodeRatio: 0.32 * 0.32,\n    // Be effective when using zoomToNode. Specify the proportion of the\n    // target node area in the view area.\n    roam: true,\n    // true, false, 'scale' or 'zoom', 'move'.\n    nodeClick: 'zoomToNode',\n    // Leaf node click behaviour: 'zoomToNode', 'link', false.\n    // If leafDepth is set and clicking a node which has children but\n    // be on left depth, the behaviour would be changing root. Otherwise\n    // use behavious defined above.\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      // Width of empty node.\n      itemStyle: {\n        normal: {\n          color: 'rgba(0,0,0,0.7)',\n          //'#5793f3',\n          borderColor: 'rgba(255,255,255,0.7)',\n          borderWidth: 1,\n          shadowColor: 'rgba(150,150,150,1)',\n          shadowBlur: 3,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          textStyle: {\n            color: '#fff'\n          }\n        },\n        emphasis: {\n          textStyle: {}\n        }\n      }\n    },\n    label: {\n      normal: {\n        show: true,\n        // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n        distance: 0,\n        padding: 5,\n        position: 'inside',\n        // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n        // formatter: null,\n        color: '#fff',\n        ellipsis: true // align\n        // verticalAlign\n\n      }\n    },\n    upperLabel: {\n      // Label when node is parent.\n      normal: {\n        show: false,\n        position: [0, '50%'],\n        height: 20,\n        // formatter: null,\n        color: '#fff',\n        ellipsis: true,\n        // align: null,\n        verticalAlign: 'middle'\n      },\n      emphasis: {\n        show: true,\n        position: [0, '50%'],\n        color: '#fff',\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: null,\n        // Can be 'none' if not necessary.\n        colorAlpha: null,\n        // Can be 'none' if not necessary.\n        colorSaturation: null,\n        // Can be 'none' if not necessary.\n        borderWidth: 0,\n        gapWidth: 0,\n        borderColor: '#fff',\n        borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n        // border color is evaluated by color of current node and\n        // borderColorSaturation.\n\n      },\n      emphasis: {}\n    },\n    visualDimension: 0,\n    // Can be 0, 1, 2, 3.\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // + treemapSeries.color should not be modified. Please only modified\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    // Array. Specify color alpha range of each level, like [0.2, 0.8]\n    colorSaturation: null,\n    // Array. Specify color saturation of each level, like [0.2, 0.5]\n    colorMappingBy: 'index',\n    // 'value' or 'index' or 'id'.\n    visibleMin: 10,\n    // If area less than this threshold (unit: pixel^2), node will not\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // If area of a node less than this threshold (unit: pixel^2),\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || [];\n    levels = option.levels = setDefault(levels, ecModel);\n    var treeOption = {};\n    treeOption.levels = levels; // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    return Tree.createTree(root, this, treeOption).data;\n  },\n  optionUpdated: function () {\n    this.resetViewRoot();\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? addCommas(value[0]) : addCommas(value);\n    var name = data.getName(dataIndex);\n    return encodeHTML(name + ': ' + formattedValue);\n  },\n\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  setLayoutInfo: function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  },\n\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  mapIdToIndex: function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n\n    var index = idIndexMap.get(id);\n\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n\n    return index;\n  },\n  getViewRoot: function () {\n    return this._viewRoot;\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = ecModel.get('color');\n\n  if (!globalColorList) {\n    return;\n  }\n\n  levels = levels || [];\n  var hasColorDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n\n    if (model.get('itemStyle.normal.color') || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n  });\n\n  if (!hasColorDefine) {\n    var level0 = levels[0] || (levels[0] = {});\n    level0.color = globalColorList.slice();\n  }\n\n  return levels;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar DataDiffer = __webpack_require__(38);\n\nvar helper = __webpack_require__(46);\n\nvar Breadcrumb = __webpack_require__(269);\n\nvar RoamController = __webpack_require__(64);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar matrix = __webpack_require__(16);\n\nvar animationUtil = __webpack_require__(270);\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar bind = zrUtil.bind;\nvar Group = graphic.Group;\nvar Rect = graphic.Rect;\nvar each = zrUtil.each;\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = ['label', 'normal'];\nvar PATH_LABEL_EMPHASIS = ['label', 'emphasis'];\nvar PATH_UPPERLABEL_NORMAL = ['upperLabel', 'normal'];\nvar PATH_UPPERLABEL_EMPHASIS = ['upperLabel', 'emphasis'];\nvar Z_BASE = 10; // Should bigger than every z.\n\nvar Z_BG = 1;\nvar Z_CONTENT = 2;\nvar getItemStyleEmphasis = makeStyleMapper([['fill', 'color'], // `borderColor` and `borderWidth` has been occupied,\n// so use `stroke` to indicate the stroke of the rect.\n['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n\nvar getItemStyleNormal = function (model) {\n  // Normal style props should include emphasis style props.\n  var itemStyle = getItemStyleEmphasis(model); // Clear styles set by emphasis.\n\n  itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n  return itemStyle;\n};\n\nvar _default = echarts.extendChartView({\n  type: 'treemap',\n\n  /**\n   * @override\n   */\n  init: function (o, api) {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this._containerGroup;\n    /**\n     * @private\n     * @type {Object.<string, Array.<module:zrender/container/Group>>}\n     */\n\n    this._storage = createStorage();\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:echarts/chart/treemap/Breadcrumb}\n     */\n\n    this._breadcrumb;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/RoamController}\n     */\n\n    this._controller;\n    /**\n     * 'ready', 'animating'\n     * @private\n     */\n\n    this._state = 'ready';\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    var models = ecModel.findComponents({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    });\n\n    if (zrUtil.indexOf(models, seriesModel) < 0) {\n      return;\n    }\n\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var targetInfo = helper.retrieveTargetInfo(payload, seriesModel);\n    var payloadType = payload && payload.type;\n    var layoutInfo = seriesModel.layoutInfo;\n    var isInit = !this._oldTree;\n    var thisStorage = this._storage; // Mark new root when action is treemapRootToNode.\n\n    var reRoot = payloadType === 'treemapRootToNode' && targetInfo && thisStorage ? {\n      rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n      direction: payload.direction\n    } : null;\n\n    var containerGroup = this._giveContainerGroup(layoutInfo);\n\n    var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n\n    !isInit && (!payloadType || payloadType === 'treemapZoomToNode' || payloadType === 'treemapRootToNode') ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot) : renderResult.renderFinally();\n\n    this._resetController(api);\n\n    this._renderBreadcrumb(seriesModel, api, targetInfo);\n  },\n\n  /**\n   * @private\n   */\n  _giveContainerGroup: function (layoutInfo) {\n    var containerGroup = this._containerGroup;\n\n    if (!containerGroup) {\n      // FIXME\n      // containerGroupclipclip\n      containerGroup = this._containerGroup = new Group();\n\n      this._initEvents(containerGroup);\n\n      this.group.add(containerGroup);\n    }\n\n    containerGroup.attr('position', [layoutInfo.x, layoutInfo.y]);\n    return containerGroup;\n  },\n\n  /**\n   * @private\n   */\n  _doRender: function (containerGroup, seriesModel, reRoot) {\n    var thisTree = seriesModel.getData().tree;\n    var oldTree = this._oldTree; // Clear last shape records.\n\n    var lastsForAnimation = createStorage();\n    var thisStorage = createStorage();\n    var oldStorage = this._storage;\n    var willInvisibleEls = [];\n    var doRenderNode = zrUtil.curry(renderNode, seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls); // Notice: when thisTree and oldTree are the same tree (see list.cloneShallow),\n    // the oldTree is actually losted, so we can not find all of the old graphic\n    // elements from tree. So we use this stragegy: make element storage, move\n    // from old storage to new storage, clear old storage.\n\n    dualTravel(thisTree.root ? [thisTree.root] : [], oldTree && oldTree.root ? [oldTree.root] : [], containerGroup, thisTree === oldTree || !oldTree, 0); // Process all removing.\n\n    var willDeleteEls = clearStorage(oldStorage);\n    this._oldTree = thisTree;\n    this._storage = thisStorage;\n    return {\n      lastsForAnimation: lastsForAnimation,\n      willDeleteEls: willDeleteEls,\n      renderFinally: renderFinally\n    };\n\n    function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n      // When 'render' is triggered by action,\n      // 'this' and 'old' may be the same tree,\n      // we use rawIndex in that case.\n      if (sameTree) {\n        oldViewChildren = thisViewChildren;\n        each(thisViewChildren, function (child, index) {\n          !child.isRemoved() && processNode(index, index);\n        });\n      } // Diff hierarchically (diff only in each subtree, but not whole).\n      // because, consistency of view is important.\n      else {\n          new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n        }\n\n      function getKey(node) {\n        // Identify by name or raw index.\n        return node.getId();\n      }\n\n      function processNode(newIndex, oldIndex) {\n        var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n        var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n        var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n        group && dualTravel(thisNode && thisNode.viewChildren || [], oldNode && oldNode.viewChildren || [], group, sameTree, depth + 1);\n      }\n    }\n\n    function clearStorage(storage) {\n      var willDeleteEls = createStorage();\n      storage && each(storage, function (store, storageName) {\n        var delEls = willDeleteEls[storageName];\n        each(store, function (el) {\n          el && (delEls.push(el), el.__tmWillDelete = 1);\n        });\n      });\n      return willDeleteEls;\n    }\n\n    function renderFinally() {\n      each(willDeleteEls, function (els) {\n        each(els, function (el) {\n          el.parent && el.parent.remove(el);\n        });\n      });\n      each(willInvisibleEls, function (el) {\n        el.invisible = true; // Setting invisible is for optimizing, so no need to set dirty,\n        // just mark as invisible.\n\n        el.dirty();\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doAnimation: function (containerGroup, renderResult, seriesModel, reRoot) {\n    if (!seriesModel.get('animation')) {\n      return;\n    }\n\n    var duration = seriesModel.get('animationDurationUpdate');\n    var easing = seriesModel.get('animationEasing');\n    var animationWrap = animationUtil.createWrap(); // Make delete animations.\n\n    each(renderResult.willDeleteEls, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        if (el.invisible) {\n          return;\n        }\n\n        var parent = el.parent; // Always has parent, and parent is nodeGroup.\n\n        var target;\n\n        if (reRoot && reRoot.direction === 'drillDown') {\n          target = parent === reRoot.rootNodeGroup // This is the content element of view root.\n          // Only `content` will enter this branch, because\n          // `background` and `nodeGroup` will not be deleted.\n          ? {\n            shape: {\n              x: 0,\n              y: 0,\n              width: parent.__tmNodeWidth,\n              height: parent.__tmNodeHeight\n            },\n            style: {\n              opacity: 0\n            } // Others.\n\n          } : {\n            style: {\n              opacity: 0\n            }\n          };\n        } else {\n          var targetX = 0;\n          var targetY = 0;\n\n          if (!parent.__tmWillDelete) {\n            // Let node animate to right-bottom corner, cooperating with fadeout,\n            // which is appropriate for user understanding.\n            // Divided by 2 for reRoot rolling up effect.\n            targetX = parent.__tmNodeWidth / 2;\n            targetY = parent.__tmNodeHeight / 2;\n          }\n\n          target = storageName === 'nodeGroup' ? {\n            position: [targetX, targetY],\n            style: {\n              opacity: 0\n            }\n          } : {\n            shape: {\n              x: targetX,\n              y: targetY,\n              width: 0,\n              height: 0\n            },\n            style: {\n              opacity: 0\n            }\n          };\n        }\n\n        target && animationWrap.add(el, target, duration, easing);\n      });\n    }); // Make other animations\n\n    each(this._storage, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        var last = renderResult.lastsForAnimation[storageName][rawIndex];\n        var target = {};\n\n        if (!last) {\n          return;\n        }\n\n        if (storageName === 'nodeGroup') {\n          if (last.old) {\n            target.position = el.position.slice();\n            el.attr('position', last.old);\n          }\n        } else {\n          if (last.old) {\n            target.shape = zrUtil.extend({}, el.shape);\n            el.setShape(last.old);\n          }\n\n          if (last.fadein) {\n            el.setStyle('opacity', 0);\n            target.style = {\n              opacity: 1\n            };\n          } // When animation is stopped for succedent animation starting,\n          // el.style.opacity might not be 1\n          else if (el.style.opacity !== 1) {\n              target.style = {\n                opacity: 1\n              };\n            }\n        }\n\n        animationWrap.add(el, target, duration, easing);\n      });\n    }, this);\n    this._state = 'animating';\n    animationWrap.done(bind(function () {\n      this._state = 'ready';\n      renderResult.renderFinally();\n    }, this)).start();\n  },\n\n  /**\n   * @private\n   */\n  _resetController: function (api) {\n    var controller = this._controller; // Init controller.\n\n    if (!controller) {\n      controller = this._controller = new RoamController(api.getZr());\n      controller.enable(this.seriesModel.get('roam'));\n      controller.on('pan', bind(this._onPan, this));\n      controller.on('zoom', bind(this._onZoom, this));\n    }\n\n    var rect = new BoundingRect(0, 0, api.getWidth(), api.getHeight());\n    controller.setPointerChecker(function (e, x, y) {\n      return rect.contain(x, y);\n    });\n  },\n\n  /**\n   * @private\n   */\n  _clearController: function () {\n    var controller = this._controller;\n\n    if (controller) {\n      controller.dispose();\n      controller = null;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onPan: function (dx, dy) {\n    if (this._state !== 'animating' && (Math.abs(dx) > DRAG_THRESHOLD || Math.abs(dy) > DRAG_THRESHOLD)) {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      this.api.dispatchAction({\n        type: 'treemapMove',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rootLayout.x + dx,\n          y: rootLayout.y + dy,\n          width: rootLayout.width,\n          height: rootLayout.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onZoom: function (scale, mouseX, mouseY) {\n    if (this._state !== 'animating') {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      var rect = new BoundingRect(rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height);\n      var layoutInfo = this.seriesModel.layoutInfo; // Transform mouse coord from global to containerGroup.\n\n      mouseX -= layoutInfo.x;\n      mouseY -= layoutInfo.y; // Scale root bounding rect.\n\n      var m = matrix.create();\n      matrix.translate(m, m, [-mouseX, -mouseY]);\n      matrix.scale(m, m, [scale, scale]);\n      matrix.translate(m, m, [mouseX, mouseY]);\n      rect.applyTransform(m);\n      this.api.dispatchAction({\n        type: 'treemapRender',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _initEvents: function (containerGroup) {\n    containerGroup.on('click', function (e) {\n      if (this._state !== 'ready') {\n        return;\n      }\n\n      var nodeClick = this.seriesModel.get('nodeClick', true);\n\n      if (!nodeClick) {\n        return;\n      }\n\n      var targetInfo = this.findTarget(e.offsetX, e.offsetY);\n\n      if (!targetInfo) {\n        return;\n      }\n\n      var node = targetInfo.node;\n\n      if (node.getLayout().isLeafRoot) {\n        this._rootToNode(targetInfo);\n      } else {\n        if (nodeClick === 'zoomToNode') {\n          this._zoomToNode(targetInfo);\n        } else if (nodeClick === 'link') {\n          var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n          var link = itemModel.get('link', true);\n          var linkTarget = itemModel.get('target', true) || 'blank';\n          link && window.open(link, linkTarget);\n        }\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderBreadcrumb: function (seriesModel, api, targetInfo) {\n    if (!targetInfo) {\n      targetInfo = seriesModel.get('leafDepth', true) != null ? {\n        node: seriesModel.getViewRoot() // FIXME\n        // better way?\n        // Find breadcrumb tail on center of containerGroup.\n\n      } : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n\n      if (!targetInfo) {\n        targetInfo = {\n          node: seriesModel.getData().tree.root\n        };\n      }\n    }\n\n    (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group))).render(seriesModel, api, targetInfo.node, bind(onSelect, this));\n\n    function onSelect(node) {\n      if (this._state !== 'animating') {\n        helper.aboveViewRoot(seriesModel.getViewRoot(), node) ? this._rootToNode({\n          node: node\n        }) : this._zoomToNode({\n          node: node\n        });\n      }\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearController();\n\n    this._containerGroup && this._containerGroup.removeAll();\n    this._storage = createStorage();\n    this._state = 'ready';\n    this._breadcrumb && this._breadcrumb.remove();\n  },\n  dispose: function () {\n    this._clearController();\n  },\n\n  /**\n   * @private\n   */\n  _zoomToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapZoomToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @private\n   */\n  _rootToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapRootToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @public\n   * @param {number} x Global coord x.\n   * @param {number} y Global coord y.\n   * @return {Object} info If not found, return undefined;\n   * @return {number} info.node Target node.\n   * @return {number} info.offsetX x refer to target node.\n   * @return {number} info.offsetY y refer to target node.\n   */\n  findTarget: function (x, y) {\n    var targetInfo;\n    var viewRoot = this.seriesModel.getViewRoot();\n    viewRoot.eachNode({\n      attr: 'viewChildren',\n      order: 'preorder'\n    }, function (node) {\n      var bgEl = this._storage.background[node.getRawIndex()]; // If invisible, there might be no element.\n\n\n      if (bgEl) {\n        var point = bgEl.transformCoordToLocal(x, y);\n        var shape = bgEl.shape; // For performance consideration, dont use 'getBoundingRect'.\n\n        if (shape.x <= point[0] && point[0] <= shape.x + shape.width && shape.y <= point[1] && point[1] <= shape.y + shape.height) {\n          targetInfo = {\n            node: node,\n            offsetX: point[0],\n            offsetY: point[1]\n          };\n        } else {\n          return false; // Suppress visit subtree.\n        }\n      }\n    }, this);\n    return targetInfo;\n  }\n});\n/**\n * @inner\n */\n\n\nfunction createStorage() {\n  return {\n    nodeGroup: [],\n    background: [],\n    content: []\n  };\n}\n/**\n * @inner\n * @return Return undefined means do not travel further.\n */\n\n\nfunction renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth) {\n  // Whether under viewRoot.\n  if (!thisNode) {\n    // Deleting nodes will be performed finally. This method just find\n    // element from old storage, or create new element, set them to new\n    // storage, and set styles.\n    return;\n  } // -------------------------------------------------------------------\n  // Start of closure variables available in \"Procedures in renderNode\".\n\n\n  var thisLayout = thisNode.getLayout();\n\n  if (!thisLayout || !thisLayout.isInView) {\n    return;\n  }\n\n  var thisWidth = thisLayout.width;\n  var thisHeight = thisLayout.height;\n  var borderWidth = thisLayout.borderWidth;\n  var thisInvisible = thisLayout.invisible;\n  var thisRawIndex = thisNode.getRawIndex();\n  var oldRawIndex = oldNode && oldNode.getRawIndex();\n  var thisViewChildren = thisNode.viewChildren;\n  var upperHeight = thisLayout.upperHeight;\n  var isParent = thisViewChildren && thisViewChildren.length;\n  var itemStyleNormalModel = thisNode.getModel('itemStyle.normal');\n  var itemStyleEmphasisModel = thisNode.getModel('itemStyle.emphasis'); // End of closure ariables available in \"Procedures in renderNode\".\n  // -----------------------------------------------------------------\n  // Node group\n\n  var group = giveGraphic('nodeGroup', Group);\n\n  if (!group) {\n    return;\n  }\n\n  parentGroup.add(group); // x,y are not set when el is above view root.\n\n  group.attr('position', [thisLayout.x || 0, thisLayout.y || 0]);\n  group.__tmNodeWidth = thisWidth;\n  group.__tmNodeHeight = thisHeight;\n\n  if (thisLayout.isAboveViewRoot) {\n    return group;\n  } // Background\n\n\n  var bg = giveGraphic('background', Rect, depth, Z_BG);\n  bg && renderBackground(group, bg, isParent && thisLayout.upperHeight); // No children, render content.\n\n  if (!isParent) {\n    var content = giveGraphic('content', Rect, depth, Z_CONTENT);\n    content && renderContent(group, content);\n  }\n\n  return group; // ----------------------------\n  // | Procedures in renderNode |\n  // ----------------------------\n\n  function renderBackground(group, bg, useUpperLabel) {\n    // For tooltip.\n    bg.dataIndex = thisNode.dataIndex;\n    bg.seriesIndex = seriesModel.seriesIndex;\n    bg.setShape({\n      x: 0,\n      y: 0,\n      width: thisWidth,\n      height: thisHeight\n    });\n    var visualBorderColor = thisNode.getVisual('borderColor', true);\n    var emphasisBorderColor = itemStyleEmphasisModel.get('borderColor');\n    updateStyle(bg, function () {\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualBorderColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      emphasisStyle.fill = emphasisBorderColor;\n\n      if (useUpperLabel) {\n        var upperLabelWidth = thisWidth - 2 * borderWidth;\n        prepareText(normalStyle, emphasisStyle, visualBorderColor, upperLabelWidth, upperHeight, {\n          x: borderWidth,\n          y: 0,\n          width: upperLabelWidth,\n          height: upperHeight\n        });\n      } // For old bg.\n      else {\n          normalStyle.text = emphasisStyle.text = null;\n        }\n\n      bg.setStyle(normalStyle);\n      graphic.setHoverStyle(bg, emphasisStyle);\n    });\n    group.add(bg);\n  }\n\n  function renderContent(group, content) {\n    // For tooltip.\n    content.dataIndex = thisNode.dataIndex;\n    content.seriesIndex = seriesModel.seriesIndex;\n    var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n    var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n    content.culling = true;\n    content.setShape({\n      x: borderWidth,\n      y: borderWidth,\n      width: contentWidth,\n      height: contentHeight\n    });\n    var visualColor = thisNode.getVisual('color', true);\n    updateStyle(content, function () {\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      prepareText(normalStyle, emphasisStyle, visualColor, contentWidth, contentHeight);\n      content.setStyle(normalStyle);\n      graphic.setHoverStyle(content, emphasisStyle);\n    });\n    group.add(content);\n  }\n\n  function updateStyle(element, cb) {\n    if (!thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      cb();\n\n      if (!element.__tmWillVisible) {\n        element.invisible = false;\n      }\n    } else {\n      // Delay invisible setting utill animation finished,\n      // avoid element vanish suddenly before animation.\n      !element.invisible && willInvisibleEls.push(element);\n    }\n  }\n\n  function prepareText(normalStyle, emphasisStyle, visualColor, width, height, upperLabelRect) {\n    var nodeModel = thisNode.getModel();\n    var text = zrUtil.retrieve(seriesModel.getFormattedLabel(thisNode.dataIndex, 'normal', null, null, upperLabelRect ? 'upperLabel' : 'label'), nodeModel.get('name'));\n\n    if (!upperLabelRect && thisLayout.isLeafRoot) {\n      var iconChar = seriesModel.get('drillDownIcon', true);\n      text = iconChar ? iconChar + ' ' + text : text;\n    }\n\n    var normalLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL);\n    var emphasisLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_EMPHASIS : PATH_LABEL_EMPHASIS);\n    var isShow = normalLabelModel.getShallow('show');\n    graphic.setLabelStyle(normalStyle, emphasisStyle, normalLabelModel, emphasisLabelModel, {\n      defaultText: isShow ? text : null,\n      autoColor: visualColor,\n      isRectText: true\n    });\n    upperLabelRect && (normalStyle.textRect = zrUtil.clone(upperLabelRect));\n    normalStyle.truncate = isShow && normalLabelModel.get('ellipsis') ? {\n      outerWidth: width,\n      outerHeight: height,\n      minChar: 2\n    } : null;\n  }\n\n  function giveGraphic(storageName, Ctor, depth, z) {\n    var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n    var lasts = lastsForAnimation[storageName];\n\n    if (element) {\n      // Remove from oldStorage\n      oldStorage[storageName][oldRawIndex] = null;\n      prepareAnimationWhenHasOld(lasts, element, storageName);\n    } // If invisible and no old element, do not create new element (for optimizing).\n    else if (!thisInvisible) {\n        element = new Ctor({\n          z: calculateZ(depth, z)\n        });\n        element.__tmDepth = depth;\n        element.__tmStorageName = storageName;\n        prepareAnimationWhenNoOld(lasts, element, storageName);\n      } // Set to thisStorage\n\n\n    return thisStorage[storageName][thisRawIndex] = element;\n  }\n\n  function prepareAnimationWhenHasOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    lastCfg.old = storageName === 'nodeGroup' ? element.position.slice() : zrUtil.extend({}, element.shape);\n  } // If a element is new, we need to find the animation start point carefully,\n  // otherwise it will looks strange when 'zoomToNode'.\n\n\n  function prepareAnimationWhenNoOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    var parentNode = thisNode.parentNode;\n\n    if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n      var parentOldX = 0;\n      var parentOldY = 0; // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n      // For convenience, get old bounding rect from background.\n\n      var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n\n      if (!reRoot && parentOldBg && parentOldBg.old) {\n        parentOldX = parentOldBg.old.width;\n        parentOldY = parentOldBg.old.height;\n      } // When no parent old shape found, its parent is new too,\n      // so we can just use {x:0, y:0}.\n\n\n      lastCfg.old = storageName === 'nodeGroup' ? [0, parentOldY] : {\n        x: parentOldX,\n        y: parentOldY,\n        width: 0,\n        height: 0\n      };\n    } // Fade in, user can be aware that these nodes are new.\n\n\n    lastCfg.fadein = storageName !== 'nodeGroup';\n  }\n} // We can not set all backgroud with the same z, Because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause that lowser background element overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\n\n\nfunction calculateZ(depth, zInLevel) {\n  var zb = depth * Z_BASE + zInLevel;\n  return (zb - 1) / zb;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar layout = __webpack_require__(6);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _helper = __webpack_require__(46);\n\nvar wrapTreePathInfo = _helper.wrapTreePathInfo;\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\n\nfunction Breadcrumb(containerGroup) {\n  /**\n   * @private\n   * @type {module:zrender/container/Group}\n   */\n  this.group = new graphic.Group();\n  containerGroup.add(this.group);\n}\n\nBreadcrumb.prototype = {\n  constructor: Breadcrumb,\n  render: function (seriesModel, api, targetNode, onSelect) {\n    var model = seriesModel.getModel('breadcrumb');\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    if (!model.get('show') || !targetNode) {\n      return;\n    }\n\n    var normalStyleModel = model.getModel('itemStyle.normal'); // var emphasisStyleModel = model.getModel('itemStyle.emphasis');\n\n    var textStyleModel = normalStyleModel.getModel('textStyle');\n    var layoutParam = {\n      pos: {\n        left: model.get('left'),\n        right: model.get('right'),\n        top: model.get('top'),\n        bottom: model.get('bottom')\n      },\n      box: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      emptyItemWidth: model.get('emptyItemWidth'),\n      totalWidth: 0,\n      renderList: []\n    };\n\n    this._prepare(targetNode, layoutParam, textStyleModel);\n\n    this._renderContent(seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect);\n\n    layout.positionElement(thisGroup, layoutParam.pos, layoutParam.box);\n  },\n\n  /**\n   * Prepare render list and total width\n   * @private\n   */\n  _prepare: function (targetNode, layoutParam, textStyleModel) {\n    for (var node = targetNode; node; node = node.parentNode) {\n      var text = node.getModel().get('name');\n      var textRect = textStyleModel.getTextRect(text);\n      var itemWidth = Math.max(textRect.width + TEXT_PADDING * 2, layoutParam.emptyItemWidth);\n      layoutParam.totalWidth += itemWidth + ITEM_GAP;\n      layoutParam.renderList.push({\n        node: node,\n        text: text,\n        width: itemWidth\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderContent: function (seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect) {\n    // Start rendering.\n    var lastX = 0;\n    var emptyItemWidth = layoutParam.emptyItemWidth;\n    var height = seriesModel.get('breadcrumb.height');\n    var availableSize = layout.getAvailableSize(layoutParam.pos, layoutParam.box);\n    var totalWidth = layoutParam.totalWidth;\n    var renderList = layoutParam.renderList;\n\n    for (var i = renderList.length - 1; i >= 0; i--) {\n      var item = renderList[i];\n      var itemNode = item.node;\n      var itemWidth = item.width;\n      var text = item.text; // Hdie text and shorten width if necessary.\n\n      if (totalWidth > availableSize.width) {\n        totalWidth -= itemWidth - emptyItemWidth;\n        itemWidth = emptyItemWidth;\n        text = null;\n      }\n\n      var el = new graphic.Polygon({\n        shape: {\n          points: makeItemPoints(lastX, 0, itemWidth, height, i === renderList.length - 1, i === 0)\n        },\n        style: zrUtil.defaults(normalStyleModel.getItemStyle(), {\n          lineJoin: 'bevel',\n          text: text,\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        }),\n        z: 10,\n        onclick: zrUtil.curry(onSelect, itemNode)\n      });\n      this.group.add(el);\n      packEventData(el, seriesModel, itemNode);\n      lastX += itemWidth + ITEM_GAP;\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this.group.removeAll();\n  }\n};\n\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n  var points = [[head ? x : x - ARRAY_LENGTH, y], [x + itemWidth, y], [x + itemWidth, y + itemHeight], [head ? x : x - ARRAY_LENGTH, y + itemHeight]];\n  !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n  !head && points.push([x, y + itemHeight / 2]);\n  return points;\n} // Package custom mouse event.\n\n\nfunction packEventData(el, seriesModel, itemNode) {\n  el.eventData = {\n    componentType: 'series',\n    componentSubType: 'treemap',\n    seriesIndex: seriesModel.componentIndex,\n    seriesName: seriesModel.name,\n    seriesType: 'treemap',\n    selfType: 'breadcrumb',\n    // Distinguish with click event on treemap node.\n    nodeData: {\n      dataIndex: itemNode && itemNode.dataIndex,\n      name: itemNode && itemNode.name\n    },\n    treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n  };\n}\n\nvar _default = Breadcrumb;\nmodule.exports = _default;\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @param {number} [time=500] Time in ms\n * @param {string} [easing='linear']\n * @param {number} [delay=0]\n * @param {Function} [callback]\n *\n * @example\n *  // Animate position\n *  animation\n *      .createWrap()\n *      .add(el1, {position: [10, 10]})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nfunction createWrap() {\n  var storage = [];\n  var elExistsMap = {};\n  var doneCallback;\n  return {\n    /**\n     * Caution: a el can only be added once, otherwise 'done'\n     * might not be called. This method checks this (by el.id),\n     * suppresses adding and returns false when existing el found.\n     *\n     * @param {modele:zrender/Element} el\n     * @param {Object} target\n     * @param {number} [time=500]\n     * @param {number} [delay=0]\n     * @param {string} [easing='linear']\n     * @return {boolean} Whether adding succeeded.\n     *\n     * @example\n     *     add(el, target, time, delay, easing);\n     *     add(el, target, time, easing);\n     *     add(el, target, time);\n     *     add(el, target);\n     */\n    add: function (el, target, time, delay, easing) {\n      if (zrUtil.isString(delay)) {\n        easing = delay;\n        delay = 0;\n      }\n\n      if (elExistsMap[el.id]) {\n        return false;\n      }\n\n      elExistsMap[el.id] = 1;\n      storage.push({\n        el: el,\n        target: target,\n        time: time,\n        delay: delay,\n        easing: easing\n      });\n      return true;\n    },\n\n    /**\n     * Only execute when animation finished. Will not execute when any\n     * of 'stop' or 'stopAnimation' called.\n     *\n     * @param {Function} callback\n     */\n    done: function (callback) {\n      doneCallback = callback;\n      return this;\n    },\n\n    /**\n     * Will stop exist animation firstly.\n     */\n    start: function () {\n      var count = storage.length;\n\n      for (var i = 0, len = storage.length; i < len; i++) {\n        var item = storage[i];\n        item.el.animateTo(item.target, item.time, item.delay, item.easing, done);\n      }\n\n      return this;\n\n      function done() {\n        count--;\n\n        if (!count) {\n          storage.length = 0;\n          elExistsMap = {};\n          doneCallback && doneCallback();\n        }\n      }\n    }\n  };\n}\n\nexports.createWrap = createWrap;\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar helper = __webpack_require__(46);\n\n/**\n * @file Treemap action\n */\nvar noop = function () {};\n\nvar actionTypes = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];\n\nfor (var i = 0; i < actionTypes.length; i++) {\n  echarts.registerAction({\n    type: actionTypes[i],\n    update: 'updateView'\n  }, noop);\n}\n\necharts.registerAction({\n  type: 'treemapRootToNode',\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  }, handleRootToNode);\n\n  function handleRootToNode(model, index) {\n    var targetInfo = helper.retrieveTargetInfo(payload, model);\n\n    if (targetInfo) {\n      var originViewRoot = model.getViewRoot();\n\n      if (originViewRoot) {\n        payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n      }\n\n      model.resetViewRoot(targetInfo.node);\n    }\n  }\n});\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar VisualMapping = __webpack_require__(35);\n\nvar zrColor = __webpack_require__(22);\n\nvar zrUtil = __webpack_require__(0);\n\nvar isArray = zrUtil.isArray;\nvar ITEM_STYLE_NORMAL = 'itemStyle.normal';\n\nfunction _default(ecModel, api, payload) {\n  var condition = {\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  };\n  ecModel.eachComponent(condition, function (seriesModel) {\n    var tree = seriesModel.getData().tree;\n    var root = tree.root;\n    var seriesItemStyleModel = seriesModel.getModel(ITEM_STYLE_NORMAL);\n\n    if (root.isRemoved()) {\n      return;\n    }\n\n    var levelItemStyles = zrUtil.map(tree.levelModels, function (levelModel) {\n      return levelModel ? levelModel.get(ITEM_STYLE_NORMAL) : null;\n    });\n    travelTree(root, // Visual should calculate from tree root but not view root.\n    {}, levelItemStyles, seriesItemStyleModel, seriesModel.getViewRoot().getAncestors(), seriesModel);\n  });\n}\n\nfunction travelTree(node, designatedVisual, levelItemStyles, seriesItemStyleModel, viewRootAncestors, seriesModel) {\n  var nodeModel = node.getModel();\n  var nodeLayout = node.getLayout(); // Optimize\n\n  if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n    return;\n  }\n\n  var nodeItemStyleModel = node.getModel(ITEM_STYLE_NORMAL);\n  var levelItemStyle = levelItemStyles[node.depth];\n  var visuals = buildVisuals(nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel); // calculate border color\n\n  var borderColor = nodeItemStyleModel.get('borderColor');\n  var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n  var thisNodeColor;\n\n  if (borderColorSaturation != null) {\n    // For performance, do not always execute 'calculateColor'.\n    thisNodeColor = calculateColor(visuals, node);\n    borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n  }\n\n  node.setVisual('borderColor', borderColor);\n  var viewChildren = node.viewChildren;\n\n  if (!viewChildren || !viewChildren.length) {\n    thisNodeColor = calculateColor(visuals, node); // Apply visual to this node.\n\n    node.setVisual('color', thisNodeColor);\n  } else {\n    var mapping = buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren); // Designate visual to children.\n\n    zrUtil.each(viewChildren, function (child, index) {\n      // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n      if (child.depth >= viewRootAncestors.length || child === viewRootAncestors[child.depth]) {\n        var childVisual = mapVisual(nodeModel, visuals, child, index, mapping, seriesModel);\n        travelTree(child, childVisual, levelItemStyles, seriesItemStyleModel, viewRootAncestors, seriesModel);\n      }\n    });\n  }\n}\n\nfunction buildVisuals(nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel) {\n  var visuals = zrUtil.extend({}, designatedVisual);\n  zrUtil.each(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n    // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n    var val = nodeItemStyleModel.get(visualName, true); // Ignore parent\n\n    val == null && levelItemStyle && (val = levelItemStyle[visualName]);\n    val == null && (val = designatedVisual[visualName]);\n    val == null && (val = seriesItemStyleModel.get(visualName));\n    val != null && (visuals[visualName] = val);\n  });\n  return visuals;\n}\n\nfunction calculateColor(visuals) {\n  var color = getValueVisualDefine(visuals, 'color');\n\n  if (color) {\n    var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n    var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n\n    if (colorSaturation) {\n      color = zrColor.modifyHSL(color, null, null, colorSaturation);\n    }\n\n    if (colorAlpha) {\n      color = zrColor.modifyAlpha(color, colorAlpha);\n    }\n\n    return color;\n  }\n}\n\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n  return thisNodeColor != null ? zrColor.modifyHSL(thisNodeColor, null, null, borderColorSaturation) : null;\n}\n\nfunction getValueVisualDefine(visuals, name) {\n  var value = visuals[name];\n\n  if (value != null && value !== 'none') {\n    return value;\n  }\n}\n\nfunction buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren) {\n  if (!viewChildren || !viewChildren.length) {\n    return;\n  }\n\n  var rangeVisual = getRangeVisual(nodeModel, 'color') || visuals.color != null && visuals.color !== 'none' && (getRangeVisual(nodeModel, 'colorAlpha') || getRangeVisual(nodeModel, 'colorSaturation'));\n\n  if (!rangeVisual) {\n    return;\n  }\n\n  var visualMin = nodeModel.get('visualMin');\n  var visualMax = nodeModel.get('visualMax');\n  var dataExtent = nodeLayout.dataExtent.slice();\n  visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n  visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n  var colorMappingBy = nodeModel.get('colorMappingBy');\n  var opt = {\n    type: rangeVisual.name,\n    dataExtent: dataExtent,\n    visual: rangeVisual.range\n  };\n\n  if (opt.type === 'color' && (colorMappingBy === 'index' || colorMappingBy === 'id')) {\n    opt.mappingMethod = 'category';\n    opt.loop = true; // categories is ordinal, so do not set opt.categories.\n  } else {\n    opt.mappingMethod = 'linear';\n  }\n\n  var mapping = new VisualMapping(opt);\n  mapping.__drColorMappingBy = colorMappingBy;\n  return mapping;\n} // Notice: If we dont have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node dont have children, and its siblings has children,\n// and colorRange is set on level-1, then the node can not be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\n\n\nfunction getRangeVisual(nodeModel, name) {\n  // 'colorRange', 'colorARange', 'colorSRange'.\n  // If not exsits on this node, fetch from levels and series.\n  var range = nodeModel.get(name);\n  return isArray(range) && range.length ? {\n    name: name,\n    range: range\n  } : null;\n}\n\nfunction mapVisual(nodeModel, visuals, child, index, mapping, seriesModel) {\n  var childVisuals = zrUtil.extend({}, visuals);\n\n  if (mapping) {\n    var mappingType = mapping.type;\n    var colorMappingBy = mappingType === 'color' && mapping.__drColorMappingBy;\n    var value = colorMappingBy === 'index' ? index : colorMappingBy === 'id' ? seriesModel.mapIdToIndex(child.getId()) : child.getValue(nodeModel.get('visualDimension'));\n    childVisuals[mappingType] = mapping.mapValueToVisual(value);\n  }\n\n  return childVisuals;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar MAX_SAFE_INTEGER = _number.MAX_SAFE_INTEGER;\n\nvar layout = __webpack_require__(6);\n\nvar helper = __webpack_require__(46);\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'normal', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'normal', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'normal', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'normal', 'height'];\n/**\n * @public\n */\n\nfunction _default(ecModel, api, payload) {\n  // Layout result in each node:\n  // {x, y, width, height, area, borderWidth}\n  var condition = {\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  };\n  ecModel.eachComponent(condition, function (seriesModel) {\n    var ecWidth = api.getWidth();\n    var ecHeight = api.getHeight();\n    var seriesOption = seriesModel.option;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var size = seriesOption.size || []; // Compatible with ec2.\n\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), ecWidth);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), ecHeight); // Fetch payload info.\n\n    var payloadType = payload && payload.type;\n    var targetInfo = helper.retrieveTargetInfo(payload, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort = seriesOption.sort;\n\n      if (sort && sort !== 'asc' && sort !== 'desc') {\n        sort = 'desc';\n      }\n\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort,\n        leafDepth: seriesOption.leafDepth\n      }; // layout should be cleared because using updateView but not update.\n\n      viewRoot.hostTree.clearLayouts(); // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n\n      var viewRootLayout = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout);\n      squarify(viewRoot, options, false, 0); // Supplement layout.\n\n      var viewRootLayout = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout));\n      });\n    }\n\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo); // FIXME\n    // clipec\n\n    prunning(treeRoot, // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight), viewAbovePath, viewRoot, 0);\n  });\n}\n/**\n * Layout treemap with squarify algorithm.\n * @see https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf\n * @see https://github.com/mbostock/d3/blob/master/src/layout/treemap.js\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\n\n\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n\n  if (node.isRemoved()) {\n    return;\n  }\n\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height; // Considering border and gap\n\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  var nodeModel = node.getModel();\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n\n  if (!viewChildren.length) {\n    return;\n  }\n\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n\n  var row = [];\n  row.area = 0;\n\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio); // continue with this orientation\n\n    if (score <= best) {\n      i++;\n      best = score;\n    } // abort, and try a different orientation\n    else {\n        row.area -= row.pop().getLayout().area;\n        position(row, rowFixedLength, rect, halfGapWidth, false);\n        rowFixedLength = mathMin(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n  }\n\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\n\n\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth; // leafDepth has higher priority.\n\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  } // Sort children, order by desc.\n\n\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  } // Set area to each child.\n\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea; // Do not use setLayout({...}, true), because it is needed to clear last layout.\n\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\n\n\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len; // Always travel from little value to big value.\n\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\n\n\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n\n  return viewChildren;\n}\n/**\n * Statistic\n */\n\n\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  } // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n\n\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent; // The same as area dimension.\n\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  } // Other dimension.\n  else {\n      var dataExtent = [Infinity, -Infinity];\n      each(children, function (child) {\n        var value = child.getValue(dimension);\n        value < dataExtent[0] && (dataExtent[0] = value);\n        value > dataExtent[1] && (dataExtent[1] = value);\n      });\n    }\n\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\n\n\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n\n  for (var i = 0, area, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\n\n\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0); // We use Math.max/min to avoid negative width/height when considering gap width.\n\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n} // Return [containerWidth, containerHeight] as defualt.\n\n\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whold width and heigth by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n\n    var currNodeValue = currNode.getValue();\n\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n\n    area *= sum / currNodeValue; // Considering border, suppose aspect ratio is 1.\n\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel, borderWidth));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n} // Root postion base on coord of containerGroup\n\n\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (!targetInfo) {\n    return defaultPosition;\n  } // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n\n\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n\n  if (!layout) {\n    return defaultPosition;\n  } // Transform coord from local to container.\n\n\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n} // Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\n\n\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true); // Transform to child coordinate.\n\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\n\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(275);\n\n__webpack_require__(277);\n\n__webpack_require__(280);\n\nvar categoryFilter = __webpack_require__(281);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar categoryVisual = __webpack_require__(282);\n\nvar edgeVisual = __webpack_require__(283);\n\nvar simpleLayout = __webpack_require__(284);\n\nvar circularLayout = __webpack_require__(285);\n\nvar forceLayout = __webpack_require__(286);\n\nvar createView = __webpack_require__(288);\n\necharts.registerProcessor(categoryFilter);\necharts.registerVisual(zrUtil.curry(visualSymbol, 'graph', 'circle', null));\necharts.registerVisual(categoryVisual);\necharts.registerVisual(edgeVisual);\necharts.registerLayout(simpleLayout);\necharts.registerLayout(circularLayout);\necharts.registerLayout(forceLayout); // Graph view coordinate system\n\necharts.registerCoordinateSystem('graphView', {\n  create: createView\n});\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar List = __webpack_require__(14);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _model = __webpack_require__(5);\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar Model = __webpack_require__(10);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\n\nvar createGraphFromNodeEdge = __webpack_require__(132);\n\nvar GraphSeries = echarts.extendSeriesModel({\n  type: 'series.graph',\n  init: function (option) {\n    GraphSeries.superApply(this, 'init', arguments); // Provide data for legend select\n\n    this.legendDataProvider = function () {\n      return this._categoriesData;\n    };\n\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeOption: function (option) {\n    GraphSeries.superApply(this, 'mergeOption', arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeDefaultAndTheme: function (option) {\n    GraphSeries.superApply(this, 'mergeDefaultAndTheme', arguments);\n    defaultEmphasis(option.edgeLabel, ['show']);\n  },\n  getInitialData: function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n\n    if (nodes && edges) {\n      return createGraphFromNodeEdge(nodes, edges, this, true, beforeLink).data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n\n        return model;\n      });\n      var edgeLabelModel = self.getModel('edgeLabel'); // For option `edgeLabel` can be found by label.xxx.xxx on item mode.\n\n      var fakeSeriesModel = new Model({\n        label: edgeLabelModel.option\n      }, edgeLabelModel.parentModel, ecModel);\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.customizeGetParent(edgeGetParent);\n        return model;\n      });\n\n      function edgeGetParent(path) {\n        path = this.parsePath(path);\n        return path && path[0] === 'label' ? fakeSeriesModel : this.parentModel;\n      }\n    }\n  },\n\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getCategoriesData: function () {\n    return this._categoriesData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var html = [];\n      sourceName != null && html.push(sourceName);\n      targetName != null && html.push(targetName);\n      html = encodeHTML(html.join(' > '));\n\n      if (params.value) {\n        html += ' : ' + encodeHTML(params.value);\n      }\n\n      return html;\n    } else {\n      // dataType === 'node' or empty\n      return GraphSeries.superApply(this, 'formatTooltip', arguments);\n    }\n  },\n  _updateCategoriesData: function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new List(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx, true);\n    });\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  isAnimationEnabled: function () {\n    return GraphSeries.superCall(this, 'isAnimationEnabled') // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get('force.layoutAnimation'));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    layout: null,\n    focusNodeAdjacency: false,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      normal: {\n        position: 'middle'\n      },\n      emphasis: {}\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      normal: {\n        show: false,\n        formatter: '{b}'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {},\n      emphasis: {}\n    },\n    lineStyle: {\n      normal: {\n        color: '#aaa',\n        width: 1,\n        curveness: 0,\n        opacity: 0.5\n      },\n      emphasis: {}\n    }\n  }\n});\nvar _default = GraphSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * Graph data structure\n *\n * @module echarts/data/Graph\n * @author Yi Shen(https://www.github.com/pissang)\n */\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\n/**\n * @alias module:echarts/data/Graph\n * @constructor\n * @param {boolean} directed\n */\n\n\nvar Graph = function (directed) {\n  /**\n   * \n   * @type {boolean}\n   * @private\n   */\n  this._directed = directed || false;\n  /**\n   * @type {Array.<module:echarts/data/Graph.Node>}\n   * @readOnly\n   */\n\n  this.nodes = [];\n  /**\n   * @type {Array.<module:echarts/data/Graph.Edge>}\n   * @readOnly\n   */\n\n  this.edges = [];\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Node>}\n   * @private\n   */\n\n  this._nodesMap = {};\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Edge>}\n   * @private\n   */\n\n  this._edgesMap = {};\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.edgeData;\n};\n\nvar graphProto = Graph.prototype;\n/**\n * @type {string}\n */\n\ngraphProto.type = 'graph';\n/**\n * If is directed graph\n * @return {boolean}\n */\n\ngraphProto.isDirected = function () {\n  return this._directed;\n};\n/**\n * Add a new node\n * @param {string} id\n * @param {number} [dataIndex]\n */\n\n\ngraphProto.addNode = function (id, dataIndex) {\n  id = id || '' + dataIndex;\n  var nodesMap = this._nodesMap;\n\n  if (nodesMap[generateNodeKey(id)]) {\n    return;\n  }\n\n  var node = new Node(id, dataIndex);\n  node.hostGraph = this;\n  this.nodes.push(node);\n  nodesMap[generateNodeKey(id)] = node;\n  return node;\n};\n/**\n * Get node by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getNodeByIndex = function (dataIndex) {\n  var rawIdx = this.data.getRawIndex(dataIndex);\n  return this.nodes[rawIdx];\n};\n/**\n * Get node by id\n * @param  {string} id\n * @return {module:echarts/data/Graph.Node}\n */\n\n\ngraphProto.getNodeById = function (id) {\n  return this._nodesMap[generateNodeKey(id)];\n};\n/**\n * Add a new edge\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.addEdge = function (n1, n2, dataIndex) {\n  var nodesMap = this._nodesMap;\n  var edgesMap = this._edgesMap; // PNEDING\n\n  if (typeof n1 === 'number') {\n    n1 = this.nodes[n1];\n  }\n\n  if (typeof n2 === 'number') {\n    n2 = this.nodes[n2];\n  }\n\n  if (!(n1 instanceof Node)) {\n    n1 = nodesMap[generateNodeKey(n1)];\n  }\n\n  if (!(n2 instanceof Node)) {\n    n2 = nodesMap[generateNodeKey(n2)];\n  }\n\n  if (!n1 || !n2) {\n    return;\n  }\n\n  var key = n1.id + '-' + n2.id; // PENDING\n\n  if (edgesMap[key]) {\n    return;\n  }\n\n  var edge = new Edge(n1, n2, dataIndex);\n  edge.hostGraph = this;\n\n  if (this._directed) {\n    n1.outEdges.push(edge);\n    n2.inEdges.push(edge);\n  }\n\n  n1.edges.push(edge);\n\n  if (n1 !== n2) {\n    n2.edges.push(edge);\n  }\n\n  this.edges.push(edge);\n  edgesMap[key] = edge;\n  return edge;\n};\n/**\n * Get edge by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getEdgeByIndex = function (dataIndex) {\n  var rawIdx = this.edgeData.getRawIndex(dataIndex);\n  return this.edges[rawIdx];\n};\n/**\n * Get edge by two linked nodes\n * @param  {module:echarts/data/Graph.Node|string} n1\n * @param  {module:echarts/data/Graph.Node|string} n2\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.getEdge = function (n1, n2) {\n  if (n1 instanceof Node) {\n    n1 = n1.id;\n  }\n\n  if (n2 instanceof Node) {\n    n2 = n2.id;\n  }\n\n  var edgesMap = this._edgesMap;\n\n  if (this._directed) {\n    return edgesMap[n1 + '-' + n2];\n  } else {\n    return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n  }\n};\n/**\n * Iterate all nodes\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachNode = function (cb, context) {\n  var nodes = this.nodes;\n  var len = nodes.length;\n\n  for (var i = 0; i < len; i++) {\n    if (nodes[i].dataIndex >= 0) {\n      cb.call(context, nodes[i], i);\n    }\n  }\n};\n/**\n * Iterate all edges\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachEdge = function (cb, context) {\n  var edges = this.edges;\n  var len = edges.length;\n\n  for (var i = 0; i < len; i++) {\n    if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n      cb.call(context, edges[i], i);\n    }\n  }\n};\n/**\n * Breadth first traverse\n * @param {Function} cb\n * @param {module:echarts/data/Graph.Node} startNode\n * @param {string} [direction='none'] 'none'|'in'|'out'\n * @param {*} [context]\n */\n\n\ngraphProto.breadthFirstTraverse = function (cb, startNode, direction, context) {\n  if (!(startNode instanceof Node)) {\n    startNode = this._nodesMap[generateNodeKey(startNode)];\n  }\n\n  if (!startNode) {\n    return;\n  }\n\n  var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n\n  for (var i = 0; i < this.nodes.length; i++) {\n    this.nodes[i].__visited = false;\n  }\n\n  if (cb.call(context, startNode, null)) {\n    return;\n  }\n\n  var queue = [startNode];\n\n  while (queue.length) {\n    var currentNode = queue.shift();\n    var edges = currentNode[edgeType];\n\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n\n      if (!otherNode.__visited) {\n        if (cb.call(context, otherNode, currentNode)) {\n          // Stop traversing\n          return;\n        }\n\n        queue.push(otherNode);\n        otherNode.__visited = true;\n      }\n    }\n  }\n}; // TODO\n// graphProto.depthFirstTraverse = function (\n//     cb, startNode, direction, context\n// ) {\n// };\n// Filter update\n\n\ngraphProto.update = function () {\n  var data = this.data;\n  var edgeData = this.edgeData;\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    nodes[data.getRawIndex(i)].dataIndex = i;\n  }\n\n  edgeData.filterSelf(function (idx) {\n    var edge = edges[edgeData.getRawIndex(idx)];\n    return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n  }); // Update edge\n\n  for (var i = 0, len = edges.length; i < len; i++) {\n    edges[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = edgeData.count(); i < len; i++) {\n    edges[edgeData.getRawIndex(i)].dataIndex = i;\n  }\n};\n/**\n * @return {module:echarts/data/Graph}\n */\n\n\ngraphProto.clone = function () {\n  var graph = new Graph(this._directed);\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(nodes[i].id, nodes[i].dataIndex);\n  }\n\n  for (var i = 0; i < edges.length; i++) {\n    var e = edges[i];\n    graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n  }\n\n  return graph;\n};\n/**\n * @alias module:echarts/data/Graph.Node\n */\n\n\nfunction Node(id, dataIndex) {\n  /**\n  * @type {string}\n  */\n  this.id = id == null ? '' : id;\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.inEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.outEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.edges = [];\n  /**\n   * @type {module:echarts/data/Graph}\n   */\n\n  this.hostGraph;\n  /**\n   * @type {number}\n   */\n\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n\nNode.prototype = {\n  constructor: Node,\n\n  /**\n   * @return {number}\n   */\n  degree: function () {\n    return this.edges.length;\n  },\n\n  /**\n   * @return {number}\n   */\n  inDegree: function () {\n    return this.inEdges.length;\n  },\n\n  /**\n  * @return {number}\n  */\n  outDegree: function () {\n    return this.outEdges.length;\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }\n};\n/**\n * \n * @alias module:echarts/data/Graph.Edge\n * @param {module:echarts/data/Graph.Node} n1\n * @param {module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n */\n\nfunction Edge(n1, n2, dataIndex) {\n  /**\n   * 1\n   * @type {module:echarts/data/Graph.Node}\n   */\n  this.node1 = n1;\n  /**\n   * 2\n   * @type {module:echarts/data/Graph.Node}\n   */\n\n  this.node2 = n2;\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n/**\n * @param {string} [path]\n * @return {module:echarts/model/Model}\n */\n\n\nEdge.prototype.getModel = function (path) {\n  if (this.dataIndex < 0) {\n    return;\n  }\n\n  var graph = this.hostGraph;\n  var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n  return itemModel.getModel(path);\n};\n\nvar createGraphDataProxyMixin = function (hostName, dataName) {\n  return {\n    /**\n     * @param {string=} [dimension='value'] Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     * @return {number}\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} [value]\n     */\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n\n    /**\n     * @param {string} key\n     * @return {boolean}\n     */\n    getVisual: function (key, ignoreParent) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key, ignoreParent);\n    },\n\n    /**\n     * @param {Object} layout\n     * @return {boolean} [merge=false]\n     */\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n\n    /**\n     * @return {Object}\n     */\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n\n    /**\n     * @return {module:zrender/Element}\n     */\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n\n    /**\n     * @return {number}\n     */\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n};\n\nzrUtil.mixin(Node, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(Edge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nGraph.Node = Node;\nGraph.Edge = Edge;\nvar _default = Graph;\nmodule.exports = _default;\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar SymbolDraw = __webpack_require__(44);\n\nvar LineDraw = __webpack_require__(80);\n\nvar RoamController = __webpack_require__(64);\n\nvar roamHelper = __webpack_require__(125);\n\nvar _cursorHelper = __webpack_require__(79);\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = __webpack_require__(2);\n\nvar adjustEdge = __webpack_require__(279);\n\nvar nodeOpacityPath = ['itemStyle', 'normal', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'normal', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n  return item.getVisual('opacity') || item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  });\n}\n\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl();\n  el.highlight && el.highlight();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  });\n}\n\nvar _default = echarts.extendChartView({\n  type: 'graph',\n  init: function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (coordSys.type === 'view') {\n      var groupNewProp = {\n        position: coordSys.position,\n        scale: coordSys.scale\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get('force.layoutAnimation');\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = data.getItemModel(idx).get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !this._layouting && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, el.position);\n          }\n        }, this).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        }, this);\n      }\n\n      el.setDraggable(draggable && forceLayout);\n      el.off('mouseover', el.__focusNodeAdjacency);\n      el.off('mouseout', el.__unfocusNodeAdjacency);\n\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el.__focusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            dataIndex: el.dataIndex\n          });\n        });\n        el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'unfocusNodeAdjacency',\n            seriesId: seriesModel.id\n          });\n        });\n      }\n    }, this);\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      el.off('mouseover', el.__focusNodeAdjacency);\n      el.off('mouseout', el.__unfocusNodeAdjacency);\n\n      if (edge.getModel().get('focusNodeAdjacency')) {\n        el.on('mouseover', el.__focusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            edgeDataIndex: edge.dataIndex\n          });\n        });\n        el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'unfocusNodeAdjacency',\n            seriesId: seriesModel.id\n          });\n        });\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get('circular.rotateLabel');\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setStyle({\n          textRotation: -rad,\n          textPosition: textPosition,\n          textOrigin: 'center'\n        });\n        symbolPath.hoverStyle && (symbolPath.hoverStyle.textPosition = textPosition);\n      } else {\n        symbolPath.setStyle({\n          textRotation: 0\n        });\n      }\n    });\n    this._firstRender = false;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = this._model.getData();\n\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var edgeDataIndex = payload.edgeDataIndex;\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n\n    if (!node && !edge) {\n      return;\n    }\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n\n    if (node) {\n      fadeInItem(node, nodeOpacityPath);\n      zrUtil.each(node.edges, function (adjacentEdge) {\n        if (adjacentEdge.dataIndex < 0) {\n          return;\n        }\n\n        fadeInItem(adjacentEdge, lineOpacityPath);\n        fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n        fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n      });\n    }\n\n    if (edge) {\n      fadeInItem(edge, lineOpacityPath);\n      fadeInItem(edge.node1, nodeOpacityPath);\n      fadeInItem(edge.node2, nodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = this._model.getData().graph;\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  },\n  _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (seriesModel.coordinateSystem.type !== 'view') {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (dx, dy) {\n      roamHelper.updateViewOnPan(controllerHost, dx, dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: dx,\n        dy: dy\n      });\n    }).on('zoom', function (zoom, mouseX, mouseY) {\n      roamHelper.updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: zoom,\n        originX: mouseX,\n        originY: mouseY\n      });\n\n      this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n      this._lineDraw.updateLayout();\n    }, this);\n  },\n  _updateNodeAndLinkScale: function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  _getNodeGlobalScale: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupScale = coordSys.scale;\n    var groupZoom = groupScale && groupScale[0] || 1; // Scale node when zoom changes\n\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  },\n  updateLayout: function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar vec2 = __webpack_require__(7);\n\n/**\n * Line path for bezier and straight line draw\n */\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\n\nfunction isLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar _default = graphic.extendShape({\n  type: 'ec-line',\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    percent: 1,\n    cpx1: null,\n    cpy1: null\n  },\n  buildPath: function (ctx, shape) {\n    (isLine(shape) ? straightLineProto : bezierCurveProto).buildPath(ctx, shape);\n  },\n  pointAt: function (t) {\n    return isLine(this.shape) ? straightLineProto.pointAt.call(this, t) : bezierCurveProto.pointAt.call(this, t);\n  },\n  tangentAt: function (t) {\n    var shape = this.shape;\n    var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar curveTool = __webpack_require__(25);\n\nvar vec2 = __webpack_require__(7);\n\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\n\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  } // Assume the segment is monotoneFind root through Bisection method\n  // At most 32 iteration\n\n\n  for (var i = 0; i < 32; i++) {\n    // var prev = t - interval;\n    var next = t + interval; // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    } // var prevDiff = v2DistSquare(v1, center) - radiusSquare;\n\n\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n\n  return t;\n} // Adjust edge to avoid\n\n\nfunction _default(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n\n  function getSymbolSize(node) {\n    var symbolSize = node.getVisual('symbolSize');\n\n    if (symbolSize instanceof Array) {\n      symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n    }\n\n    return symbolSize;\n  }\n\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n\n    var originalPoints = linePoints.__original; // Quadratic curve\n\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n\n      if (fromSymbol && fromSymbol != 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale); // Subdivide and get the second\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n\n      if (toSymbol && toSymbol != 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale); // Subdivide and get the first\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      } // Copy back to layout\n\n\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    } // Line\n    else {\n        vec2.copy(pts2[0], originalPoints[0]);\n        vec2.copy(pts2[1], originalPoints[1]);\n        vec2.sub(v, pts2[1], pts2[0]);\n        vec2.normalize(v, v);\n\n        if (fromSymbol && fromSymbol != 'none') {\n          var symbolSize = getSymbolSize(edge.node1);\n          vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n        }\n\n        if (toSymbol && toSymbol != 'none') {\n          var symbolSize = getSymbolSize(edge.node2);\n          vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n        }\n\n        vec2.copy(linePoints[0], pts2[0]);\n        vec2.copy(linePoints[1], pts2[1]);\n      }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar _roamHelper = __webpack_require__(127);\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\n/**\n * @payload\n * @property {string} name Series name\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\n\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: payload\n  }, function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var res = updateCenterAndZoom(coordSys, payload);\n    seriesModel.setCenter && seriesModel.setCenter(res.center);\n    seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n  });\n});\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n * @property {number} [dataIndex]\n */\n\necharts.registerAction({\n  type: 'focusNodeAdjacency',\n  event: 'focusNodeAdjacency',\n  update: 'series.graph:focusNodeAdjacency'\n}, function () {});\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n */\n\necharts.registerAction({\n  type: 'unfocusNodeAdjacency',\n  event: 'unfocusNodeAdjacency',\n  update: 'series.graph:unfocusNodeAdjacency'\n}, function () {});\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports) {\n\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n\n      if (category != null) {\n        if (typeof category === 'number') {\n          category = categoryNames[category];\n        } // If in any legend component the status is not selected.\n\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  }, this);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports) {\n\nfunction _default(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx); // Add prefix to avoid conflict with Object.prototype.\n\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var color = itemModel.get('itemStyle.normal.color') || seriesModel.getColorFromPalette(name, paletteScope);\n      categoriesData.setItemVisual(idx, 'color', color);\n    }); // Assign category color to visual\n\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var category = model.getShallow('category');\n\n        if (category != null) {\n          if (typeof category === 'string') {\n            category = categoryNameIdxMap['ec-' + category];\n          }\n\n          if (!data.getItemVisual(idx, 'color', true)) {\n            data.setItemVisual(idx, 'color', categoriesData.getItemVisual(category, 'color'));\n          }\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports) {\n\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    var colorQuery = 'lineStyle.normal.color'.split('.');\n    var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('color', seriesModel.get(colorQuery));\n    edgeData.setVisual('opacity', seriesModel.get(opacityQuery));\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true)); // Edge visual must after node visual\n\n      var color = itemModel.get(colorQuery);\n      var opacity = itemModel.get(opacityQuery);\n\n      switch (color) {\n        case 'source':\n          color = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          color = edge.node2.getVisual('color');\n          break;\n      }\n\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n      edge.setVisual('color', color);\n      edge.setVisual('opacity', opacity);\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _simpleLayoutHelper = __webpack_require__(133);\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\nvar simpleLayoutEdge = _simpleLayoutHelper.simpleLayoutEdge;\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      var data = seriesModel.getData();\n      var dimensions = coordSys.dimensions;\n      data.each(dimensions, function () {\n        var hasValue;\n        var args = arguments;\n        var value = [];\n\n        for (var i = 0; i < dimensions.length; i++) {\n          if (!isNaN(args[i])) {\n            hasValue = true;\n          }\n\n          value.push(args[i]);\n        }\n\n        var idx = args[args.length - 1];\n\n        if (hasValue) {\n          data.setItemLayout(idx, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data.setItemLayout(idx, [NaN, NaN]);\n        }\n      });\n      simpleLayoutEdge(data.graph);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _circularLayoutHelper = __webpack_require__(134);\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _forceHelper = __webpack_require__(287);\n\nvar forceLayout = _forceHelper.forceLayout;\n\nvar _simpleLayoutHelper = __webpack_require__(133);\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\n\nvar _circularLayoutHelper = __webpack_require__(134);\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\nvar _number = __webpack_require__(3);\n\nvar linearMap = _number.linearMap;\n\nvar vec2 = __webpack_require__(7);\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints = graphSeries.preservedPoints || {};\n      var graph = graphSeries.getGraph();\n      var nodeData = graph.data;\n      var edgeData = graph.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n\n      if (graphSeries.preservedPoints) {\n        nodeData.each(function (idx) {\n          var id = nodeData.getId(idx);\n          nodeData.setItemLayout(idx, preservedPoints[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries);\n      }\n\n      var nodeDataExtent = nodeData.getDataExtent('value');\n      var edgeDataExtent = edgeData.getDataExtent('value'); // var edgeDataExtent = edgeData.getDataExtent('value');\n\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n\n      if (!zrUtil.isArray(repulsion)) {\n        repulsion = [repulsion, repulsion];\n      }\n\n      if (!zrUtil.isArray(edgeLength)) {\n        edgeLength = [edgeLength, edgeLength];\n      } // Larger value has smaller length\n\n\n      edgeLength = [edgeLength[1], edgeLength[0]];\n      var nodes = nodeData.mapArray('value', function (value, idx) {\n        var point = nodeData.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent, repulsion);\n\n        if (isNaN(rep)) {\n          rep = (repulsion[0] + repulsion[1]) / 2;\n        }\n\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent, edgeLength);\n\n        if (isNaN(d)) {\n          d = (edgeLength[0] + edgeLength[1]) / 2;\n        }\n\n        return {\n          n1: nodes[edge.node1.dataIndex],\n          n2: nodes[edge.node2.dataIndex],\n          d: d,\n          curveness: edge.getModel().get('lineStyle.normal.curveness') || 0\n        };\n      });\n      var coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity')\n      });\n      var oldStep = forceInstance.step;\n\n      forceInstance.step = function (cb) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph.getNodeByIndex(i).getLayout());\n          }\n        }\n\n        oldStep(function (nodes, edges, stopped) {\n          for (var i = 0, l = nodes.length; i < l; i++) {\n            if (!nodes[i].fixed) {\n              graph.getNodeByIndex(i).setLayout(nodes[i].p);\n            }\n\n            preservedPoints[nodeData.getId(i)] = nodes[i].p;\n          }\n\n          for (var i = 0, l = edges.length; i < l; i++) {\n            var e = edges[i];\n            var edge = graph.getEdgeByIndex(i);\n            var p1 = e.n1.p;\n            var p2 = e.n2.p;\n            var points = edge.getLayout();\n            points = points ? points.slice() : [];\n            points[0] = points[0] || [];\n            points[1] = points[1] || [];\n            vec2.copy(points[0], p1);\n            vec2.copy(points[1], p2);\n\n            if (+e.curveness) {\n              points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n            }\n\n            edge.setLayout(points);\n          } // Update layout\n\n\n          cb && cb(stopped);\n        });\n      };\n\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints; // Step to get the layout\n\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(7);\n\nvar scaleAndAdd = vec2.scaleAndAdd; // function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nfunction forceLayout(nodes, edges, opts) {\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2]; // var scale = opts.scale || 1;\n\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity; // for (var i = 0; i < edges.length; i++) {\n  //     var e = edges[i];\n  //     var n1 = e.n1;\n  //     var n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n\n    if (!n.p) {\n      // Use the position from first adjecent node with defined position\n      // Or use a random position\n      // From d3\n      // if (n.edges) {\n      //     var j = -1;\n      //     while (++j < n.edges.length) {\n      //         var e = n.edges[j];\n      //         var other = adjacentNode(n, e);\n      //         if (other.p) {\n      //             n.p = vec2.clone(other.p);\n      //             break;\n      //         }\n      //     }\n      // }\n      // if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]); // }\n    }\n\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  } // Formula in 'Graph Drawing by Force-directed Placement'\n  // var k = scale * Math.sqrt(width * height / nodes.length);\n  // var k2 = k * k;\n\n\n  var friction = 0.6;\n  return {\n    warmUp: function () {\n      friction = 0.5;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n    step: function (cb) {\n      var v12 = [];\n      var nLen = nodes.length;\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n\n        if (isNaN(w)) {\n          w = 0;\n        }\n\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      } // Gravity\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p); // var d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // var gravityFactor = gravity;\n\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      } // Repulsive\n      // PENDING\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n\n      var v = [];\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n\n      friction = friction * 0.992;\n      cb && cb(nodes, edges, friction < 0.01);\n    }\n  };\n}\n\nexports.forceLayout = forceLayout;\n\n/***/ }),\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar View = __webpack_require__(122);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar bbox = __webpack_require__(71);\n\n// FIXME Where to create the simple view coordinate system\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = seriesModel.getBoxLayoutParams();\n  option.aspect = aspect;\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n\n    if (!coordSysType || coordSysType === 'view') {\n      var data = seriesModel.getData();\n      var positions = data.mapArray(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max); // If width or height is 0\n\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]); // FIXME If get view rect after data processed?\n\n      var viewRect = getViewRect(seriesModel, api, aspect); // Position may be NaN, use view rect instead\n\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight); // Update roam info\n\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(290);\n\n__webpack_require__(291);\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar List = __webpack_require__(14);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar zrUtil = __webpack_require__(0);\n\nvar GaugeSeries = SeriesModel.extend({\n  type: 'series.gauge',\n  getInitialData: function (option, ecModel) {\n    var list = new List(['value'], this);\n    var dataOpt = option.data || [];\n\n    if (!zrUtil.isArray(dataOpt)) {\n      dataOpt = [dataOpt];\n    } // Only use the first data item\n\n\n    list.initData(dataOpt);\n    return list;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // \n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // \n    min: 0,\n    // \n    max: 100,\n    // 10\n    splitNumber: 10,\n    // \n    axisLine: {\n      // show\n      show: true,\n      lineStyle: {\n        // lineStyle\n        color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']],\n        width: 30\n      }\n    },\n    // \n    splitLine: {\n      // show\n      show: true,\n      // length\n      length: 30,\n      // lineStylelineStyle\n      lineStyle: {\n        color: '#eee',\n        width: 2,\n        type: 'solid'\n      }\n    },\n    // \n    axisTick: {\n      // show\n      show: true,\n      // split\n      splitNumber: 5,\n      // length\n      length: 8,\n      // lineStyle\n      lineStyle: {\n        color: '#eee',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 5,\n      // formatter: null,\n      color: 'auto'\n    },\n    pointer: {\n      show: true,\n      length: '80%',\n      width: 8\n    },\n    itemStyle: {\n      normal: {\n        color: 'auto'\n      }\n    },\n    title: {\n      show: true,\n      // x, ypx\n      offsetCenter: [0, '-40%'],\n      // TEXTSTYLE\n      color: '#333',\n      fontSize: 15\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      // self-adaption\n      padding: [5, 10],\n      // x, ypx\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // TEXTSTYLE\n      color: 'auto',\n      fontSize: 30\n    }\n  }\n});\nvar _default = GaugeSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar PointerPath = __webpack_require__(292);\n\nvar graphic = __webpack_require__(2);\n\nvar ChartView = __webpack_require__(26);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar round = _number.round;\nvar linearMap = _number.linearMap;\n\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(label, labelFormatter) {\n  if (labelFormatter) {\n    if (typeof labelFormatter === 'string') {\n      label = labelFormatter.replace('{value}', label != null ? label : '');\n    } else if (typeof labelFormatter === 'function') {\n      label = labelFormatter(label);\n    }\n  }\n\n  return label;\n}\n\nvar PI2 = Math.PI * 2;\nvar GaugeView = ChartView.extend({\n  type: 'gauge',\n  render: function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get('axisLine.lineStyle.color');\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n  },\n  dispose: function () {},\n  _renderMain: function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var angleRangeSpan = (endAngle - startAngle) % PI2;\n    var prevEndAngle = startAngle;\n    var axisLineWidth = lineStyleModel.get('width');\n\n    for (var i = 0; i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      var endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new graphic.Sector({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'borderWidth', 'borderColor']));\n      group.add(sector);\n      prevEndAngle = endAngle;\n    }\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      for (var i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    if (!clockwise) {\n      var tmp = startAngle;\n      startAngle = endAngle;\n      endAngle = tmp;\n    }\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderTitle(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderDetail(seriesModel, ecModel, api, getColor, posInfo);\n  },\n  _renderTicks: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n\n    for (var i = 0; i <= splitNumber; i++) {\n      var unitX = Math.cos(angle);\n      var unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * r + cx,\n            y1: unitY * r + cy,\n            x2: unitX * (r - splitLineLen) + cx,\n            y2: unitY * (r - splitLineLen) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var distance = labelModel.get('distance');\n        var autoColor = getColor(i / splitNumber);\n        group.add(new graphic.Text({\n          style: graphic.setTextStyle({}, labelModel, {\n            text: label,\n            x: unitX * (r - splitLineLen - distance) + cx,\n            y: unitY * (r - splitLineLen - distance) + cy,\n            textVerticalAlign: unitY < -0.4 ? 'top' : unitY > 0.4 ? 'bottom' : 'middle',\n            textAlign: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n          }, {\n            autoColor: autoColor\n          }),\n          silent: true\n        }));\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        for (var j = 0; j <= subSplitNumber; j++) {\n          var unitX = Math.cos(angle);\n          var unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * r + cx,\n              y1: unitY * r + cy,\n              x2: unitX * (r - tickLen) + cx,\n              y2: unitY * (r - tickLen) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  },\n  _renderPointer: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var oldData = this._data;\n\n    if (!seriesModel.get('pointer.show')) {\n      // Remove old element\n      oldData && oldData.eachItemGraphicEl(function (el) {\n        group.remove(el);\n      });\n      return;\n    }\n\n    var valueExtent = [+seriesModel.get('min'), +seriesModel.get('max')];\n    var angleExtent = [startAngle, endAngle];\n    var data = seriesModel.getData();\n    data.diff(oldData).add(function (idx) {\n      var pointer = new PointerPath({\n        shape: {\n          angle: startAngle\n        }\n      });\n      graphic.initProps(pointer, {\n        shape: {\n          angle: linearMap(data.get('value', idx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(idx, pointer);\n    }).update(function (newIdx, oldIdx) {\n      var pointer = oldData.getItemGraphicEl(oldIdx);\n      graphic.updateProps(pointer, {\n        shape: {\n          angle: linearMap(data.get('value', newIdx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(newIdx, pointer);\n    }).remove(function (idx) {\n      var pointer = oldData.getItemGraphicEl(idx);\n      group.remove(pointer);\n    }).execute();\n    data.eachItemGraphicEl(function (pointer, idx) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      pointer.setShape({\n        x: posInfo.cx,\n        y: posInfo.cy,\n        width: parsePercent(pointerModel.get('width'), posInfo.r),\n        r: parsePercent(pointerModel.get('length'), posInfo.r)\n      });\n      pointer.useStyle(itemModel.getModel('itemStyle.normal').getItemStyle());\n\n      if (pointer.style.fill === 'auto') {\n        pointer.setStyle('fill', getColor(linearMap(data.get('value', idx), valueExtent, [0, 1], true)));\n      }\n\n      graphic.setHoverStyle(pointer, itemModel.getModel('itemStyle.emphasis').getItemStyle());\n    });\n    this._data = data;\n  },\n  _renderTitle: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var titleModel = seriesModel.getModel('title');\n\n    if (titleModel.get('show')) {\n      var offsetCenter = titleModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var minVal = +seriesModel.get('min');\n      var maxVal = +seriesModel.get('max');\n      var value = seriesModel.getData().get('value', 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, titleModel, {\n          x: x,\n          y: y,\n          // FIXME First data name ?\n          text: seriesModel.getData().getName(0),\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  },\n  _renderDetail: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var detailModel = seriesModel.getModel('detail');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n\n    if (detailModel.get('show')) {\n      var offsetCenter = detailModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var width = parsePercent(detailModel.get('width'), posInfo.r);\n      var height = parsePercent(detailModel.get('height'), posInfo.r);\n      var value = seriesModel.getData().get('value', 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, detailModel, {\n          x: x,\n          y: y,\n          text: formatLabel( // FIXME First data name ?\n          value, detailModel.get('formatter')),\n          textWidth: isNaN(width) ? null : width,\n          textHeight: isNaN(height) ? null : height,\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  }\n});\nvar _default = GaugeView;\nmodule.exports = _default;\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(12);\n\nvar _default = Path.extend({\n  type: 'echartsGaugePointer',\n  shape: {\n    angle: 0,\n    width: 10,\n    r: 10,\n    x: 0,\n    y: 0\n  },\n  buildPath: function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n    return;\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(294);\n\n__webpack_require__(295);\n\nvar dataColor = __webpack_require__(78);\n\nvar funnelLayout = __webpack_require__(296);\n\nvar dataFilter = __webpack_require__(62);\n\necharts.registerVisual(zrUtil.curry(dataColor, 'funnel'));\necharts.registerLayout(funnelLayout);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'funnel'));\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar List = __webpack_require__(14);\n\nvar _model = __webpack_require__(5);\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar completeDimensions = __webpack_require__(19);\n\nvar FunnelSeries = echarts.extendSeriesModel({\n  type: 'series.funnel',\n  init: function (option) {\n    FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    }; // Extend labelLine emphasis\n\n\n    this._defaultLabelLine(option);\n  },\n  getInitialData: function (option, ecModel) {\n    var dimensions = completeDimensions(['value'], option.data);\n    var list = new List(dimensions, this);\n    list.initData(option.data);\n    return list;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option.labelLine, ['show']);\n    var labelLineNormalOpt = option.labelLine.normal;\n    var labelLineEmphasisOpt = option.labelLine.emphasis; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.normal.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.label.emphasis.show;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n    var sum = data.getSum('value'); // Percent is 0 if sum is 0\n\n    params.percent = !sum ? 0 : +(data.get('value', dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    legendHoverLink: true,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // \n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    // 'ascending', 'descending'\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      normal: {\n        show: true,\n        position: 'outer' // formatter: Tooltip.formatter\n\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    labelLine: {\n      normal: {\n        show: true,\n        length: 20,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      emphasis: {}\n    },\n    itemStyle: {\n      normal: {\n        // color: ,\n        borderColor: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {// color: ,\n      }\n    }\n  }\n});\nvar _default = FunnelSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar zrUtil = __webpack_require__(0);\n\nvar ChartView = __webpack_require__(26);\n\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\nfunction FunnelPiece(data, idx) {\n  graphic.Group.call(this);\n  var polygon = new graphic.Polygon();\n  var labelLine = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(polygon);\n  this.add(labelLine);\n  this.add(text);\n  this.updateData(data, idx, true); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    labelLine.ignore = labelLine.hoverIgnore;\n    text.ignore = text.hoverIgnore;\n  }\n\n  function onNormal() {\n    labelLine.ignore = labelLine.normalIgnore;\n    text.ignore = text.normalIgnore;\n  }\n\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\n\nvar funnelPieceProto = FunnelPiece.prototype;\nvar opacityAccessPath = ['itemStyle', 'normal', 'opacity'];\n\nfunnelPieceProto.updateData = function (data, idx, firstCreate) {\n  var polygon = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var opacity = data.getItemModel(idx).get(opacityAccessPath);\n  opacity = opacity == null ? 1 : opacity; // Reset style\n\n  polygon.useStyle({});\n\n  if (firstCreate) {\n    polygon.setShape({\n      points: layout.points\n    });\n    polygon.setStyle({\n      opacity: 0\n    });\n    graphic.initProps(polygon, {\n      style: {\n        opacity: opacity\n      }\n    }, seriesModel, idx);\n  } else {\n    graphic.updateProps(polygon, {\n      style: {\n        opacity: opacity\n      },\n      shape: {\n        points: layout.points\n      }\n    }, seriesModel, idx);\n  } // Update common style\n\n\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var visualColor = data.getItemVisual(idx, 'color');\n  polygon.setStyle(zrUtil.defaults({\n    lineJoin: 'round',\n    fill: visualColor\n  }, itemStyleModel.getModel('normal').getItemStyle(['opacity'])));\n  polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n  this._updateLabel(data, idx);\n\n  graphic.setHoverStyle(this);\n};\n\nfunnelPieceProto._updateLabel = function (data, idx) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.updateProps(labelLine, {\n    shape: {\n      points: labelLayout.linePoints || labelLayout.linePoints\n    }\n  }, seriesModel, idx);\n  graphic.updateProps(labelText, {\n    style: {\n      x: labelLayout.x,\n      y: labelLayout.y\n    }\n  }, seriesModel, idx);\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label.normal');\n  var labelHoverModel = itemModel.getModel('label.emphasis');\n  var labelLineModel = itemModel.getModel('labelLine.normal');\n  var labelLineHoverModel = itemModel.getModel('labelLine.emphasis');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n};\n\nzrUtil.inherits(FunnelPiece, graphic.Group);\nvar FunnelView = ChartView.extend({\n  type: 'funnel',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\nvar _default = FunnelView;\nmodule.exports = _default;\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar layout = __webpack_require__(6);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction getSortedIndices(data, sort) {\n  var valueArr = data.mapArray('value', function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n\n  return indices;\n}\n\nfunction labelLayout(data) {\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label.normal');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine.normal');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n\n    if (isLabelInside) {\n      textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n      textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n      textAlign = 'center';\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1;\n      var y1;\n      var x2;\n      var labelLineLen = labelLineModel.get('length');\n\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      }\n\n      var y2 = y1;\n      linePoints = [[x1, y1], [x2, y2]];\n      textY = y2;\n    }\n\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\n\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var indices = getSortedIndices(data, sort);\n    var sizeExtent = [parsePercent(seriesModel.get('minSize'), viewRect.width), parsePercent(seriesModel.get('maxSize'), viewRect.width)];\n    var dataExtent = data.getDataExtent('value');\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n\n    if (max == null) {\n      max = dataExtent[1];\n    }\n\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var itemHeight = (viewRect.height - gap * (data.count() - 1)) / data.count();\n    var y = viewRect.y;\n\n    var getLinePoints = function (idx, offY) {\n      // End point index is data.count() and we assign it 0\n      var val = data.get('value', idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n\n      switch (funnelAlign) {\n        case 'left':\n          x0 = viewRect.x;\n          break;\n\n        case 'center':\n          x0 = viewRect.x + (viewRect.width - itemWidth) / 2;\n          break;\n\n        case 'right':\n          x0 = viewRect.x + viewRect.width - itemWidth;\n          break;\n      }\n\n      return [[x0, offY], [x0 + itemWidth, offY]];\n    };\n\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemHeight = -itemHeight;\n      gap = -gap;\n      y += viewRect.height;\n      indices = indices.reverse();\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var start = getLinePoints(idx, y);\n      var end = getLinePoints(nextIdx, y + itemHeight);\n      y += itemHeight + gap;\n      data.setItemLayout(idx, {\n        points: start.concat(end.slice().reverse())\n      });\n    }\n\n    labelLayout(data);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 297 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(135);\n\n__webpack_require__(306);\n\n__webpack_require__(307);\n\nvar parallelVisual = __webpack_require__(308);\n\necharts.registerVisual(parallelVisual);\n\n/***/ }),\n/* 298 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nfunction _default(option) {\n  createParallelIfNeeded(option);\n  mergeAxisOptionFromParallel(option);\n}\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\n\n\nfunction createParallelIfNeeded(option) {\n  if (option.parallel) {\n    return;\n  }\n\n  var hasParallelSeries = false;\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'parallel') {\n      hasParallelSeries = true;\n    }\n  });\n\n  if (hasParallelSeries) {\n    option.parallel = [{}];\n  }\n}\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\n\n\nfunction mergeAxisOptionFromParallel(option) {\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\n  zrUtil.each(axes, function (axisOption) {\n    if (!zrUtil.isObject(axisOption)) {\n      return;\n    }\n\n    var parallelIndex = axisOption.parallelIndex || 0;\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\n\n    if (parallelOption && parallelOption.parallelAxisDefault) {\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 299 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar matrix = __webpack_require__(16);\n\nvar layoutUtil = __webpack_require__(6);\n\nvar axisHelper = __webpack_require__(17);\n\nvar ParallelAxis = __webpack_require__(300);\n\nvar graphic = __webpack_require__(2);\n\nvar numberUtil = __webpack_require__(3);\n\nvar sliderMove = __webpack_require__(47);\n\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar round = numberUtil.round;\nvar PI = Math.PI;\n\nfunction Parallel(parallelModel, ecModel, api) {\n  /**\n   * key: dimension\n   * @type {Object.<string, module:echarts/coord/parallel/Axis>}\n   * @private\n   */\n  this._axesMap = zrUtil.createHashMap();\n  /**\n   * key: dimension\n   * value: {position: [], rotation, }\n   * @type {Object.<string, Object>}\n   * @private\n   */\n\n  this._axesLayout = {};\n  /**\n   * Always follow axis order.\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = parallelModel.dimensions;\n  /**\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n  /**\n   * @type {module:echarts/coord/parallel/ParallelModel}\n   */\n\n  this._model = parallelModel;\n\n  this._init(parallelModel, ecModel, api);\n}\n\nParallel.prototype = {\n  type: 'parallel',\n  constructor: Parallel,\n\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n  _init: function (parallelModel, ecModel, api) {\n    var dimensions = parallelModel.dimensions;\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\n    each(dimensions, function (dim, idx) {\n      var axisIndex = parallelAxisIndex[idx];\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\n\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Injection\n\n      axisModel.axis = axis;\n      axis.model = axisModel;\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\n    }, this);\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    this._updateAxesFromSeries(this._model, ecModel);\n  },\n\n  /**\n   * @override\n   */\n  containPoint: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var axisBase = layoutInfo.axisBase;\n    var layoutBase = layoutInfo.layoutBase;\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var pAxis = point[1 - pixelDimIndex];\n    var pLayout = point[pixelDimIndex];\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\n  },\n  getModel: function () {\n    return this._model;\n  },\n\n  /**\n   * Update properties from series\n   * @private\n   */\n  _updateAxesFromSeries: function (parallelModel, ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (!parallelModel.contains(seriesModel, ecModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      each(this.dimensions, function (dim) {\n        var axis = this._axesMap.get(dim);\n\n        axis.scale.unionExtentFromData(data, dim);\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * Resize the parallel coordinate system.\n   * @param {module:echarts/coord/parallel/ParallelModel} parallelModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n  resize: function (parallelModel, api) {\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._layoutAxes();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _makeLayoutInfo: function () {\n    var parallelModel = this._model;\n    var rect = this._rect;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n    var layout = parallelModel.get('layout');\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n    var layoutLength = rect[wh[pixelDimIndex]];\n    var layoutExtent = [0, layoutLength];\n    var axisCount = this.dimensions.length;\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0; // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n    // where collapsed axes should be overlapped.\n\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\n    var winSize;\n\n    if (!axisExpandWindow) {\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    } else {\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    }\n\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount); // Avoid axisCollapseWidth is too small.\n\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0); // Find the first and last indices > ewin[0] and < ewin[1].\n\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1]; // Pos in ec coordinates.\n\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n    return {\n      layout: layout,\n      pixelDimIndex: pixelDimIndex,\n      layoutBase: rect[xy[pixelDimIndex]],\n      layoutLength: layoutLength,\n      axisBase: rect[xy[1 - pixelDimIndex]],\n      axisLength: rect[wh[1 - pixelDimIndex]],\n      axisExpandable: axisExpandable,\n      axisExpandWidth: axisExpandWidth,\n      axisCollapseWidth: axisCollapseWidth,\n      axisExpandWindow: axisExpandWindow,\n      axisCount: axisCount,\n      winInnerIndices: winInnerIndices,\n      axisExpandWindow0Pos: axisExpandWindow0Pos\n    };\n  },\n\n  /**\n   * @private\n   */\n  _layoutAxes: function () {\n    var rect = this._rect;\n    var axes = this._axesMap;\n    var dimensions = this.dimensions;\n\n    var layoutInfo = this._makeLayoutInfo();\n\n    var layout = layoutInfo.layout;\n    axes.each(function (axis) {\n      var axisExtent = [0, layoutInfo.axisLength];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n    });\n    each(dimensions, function (dim, idx) {\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\n      var positionTable = {\n        horizontal: {\n          x: posInfo.position,\n          y: layoutInfo.axisLength\n        },\n        vertical: {\n          x: 0,\n          y: posInfo.position\n        }\n      };\n      var rotationTable = {\n        horizontal: PI / 2,\n        vertical: 0\n      };\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\n      var rotation = rotationTable[layout];\n      var transform = matrix.create();\n      matrix.rotate(transform, transform, rotation);\n      matrix.translate(transform, transform, position); // TODO\n      // tick\n      // TODO\n      // axis order  dimensions\n\n      this._axesLayout[dim] = {\n        position: position,\n        rotation: rotation,\n        transform: transform,\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n        axisLabelShow: posInfo.axisLabelShow,\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n        tickDirection: 1,\n        labelDirection: 1,\n        labelInterval: axes.get(dim).getLabelInterval()\n      };\n    }, this);\n  },\n\n  /**\n   * Get axis by dim.\n   * @param {string} dim\n   * @return {module:echarts/coord/parallel/ParallelAxis} [description]\n   */\n  getAxis: function (dim) {\n    return this._axesMap.get(dim);\n  },\n\n  /**\n   * Convert a dim value of a single item of series data to Point.\n   * @param {*} value\n   * @param {string} dim\n   * @return {Array}\n   */\n  dataToPoint: function (value, dim) {\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\n  },\n\n  /**\n   * Travel data for one time, get activeState of each data item.\n   * @param {module:echarts/data/List} data\n   * @param {Functio} cb param: {string} activeState 'active' or 'inactive' or 'normal'\n   *                            {number} dataIndex\n   * @param {Object} context\n   */\n  eachActiveState: function (data, callback, context) {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = this.hasAxisBrushed();\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      var values = data.getValues(dimensions, i);\n      var activeState;\n\n      if (!hasActiveSet) {\n        activeState = 'normal';\n      } else {\n        activeState = 'active';\n\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n          var dimName = dimensions[j];\n          var state = axesMap.get(dimName).model.getActiveState(values[j], j);\n\n          if (state === 'inactive') {\n            activeState = 'inactive';\n            break;\n          }\n        }\n      }\n\n      callback.call(context, activeState, i);\n    }\n  },\n\n  /**\n   * Whether has any activeSet.\n   * @return {boolean}\n   */\n  hasAxisBrushed: function () {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = false;\n\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n        hasActiveSet = true;\n      }\n    }\n\n    return hasActiveSet;\n  },\n\n  /**\n   * Convert coords of each axis to Point.\n   *  Return point. For example: [10, 20]\n   * @param {Array.<number>} coords\n   * @param {string} dim\n   * @return {Array.<number>}\n   */\n  axisCoordToPoint: function (coord, dim) {\n    var axisLayout = this._axesLayout[dim];\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\n  },\n\n  /**\n   * Get axis layout.\n   */\n  getAxisLayout: function (dim) {\n    return zrUtil.clone(this._axesLayout[dim]);\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n   */\n  getSlidedAxisExpandWindow: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)]; // Out of the area of coordinate system.\n\n    if (!this.containPoint(point)) {\n      return {\n        behavior: 'none',\n        axisExpandWindow: axisExpandWindow\n      };\n    } // Conver the point from global to expand coordinates.\n\n\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos; // For dragging operation convenience, the window should not be\n    // slided when mouse is the center area of the window.\n\n    var delta;\n    var behavior = 'slide';\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea'); // But consider touch device, jump is necessary.\n\n\n    var useJump = triggerArea[0] != null;\n\n    if (axisCollapseWidth) {\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * triggerArea[2];\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\n      } else {\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\n      }\n\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all') // Avoid nonsense triger on mousemove.\n      : behavior = 'none';\n    } // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n    else {\n        var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n        var pos = extent[1] * pointCoord / winSize;\n        axisExpandWindow = [mathMax(0, pos - winSize / 2)];\n        axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize);\n        axisExpandWindow[0] = axisExpandWindow[1] - winSize;\n      }\n\n    return {\n      axisExpandWindow: axisExpandWindow,\n      behavior: behavior\n    };\n  }\n};\n\nfunction restrict(len, extent) {\n  return mathMin(mathMax(len, extent[0]), extent[1]);\n}\n\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n  return {\n    position: step * axisIndex,\n    axisNameAvailableWidth: step,\n    axisLabelShow: true\n  };\n}\n\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n  var layoutLength = layoutInfo.layoutLength;\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\n  var axisCount = layoutInfo.axisCount;\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n  var winInnerIndices = layoutInfo.winInnerIndices;\n  var position;\n  var axisNameAvailableWidth = axisCollapseWidth;\n  var axisLabelShow = false;\n  var nameTruncateMaxWidth;\n\n  if (axisIndex < winInnerIndices[0]) {\n    position = axisIndex * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  } else if (axisIndex <= winInnerIndices[1]) {\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n    axisNameAvailableWidth = axisExpandWidth;\n    axisLabelShow = true;\n  } else {\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  }\n\n  return {\n    position: position,\n    axisNameAvailableWidth: axisNameAvailableWidth,\n    axisLabelShow: axisLabelShow,\n    nameTruncateMaxWidth: nameTruncateMaxWidth\n  };\n}\n\nvar _default = Parallel;\nmodule.exports = _default;\n\n/***/ }),\n/* 300 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\n/**\n * @constructor module:echarts/coord/parallel/ParallelAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n */\nvar ParallelAxis = function (dim, scale, coordExtent, axisType, axisIndex) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.axisIndex = axisIndex;\n};\n\nParallelAxis.prototype = {\n  constructor: ParallelAxis,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/parallel/AxisModel}\n   */\n  model: null,\n\n  /**\n   * @override\n   */\n  isHorizontal: function () {\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n  }\n};\nzrUtil.inherits(ParallelAxis, Axis);\nvar _default = ParallelAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 301 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Component = __webpack_require__(13);\n\n__webpack_require__(302);\n\nvar _default = Component.extend({\n  type: 'parallel',\n  dependencies: ['parallelAxis'],\n\n  /**\n   * @type {module:echarts/coord/parallel/Parallel}\n   */\n  coordinateSystem: null,\n\n  /**\n   * Each item like: 'dim0', 'dim1', 'dim2', ...\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * Coresponding to dimensions.\n   * @type {Array.<number>}\n   * @readOnly\n   */\n  parallelAxisIndex: null,\n  layoutMode: 'box',\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    layout: 'horizontal',\n    // 'horizontal' or 'vertical'\n    // FIXME\n    // naming?\n    axisExpandable: false,\n    axisExpandCenter: null,\n    axisExpandCount: 0,\n    axisExpandWidth: 50,\n    // FIXME '10%' ?\n    axisExpandRate: 17,\n    axisExpandDebounce: 50,\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n    // Do not doc to user until necessary.\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n    axisExpandTriggerOn: 'click',\n    // 'mousemove' or 'click'\n    parallelAxisDefault: null\n  },\n\n  /**\n   * @override\n   */\n  init: function () {\n    Component.prototype.init.apply(this, arguments);\n    this.mergeOption({});\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var thisOption = this.option;\n    newOption && zrUtil.merge(thisOption, newOption, true);\n\n    this._initDimensions();\n  },\n\n  /**\n   * Whether series or axis is in this coordinate system.\n   * @param {module:echarts/model/Series|module:echarts/coord/parallel/AxisModel} model\n   * @param {module:echarts/model/Global} ecModel\n   */\n  contains: function (model, ecModel) {\n    var parallelIndex = model.get('parallelIndex');\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\n  },\n  setAxisExpand: function (opt) {\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\n      if (opt.hasOwnProperty(name)) {\n        this.option[name] = opt[name];\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _initDimensions: function () {\n    var dimensions = this.dimensions = [];\n    var parallelAxisIndex = this.parallelAxisIndex = [];\n    var axisModels = zrUtil.filter(this.dependentModels.parallelAxis, function (axisModel) {\n      // Can not use this.contains here, because\n      // initialization has not been completed yet.\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n    }, this);\n    zrUtil.each(axisModels, function (axisModel) {\n      dimensions.push('dim' + axisModel.get('dim'));\n      parallelAxisIndex.push(axisModel.componentIndex);\n    });\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 302 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar makeStyleMapper = __webpack_require__(36);\n\nvar axisModelCreator = __webpack_require__(60);\n\nvar numberUtil = __webpack_require__(3);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar AxisModel = ComponentModel.extend({\n  type: 'baseParallelAxis',\n\n  /**\n   * @type {module:echarts/coord/parallel/Axis}\n   */\n  axis: null,\n\n  /**\n   * @type {Array.<Array.<number>}\n   * @readOnly\n   */\n  activeIntervals: [],\n\n  /**\n   * @return {Object}\n   */\n  getAreaSelectStyle: function () {\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']])(this.getModel('areaSelectStyle'));\n  },\n\n  /**\n   * The code of this feature is put on AxisModel but not ParallelAxis,\n   * because axisModel can be alive after echarts updating but instance of\n   * ParallelAxis having been disposed. this._activeInterval should be kept\n   * when action dispatched (i.e. legend click).\n   *\n   * @param {Array.<Array<number>>} intervals interval.length === 0\n   *                                          means set all active.\n   * @public\n   */\n  setActiveIntervals: function (intervals) {\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals); // Normalize\n\n    if (activeIntervals) {\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\n        numberUtil.asc(activeIntervals[i]);\n      }\n    }\n  },\n\n  /**\n   * @param {number|string} [value] When attempting to detect 'no activeIntervals set',\n   *                         value can not be input.\n   * @return {string} 'normal': no activeIntervals set,\n   *                  'active',\n   *                  'inactive'.\n   * @public\n   */\n  getActiveState: function (value) {\n    var activeIntervals = this.activeIntervals;\n\n    if (!activeIntervals.length) {\n      return 'normal';\n    }\n\n    if (value == null) {\n      return 'inactive';\n    }\n\n    for (var i = 0, len = activeIntervals.length; i < len; i++) {\n      if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n        return 'active';\n      }\n    }\n\n    return 'inactive';\n  }\n});\nvar defaultOption = {\n  type: 'value',\n\n  /**\n   * @type {Array.<number>}\n   */\n  dim: null,\n  // 0, 1, 2, ...\n  // parallelIndex: null,\n  areaSelectStyle: {\n    width: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(160,197,232)',\n    color: 'rgba(160,197,232)',\n    opacity: 0.3\n  },\n  realtime: true,\n  // Whether realtime update view when select.\n  z: 10\n};\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('parallel', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 303 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(136);\n\n__webpack_require__(304);\n\n__webpack_require__(305);\n\n/***/ }),\n/* 304 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n/**\n * @payload\n * @property {string} parallelAxisId\n * @property {Array.<Array.<number>>} intervals\n */\nvar actionInfo = {\n  type: 'axisAreaSelect',\n  event: 'axisAreaSelected',\n  update: 'updateVisual'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallelAxis',\n    query: payload\n  }, function (parallelAxisModel) {\n    parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n  });\n});\n/**\n * @payload\n */\n\necharts.registerAction('parallelAxisExpand', function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallel',\n    query: payload\n  }, function (parallelModel) {\n    parallelModel.setAxisExpand(payload);\n  });\n});\n\n/***/ }),\n/* 305 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar BrushController = __webpack_require__(82);\n\nvar brushHelper = __webpack_require__(137);\n\nvar graphic = __webpack_require__(2);\n\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\nvar AxisView = echarts.extendComponentView({\n  type: 'parallelAxis',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    AxisView.superApply(this, 'init', arguments);\n    /**\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\n  },\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n      return;\n    }\n\n    this.axisModel = axisModel;\n    this.api = api;\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\n    var coordSys = coordSysModel.coordinateSystem;\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\n    var areaWidth = areaSelectStyle.width;\n    var dim = axisModel.axis.dim;\n    var axisLayout = coordSys.getAxisLayout(dim);\n    var builderOpt = zrUtil.extend({\n      strokeContainThreshold: areaWidth\n    }, axisLayout);\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\n\n    var animationModel = payload && payload.animation === false ? null : axisModel;\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, animationModel);\n  },\n\n  /**\n   * @override\n   */\n  updateVisual: function (axisModel, ecModel, api, payload) {\n    this._brushController && this._brushController.updateCovers(getCoverInfoList(axisModel));\n  },\n  _refreshBrushController: function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\n    // After filtering, axis may change, select area needs to be update.\n    var extent = axisModel.axis.getExtent();\n    var extentLen = extent[1] - extent[0];\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n    // width/height might be negative, which will be\n    // normalized in BoundingRect.\n\n    var rect = graphic.BoundingRect.create({\n      x: extent[0],\n      y: -areaWidth / 2,\n      width: extentLen,\n      height: areaWidth\n    });\n    rect.x -= extra;\n    rect.width += 2 * extra;\n\n    this._brushController.mount({\n      enableGlobalPan: true,\n      rotation: builderOpt.rotation,\n      position: builderOpt.position\n    }).setPanels([{\n      panelId: 'pl',\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\n    }]).enableBrush({\n      brushType: 'lineX',\n      brushStyle: areaSelectStyle,\n      removeOnClick: true\n    }).updateCovers(getCoverInfoList(axisModel));\n  },\n  _onBrush: function (coverInfoList, opt) {\n    // Do not cache these object, because the mey be changed.\n    var axisModel = this.axisModel;\n    var axis = axisModel.axis;\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\n    }); // If realtime is true, action is not dispatched on drag end, because\n    // the drag end emits the same params with the last drag move event,\n    // and may have some delay when using touch pad.\n\n    if (!axisModel.option.realtime === opt.isEnd || opt.removeOnClick) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'axisAreaSelect',\n        parallelAxisId: axisModel.id,\n        intervals: intervals\n      });\n    }\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  }\n});\n\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\n    mainType: 'parallelAxis',\n    query: payload\n  })[0] === axisModel;\n}\n\nfunction getCoverInfoList(axisModel) {\n  var axis = axisModel.axis;\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\n    return {\n      brushType: 'lineX',\n      panelId: 'pl',\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\n    };\n  });\n}\n\nfunction getCoordSysModel(axisModel, ecModel) {\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\n}\n\nvar _default = AxisView;\nmodule.exports = _default;\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar List = __webpack_require__(14);\n\nvar zrUtil = __webpack_require__(0);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar completeDimensions = __webpack_require__(19);\n\nvar _default = SeriesModel.extend({\n  type: 'series.parallel',\n  dependencies: ['parallel'],\n  visualColorAccessPath: 'lineStyle.normal.color',\n  getInitialData: function (option, ecModel) {\n    var parallelModel = ecModel.getComponent('parallel', this.get('parallelIndex'));\n    var parallelAxisIndices = parallelModel.parallelAxisIndex;\n    var rawData = option.data;\n    var modelDims = parallelModel.dimensions;\n    var dataDims = generateDataDims(modelDims, rawData);\n    var dataDimsInfo = zrUtil.map(dataDims, function (dim, dimIndex) {\n      var modelDimsIndex = zrUtil.indexOf(modelDims, dim);\n      var axisModel = modelDimsIndex >= 0 && ecModel.getComponent('parallelAxis', parallelAxisIndices[modelDimsIndex]);\n\n      if (axisModel && axisModel.get('type') === 'category') {\n        translateCategoryValue(axisModel, dim, rawData);\n        return {\n          name: dim,\n          type: 'ordinal'\n        };\n      } else if (modelDimsIndex < 0) {\n        return completeDimensions.guessOrdinal(rawData, dimIndex) ? {\n          name: dim,\n          type: 'ordinal'\n        } : dim;\n      } else {\n        return dim;\n      }\n    });\n    var list = new List(dataDimsInfo, this);\n    list.initData(rawData); // Anication is forbiden in progressive data mode.\n\n    if (this.option.progressive) {\n      this.option.animation = false;\n    }\n\n    return list;\n  },\n\n  /**\n   * User can get data raw indices on 'axisAreaSelected' event received.\n   *\n   * @public\n   * @param {string} activeState 'active' or 'inactive' or 'normal'\n   * @return {Array.<number>} Raw indices\n   */\n  getRawIndicesByActiveState: function (activeState) {\n    var coordSys = this.coordinateSystem;\n    var data = this.getData();\n    var indices = [];\n    coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n      if (activeState === theActiveState) {\n        indices.push(data.getRawIndex(dataIndex));\n      }\n    });\n    return indices;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'parallel',\n    parallelIndex: 0,\n    label: {\n      normal: {\n        show: false\n      },\n      emphasis: {\n        show: false\n      }\n    },\n    inactiveOpacity: 0.05,\n    activeOpacity: 1,\n    lineStyle: {\n      normal: {\n        width: 1,\n        opacity: 0.45,\n        type: 'solid'\n      }\n    },\n    progressive: false,\n    // 100\n    smooth: false,\n    animationEasing: 'linear'\n  }\n});\n\nfunction translateCategoryValue(axisModel, dim, rawData) {\n  var axisData = axisModel.get('data');\n  var numberDim = convertDimNameToNumber(dim);\n\n  if (axisData && axisData.length) {\n    zrUtil.each(rawData, function (dataItem) {\n      if (!dataItem) {\n        return;\n      } // FIXME\n      // time consuming, should use hash?\n\n\n      var index = zrUtil.indexOf(axisData, dataItem[numberDim]);\n      dataItem[numberDim] = index >= 0 ? index : NaN;\n    });\n  } // FIXME\n  // axis data, \n\n}\n\nfunction convertDimNameToNumber(dimName) {\n  return +dimName.replace('dim', '');\n}\n\nfunction generateDataDims(modelDims, rawData) {\n  // parallelModel.dimension should not be regarded as data\n  // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n  // We detect max dim by parallelModel.dimensions and fist\n  // item in rawData arbitrarily.\n  var maxDimNum = 0;\n  zrUtil.each(modelDims, function (dimName) {\n    var numberDim = convertDimNameToNumber(dimName);\n    numberDim > maxDimNum && (maxDimNum = numberDim);\n  });\n  var firstItem = rawData[0];\n\n  if (firstItem && firstItem.length - 1 > maxDimNum) {\n    maxDimNum = firstItem.length - 1;\n  }\n\n  var dataDims = [];\n\n  for (var i = 0; i <= maxDimNum; i++) {\n    dataDims.push('dim' + i);\n  }\n\n  return dataDims;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 307 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar zrUtil = __webpack_require__(0);\n\nvar ChartView = __webpack_require__(26);\n\nvar SMOOTH = 0.3;\nvar ParallelView = ChartView.extend({\n  type: 'parallel',\n  init: function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @private\n     */\n    this._dataGroup = new graphic.Group();\n    this.group.add(this._dataGroup);\n    /**\n     * @type {module:echarts/data/List}\n     */\n\n    this._data;\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    this._renderForNormal(seriesModel, payload); // this[\n    //     seriesModel.option.progressive\n    //         ? '_renderForProgressive'\n    //         : '_renderForNormal'\n    // ](seriesModel);\n\n  },\n  dispose: function () {},\n\n  /**\n   * @private\n   */\n  _renderForNormal: function (seriesModel, payload) {\n    var dataGroup = this._dataGroup;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var option = seriesModel.option;\n    var smooth = option.smooth ? SMOOTH : null; // Consider switch between progressive and not.\n    // oldData && oldData.__plProgressive && dataGroup.removeAll();\n\n    data.diff(oldData).add(add).update(update).remove(remove).execute(); // Update style\n\n    updateElCommon(data, smooth); // First create\n\n    if (!this._data) {\n      var clipPath = createGridClipShape(coordSys, seriesModel, function () {\n        // Callback will be invoked immediately if there is no animation\n        setTimeout(function () {\n          dataGroup.removeClipPath();\n        });\n      });\n      dataGroup.setClipPath(clipPath);\n    }\n\n    this._data = data;\n\n    function add(newDataIndex) {\n      addEl(data, dataGroup, newDataIndex, dimensions, coordSys, null, smooth);\n    }\n\n    function update(newDataIndex, oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n      data.setItemGraphicEl(newDataIndex, line);\n      var animationModel = payload && payload.animation === false ? null : seriesModel;\n      graphic.updateProps(line, {\n        shape: {\n          points: points\n        }\n      }, animationModel, newDataIndex);\n    }\n\n    function remove(oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      dataGroup.remove(line);\n    }\n  },\n\n  /**\n   * @private\n   */\n  // _renderForProgressive: function (seriesModel) {\n  //     var dataGroup = this._dataGroup;\n  //     var data = seriesModel.getData();\n  //     var oldData = this._data;\n  //     var coordSys = seriesModel.coordinateSystem;\n  //     var dimensions = coordSys.dimensions;\n  //     var option = seriesModel.option;\n  //     var progressive = option.progressive;\n  //     var smooth = option.smooth ? SMOOTH : null;\n  //     // In progressive animation is disabled, so use simple data diff,\n  //     // which effects performance less.\n  //     // (Typically performance for data with length 7000+ like:\n  //     // simpleDiff: 60ms, addEl: 184ms,\n  //     // in RMBP 2.4GHz intel i7, OSX 10.9 chrome 50.0.2661.102 (64-bit))\n  //     if (simpleDiff(oldData, data, dimensions)) {\n  //         dataGroup.removeAll();\n  //         data.each(function (dataIndex) {\n  //             addEl(data, dataGroup, dataIndex, dimensions, coordSys);\n  //         });\n  //     }\n  //     updateElCommon(data, progressive, smooth);\n  //     // Consider switch between progressive and not.\n  //     data.__plProgressive = true;\n  //     this._data = data;\n  // },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._dataGroup && this._dataGroup.removeAll();\n    this._data = null;\n  }\n});\n\nfunction createGridClipShape(coordSys, seriesModel, cb) {\n  var parallelModel = coordSys.model;\n  var rect = coordSys.getRect();\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }\n  });\n  var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n  rectEl.setShape(dim, 0);\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width,\n      height: rect.height\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n  var points = [];\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimName = dimensions[i];\n    var value = data.get(dimName, dataIndex);\n\n    if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n      points.push(coordSys.dataToPoint(value, dimName));\n    }\n  }\n\n  return points;\n}\n\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n  var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    },\n    silent: true,\n    z2: 10\n  });\n  dataGroup.add(line);\n  data.setItemGraphicEl(dataIndex, line);\n}\n\nfunction updateElCommon(data, smooth) {\n  var seriesStyleModel = data.hostModel.getModel('lineStyle.normal');\n  var lineStyle = seriesStyleModel.getLineStyle();\n  data.eachItemGraphicEl(function (line, dataIndex) {\n    if (data.hasItemOption) {\n      var itemModel = data.getItemModel(dataIndex);\n      var lineStyleModel = itemModel.getModel('lineStyle.normal', seriesStyleModel);\n      lineStyle = lineStyleModel.getLineStyle(['color', 'stroke']);\n    }\n\n    line.useStyle(zrUtil.extend(lineStyle, {\n      fill: null,\n      // lineStyle.color have been set to itemVisual in module:echarts/visual/seriesColor.\n      stroke: data.getItemVisual(dataIndex, 'color'),\n      // lineStyle.opacity have been set to itemVisual in parallelVisual.\n      opacity: data.getItemVisual(dataIndex, 'opacity')\n    }));\n    line.shape.smooth = smooth;\n  });\n} // function simpleDiff(oldData, newData, dimensions) {\n//     var oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n//     var dimLen = dimensions.length;\n//     for (var i = 0; i < oldLen; i++) {\n//         for (var j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n// FIXME\n// ?\n\n\nfunction isEmptyValue(val, axisType) {\n  return axisType === 'category' ? val == null : val == null || isNaN(val); // axisType === 'value'\n}\n\nvar _default = ParallelView;\nmodule.exports = _default;\n\n/***/ }),\n/* 308 */\n/***/ (function(module, exports) {\n\nvar opacityAccessPath = ['lineStyle', 'normal', 'opacity'];\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('parallel', function (seriesModel) {\n    var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n    var lineStyleModel = seriesModel.getModel('lineStyle.normal');\n    var globalColors = ecModel.get('color');\n    var color = lineStyleModel.get('color') || itemStyleModel.get('color') || globalColors[seriesModel.seriesIndex % globalColors.length];\n    var inactiveOpacity = seriesModel.get('inactiveOpacity');\n    var activeOpacity = seriesModel.get('activeOpacity');\n    var lineStyle = seriesModel.getModel('lineStyle.normal').getLineStyle();\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var opacityMap = {\n      normal: lineStyle.opacity,\n      active: activeOpacity,\n      inactive: inactiveOpacity\n    };\n    coordSys.eachActiveState(data, function (activeState, dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var opacity = opacityMap[activeState];\n\n      if (activeState === 'normal') {\n        var itemOpacity = itemModel.get(opacityAccessPath, true);\n        itemOpacity != null && (opacity = itemOpacity);\n      }\n\n      data.setItemVisual(dataIndex, 'opacity', opacity);\n    });\n    data.setVisual('color', color);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 309 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(310);\n\n__webpack_require__(311);\n\nvar sankeyLayout = __webpack_require__(312);\n\nvar sankeyVisual = __webpack_require__(313);\n\necharts.registerLayout(sankeyLayout);\necharts.registerVisual(sankeyVisual);\n\n/***/ }),\n/* 310 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SeriesModel = __webpack_require__(15);\n\nvar createGraphFromNodeEdge = __webpack_require__(132);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\n\n/**\n * @file Get initial data and define sankey view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\nvar SankeySeries = SeriesModel.extend({\n  type: 'series.sankey',\n  layoutInfo: null,\n\n  /**\n   * Init a graph data structure from data in option series\n   *\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option) {\n    var links = option.edges || option.links;\n    var nodes = option.data || option.nodes;\n\n    if (nodes && links) {\n      var graph = createGraphFromNodeEdge(nodes, links, this, true);\n      return graph.data;\n    }\n  },\n\n  /**\n   * Return the graphic data structure\n   *\n   * @return {module:echarts/data/Graph} graphic data structure\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * Get edge data of graphic data structure\n   *\n   * @return {module:echarts/data/List} data structure of list\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    // dataType === 'node' or empty do not show tooltip by default\n    if (dataType === 'edge') {\n      var params = this.getDataParams(dataIndex, dataType);\n      var rawDataOpt = params.data;\n      var html = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n\n      if (params.value) {\n        html += ' : ' + params.value;\n      }\n\n      return encodeHTML(html);\n    }\n\n    return SankeySeries.superCall(this, 'formatTooltip', dataIndex, multipleSeries);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    layout: null,\n    // the position of the whole view\n    left: '5%',\n    top: '5%',\n    right: '20%',\n    bottom: '5%',\n    // the dx of the node\n    nodeWidth: 20,\n    // the vertical distance between two nodes\n    nodeGap: 8,\n    // the number of iterations to change the position of the node\n    layoutIterations: 32,\n    label: {\n      normal: {\n        show: true,\n        position: 'right',\n        color: '#000',\n        fontSize: 12\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 1,\n        borderColor: '#333'\n      }\n    },\n    lineStyle: {\n      normal: {\n        color: '#314656',\n        opacity: 0.2,\n        curveness: 0.5\n      },\n      emphasis: {\n        opacity: 0.6\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 1000\n  }\n});\nvar _default = SankeySeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 311 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar echarts = __webpack_require__(1);\n\n/**\n * @file  The file used to draw sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nvar SankeyShape = graphic.extendShape({\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    cpx2: 0,\n    cpy2: 0,\n    extent: 0\n  },\n  buildPath: function (ctx, shape) {\n    var halfExtent = shape.extent / 2;\n    ctx.moveTo(shape.x1, shape.y1 - halfExtent);\n    ctx.bezierCurveTo(shape.cpx1, shape.cpy1 - halfExtent, shape.cpx2, shape.cpy2 - halfExtent, shape.x2, shape.y2 - halfExtent);\n    ctx.lineTo(shape.x2, shape.y2 + halfExtent);\n    ctx.bezierCurveTo(shape.cpx2, shape.cpy2 + halfExtent, shape.cpx1, shape.cpy1 + halfExtent, shape.x1, shape.y1 + halfExtent);\n    ctx.closePath();\n  }\n});\n\nvar _default = echarts.extendChartView({\n  type: 'sankey',\n\n  /**\n   * @private\n   * @type {module:echarts/chart/sankey/SankeySeries}\n   */\n  _model: null,\n  render: function (seriesModel, ecModel, api) {\n    var graph = seriesModel.getGraph();\n    var group = this.group;\n    var layoutInfo = seriesModel.layoutInfo;\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getData('edge');\n    this._model = seriesModel;\n    group.removeAll();\n    group.attr('position', [layoutInfo.x, layoutInfo.y]); // generate a bezire Curve for each edge\n\n    graph.eachEdge(function (edge) {\n      var curve = new SankeyShape();\n      curve.dataIndex = edge.dataIndex;\n      curve.seriesIndex = seriesModel.seriesIndex;\n      curve.dataType = 'edge';\n      var lineStyleModel = edge.getModel('lineStyle.normal');\n      var curvature = lineStyleModel.get('curveness');\n      var n1Layout = edge.node1.getLayout();\n      var n2Layout = edge.node2.getLayout();\n      var edgeLayout = edge.getLayout();\n      curve.shape.extent = Math.max(1, edgeLayout.dy);\n      var x1 = n1Layout.x + n1Layout.dx;\n      var y1 = n1Layout.y + edgeLayout.sy + edgeLayout.dy / 2;\n      var x2 = n2Layout.x;\n      var y2 = n2Layout.y + edgeLayout.ty + edgeLayout.dy / 2;\n      var cpx1 = x1 * (1 - curvature) + x2 * curvature;\n      var cpy1 = y1;\n      var cpx2 = x1 * curvature + x2 * (1 - curvature);\n      var cpy2 = y2;\n      curve.setShape({\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        cpx1: cpx1,\n        cpy1: cpy1,\n        cpx2: cpx2,\n        cpy2: cpy2\n      });\n      curve.setStyle(lineStyleModel.getItemStyle()); // Special color, use source node color or target node color\n\n      switch (curve.style.fill) {\n        case 'source':\n          curve.style.fill = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          curve.style.fill = edge.node2.getVisual('color');\n          break;\n      }\n\n      graphic.setHoverStyle(curve, edge.getModel('lineStyle.emphasis').getItemStyle());\n      group.add(curve);\n      edgeData.setItemGraphicEl(edge.dataIndex, curve);\n    }); // generate a rect  for each node\n\n    graph.eachNode(function (node) {\n      var layout = node.getLayout();\n      var itemModel = node.getModel();\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      var rect = new graphic.Rect({\n        shape: {\n          x: layout.x,\n          y: layout.y,\n          width: node.getLayout().dx,\n          height: node.getLayout().dy\n        },\n        style: itemModel.getModel('itemStyle.normal').getItemStyle()\n      });\n      var hoverStyle = node.getModel('itemStyle.emphasis').getItemStyle();\n      graphic.setLabelStyle(rect.style, hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: node.dataIndex,\n        defaultText: node.id,\n        isRectText: true\n      });\n      rect.setStyle('fill', node.getVisual('color'));\n      graphic.setHoverStyle(rect, hoverStyle);\n      group.add(rect);\n      nodeData.setItemGraphicEl(node.dataIndex, rect);\n      rect.dataType = 'node';\n    });\n\n    if (!this._data && seriesModel.get('animation')) {\n      group.setClipPath(createGridClipShape(group.getBoundingRect(), seriesModel, function () {\n        group.removeClipPath();\n      }));\n    }\n\n    this._data = seriesModel.getData();\n  },\n  dispose: function () {}\n}); // add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 312 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar layout = __webpack_require__(6);\n\nvar nest = __webpack_require__(138);\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @file The layout algorithm of sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var nodeWidth = seriesModel.get('nodeWidth');\n    var nodeGap = seriesModel.get('nodeGap');\n    var layoutInfo = getViewRect(seriesModel, api);\n    seriesModel.layoutInfo = layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    computeNodeValues(nodes);\n    var filteredNodes = zrUtil.filter(nodes, function (node) {\n      return node.getLayout().value === 0;\n    });\n    var iterations = filteredNodes.length !== 0 ? 0 : seriesModel.get('layoutIterations');\n    layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations);\n  });\n}\n/**\n * Get the layout position of the whole view\n *\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations) {\n  computeNodeBreadths(nodes, nodeWidth, width);\n  computeNodeDepths(nodes, edges, height, nodeGap, iterations);\n  computeEdgeDepths(nodes);\n}\n/**\n * Compute the value of each node by summing the associated edge's value\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeNodeValues(nodes) {\n  zrUtil.each(nodes, function (node) {\n    var value1 = sum(node.outEdges, getEdgeValue);\n    var value2 = sum(node.inEdges, getEdgeValue);\n    var value = Math.max(value1, value2);\n    node.setLayout({\n      value: value\n    }, true);\n  });\n}\n/**\n * Compute the x-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param  {number} nodeWidth  the dx of the node\n * @param  {number} width  the whole width of the area to draw the view\n */\n\n\nfunction computeNodeBreadths(nodes, nodeWidth, width) {\n  var remainNodes = nodes;\n  var nextNode = null;\n  var x = 0;\n  var kx = 0;\n\n  while (remainNodes.length) {\n    nextNode = [];\n\n    for (var i = 0, len = remainNodes.length; i < len; i++) {\n      var node = remainNodes[i];\n      node.setLayout({\n        x: x\n      }, true);\n      node.setLayout({\n        dx: nodeWidth\n      }, true);\n\n      for (var j = 0, lenj = node.outEdges.length; j < lenj; j++) {\n        nextNode.push(node.outEdges[j].node2);\n      }\n    }\n\n    remainNodes = nextNode;\n    ++x;\n  }\n\n  moveSinksRight(nodes, x);\n  kx = (width - nodeWidth) / (x - 1);\n  scaleNodeBreadths(nodes, kx);\n}\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} x  value (x-1) use to assign to node without outEdges\n *     as x-position\n */\n\n\nfunction moveSinksRight(nodes, x) {\n  zrUtil.each(nodes, function (node) {\n    if (!node.outEdges.length) {\n      node.setLayout({\n        x: x - 1\n      }, true);\n    }\n  });\n}\n/**\n * Scale node x-position to the width\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} kx   multiple used to scale nodes\n */\n\n\nfunction scaleNodeBreadths(nodes, kx) {\n  zrUtil.each(nodes, function (node) {\n    var nodeX = node.getLayout().x * kx;\n    node.setLayout({\n      x: nodeX\n    }, true);\n  });\n}\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param {number} iterations  the number of iterations for the algorithm\n */\n\n\nfunction computeNodeDepths(nodes, edges, height, nodeGap, iterations) {\n  var nodesByBreadth = nest().key(function (d) {\n    return d.getLayout().x;\n  }).sortKeys(ascending).entries(nodes).map(function (d) {\n    return d.values;\n  });\n  initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap);\n  resolveCollisions(nodesByBreadth, nodeGap, height);\n\n  for (var alpha = 1; iterations > 0; iterations--) {\n    // 0.99 is a experience parameter, ensure that each iterations of\n    // changes as small as possible.\n    alpha *= 0.99;\n    relaxRightToLeft(nodesByBreadth, alpha);\n    resolveCollisions(nodesByBreadth, nodeGap, height);\n    relaxLeftToRight(nodesByBreadth, alpha);\n    resolveCollisions(nodesByBreadth, nodeGap, height);\n  }\n}\n/**\n * Compute the original y-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n */\n\n\nfunction initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap) {\n  var kyArray = [];\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var n = nodes.length;\n    var sum = 0;\n    zrUtil.each(nodes, function (node) {\n      sum += node.getLayout().value;\n    });\n    var ky = (height - (n - 1) * nodeGap) / sum;\n    kyArray.push(ky);\n  });\n  kyArray.sort(function (a, b) {\n    return a - b;\n  });\n  var ky0 = kyArray[0];\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node, i) {\n      node.setLayout({\n        y: i\n      }, true);\n      var nodeDy = node.getLayout().value * ky0;\n      node.setLayout({\n        dy: nodeDy\n      }, true);\n    });\n  });\n  zrUtil.each(edges, function (edge) {\n    var edgeDy = +edge.getValue() * ky0;\n    edge.setLayout({\n      dy: edgeDy\n    }, true);\n  });\n}\n/**\n * Resolve the collision of initialized depth (y-position)\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {number} nodeGap  the vertical distance between two nodes\n * @param {number} height  the whole height of the area to draw the view\n */\n\n\nfunction resolveCollisions(nodesByBreadth, nodeGap, height) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var node;\n    var dy;\n    var y0 = 0;\n    var n = nodes.length;\n    var i;\n    nodes.sort(ascendingDepth);\n\n    for (i = 0; i < n; i++) {\n      node = nodes[i];\n      dy = y0 - node.getLayout().y;\n\n      if (dy > 0) {\n        var nodeY = node.getLayout().y + dy;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n\n      y0 = node.getLayout().y + node.getLayout().dy + nodeGap;\n    } // if the bottommost node goes outside the bounds, push it back up\n\n\n    dy = y0 - nodeGap - height;\n\n    if (dy > 0) {\n      var nodeY = node.getLayout().y - dy;\n      node.setLayout({\n        y: nodeY\n      }, true);\n      y0 = node.getLayout().y;\n\n      for (i = n - 2; i >= 0; --i) {\n        node = nodes[i];\n        dy = node.getLayout().y + node.getLayout().dy + nodeGap - y0;\n\n        if (dy > 0) {\n          nodeY = node.getLayout().y - dy;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n\n        y0 = node.getLayout().y;\n      }\n    }\n  });\n}\n/**\n * Change the y-position of the nodes, except most the right side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxRightToLeft(nodesByBreadth, alpha) {\n  zrUtil.each(nodesByBreadth.slice().reverse(), function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.outEdges.length) {\n        var y = sum(node.outEdges, weightedTarget) / sum(node.outEdges, getEdgeValue);\n        var nodeY = node.getLayout().y + (y - center(node)) * alpha;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n    });\n  });\n}\n\nfunction weightedTarget(edge) {\n  return center(edge.node2) * edge.getValue();\n}\n/**\n * Change the y-position of the nodes, except most the left side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxLeftToRight(nodesByBreadth, alpha) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.inEdges.length) {\n        var y = sum(node.inEdges, weightedSource) / sum(node.inEdges, getEdgeValue);\n        var nodeY = node.getLayout().y + (y - center(node)) * alpha;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n    });\n  });\n}\n\nfunction weightedSource(edge) {\n  return center(edge.node1) * edge.getValue();\n}\n/**\n * Compute the depth(y-position) of each edge\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeEdgeDepths(nodes) {\n  zrUtil.each(nodes, function (node) {\n    node.outEdges.sort(ascendingTargetDepth);\n    node.inEdges.sort(ascendingSourceDepth);\n  });\n  zrUtil.each(nodes, function (node) {\n    var sy = 0;\n    var ty = 0;\n    zrUtil.each(node.outEdges, function (edge) {\n      edge.setLayout({\n        sy: sy\n      }, true);\n      sy += edge.getLayout().dy;\n    });\n    zrUtil.each(node.inEdges, function (edge) {\n      edge.setLayout({\n        ty: ty\n      }, true);\n      ty += edge.getLayout().dy;\n    });\n  });\n}\n\nfunction ascendingTargetDepth(a, b) {\n  return a.node2.getLayout().y - b.node2.getLayout().y;\n}\n\nfunction ascendingSourceDepth(a, b) {\n  return a.node1.getLayout().y - b.node1.getLayout().y;\n}\n\nfunction sum(array, f) {\n  var sum = 0;\n  var len = array.length;\n  var i = -1;\n\n  while (++i < len) {\n    var value = +f.call(array, array[i], i);\n\n    if (!isNaN(value)) {\n      sum += value;\n    }\n  }\n\n  return sum;\n}\n\nfunction center(node) {\n  return node.getLayout().y + node.getLayout().dy / 2;\n}\n\nfunction ascendingDepth(a, b) {\n  return a.getLayout().y - b.getLayout().y;\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a === b ? 0 : NaN;\n}\n\nfunction getEdgeValue(edge) {\n  return edge.getValue();\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 313 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar VisualMapping = __webpack_require__(35);\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @file Visual encoding for sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    nodes.sort(function (a, b) {\n      return a.getLayout().value - b.getLayout().value;\n    });\n    var minValue = nodes[0].getLayout().value;\n    var maxValue = nodes[nodes.length - 1].getLayout().value;\n    zrUtil.each(nodes, function (node) {\n      var mapping = new VisualMapping({\n        type: 'color',\n        mappingMethod: 'linear',\n        dataExtent: [minValue, maxValue],\n        visual: seriesModel.get('color')\n      });\n      var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n      node.setVisual('color', mapValueToColor); // If set itemStyle.normal.color\n\n      var itemModel = node.getModel();\n      var customColor = itemModel.get('itemStyle.normal.color');\n\n      if (customColor != null) {\n        node.setVisual('color', customColor);\n      }\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 314 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(315);\n\n__webpack_require__(317);\n\nvar boxplotVisual = __webpack_require__(318);\n\nvar boxplotLayout = __webpack_require__(319);\n\necharts.registerVisual(boxplotVisual);\necharts.registerLayout(boxplotLayout);\n\n/***/ }),\n/* 315 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar _whiskerBoxCommon = __webpack_require__(65);\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\nvar BoxplotSeries = SeriesModel.extend({\n  type: 'series.boxplot',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n  // TODO\n  // box width represents group size, so dimension should have 'size'.\n\n  /**\n   * @see <https://en.wikipedia.org/wiki/Box_plot>\n   * The meanings of 'min' and 'max' depend on user,\n   * and echarts do not need to know it.\n   * @readOnly\n   */\n  defaultValueDimensions: ['min', 'Q1', 'median', 'Q3', 'max'],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    boxWidth: [7, 50],\n    // [min, max] can be percent of band width.\n    itemStyle: {\n      normal: {\n        color: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 2,\n        shadowOffsetY: 2,\n        shadowColor: 'rgba(0,0,0,0.4)'\n      }\n    },\n    animationEasing: 'elasticOut',\n    animationDuration: 800\n  }\n});\nzrUtil.mixin(BoxplotSeries, seriesModelMixin, true);\nvar _default = BoxplotSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 316 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar Path = __webpack_require__(12);\n\n/**\n * @module echarts/chart/helper/Symbol\n */\nvar WhiskerPath = Path.extend({\n  type: 'whiskerInBox',\n  shape: {},\n  buildPath: function (ctx, shape) {\n    for (var i in shape) {\n      if (shape.hasOwnProperty(i) && i.indexOf('ends') === 0) {\n        var pts = shape[i];\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        ctx.lineTo(pts[1][0], pts[1][1]);\n      }\n    }\n  }\n});\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/WhiskerBox}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Function} styleUpdater\n * @param {boolean} isInit\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction WhiskerBox(data, idx, styleUpdater, isInit) {\n  graphic.Group.call(this);\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.bodyIndex;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.whiskerIndex;\n  /**\n   * @type {Function}\n   */\n\n  this.styleUpdater = styleUpdater;\n\n  this._createContent(data, idx, isInit);\n\n  this.updateData(data, idx, isInit);\n  /**\n   * Last series model.\n   * @type {module:echarts/model/Series}\n   */\n\n  this._seriesModel;\n}\n\nvar whiskerBoxProto = WhiskerBox.prototype;\n\nwhiskerBoxProto._createContent = function (data, idx, isInit) {\n  var itemLayout = data.getItemLayout(idx);\n  var constDim = itemLayout.chartLayout === 'horizontal' ? 1 : 0;\n  var count = 0; // Whisker element.\n\n  this.add(new graphic.Polygon({\n    shape: {\n      points: isInit ? transInit(itemLayout.bodyEnds, constDim, itemLayout) : itemLayout.bodyEnds\n    },\n    style: {\n      strokeNoScale: true\n    },\n    z2: 100\n  }));\n  this.bodyIndex = count++; // Box element.\n\n  var whiskerEnds = zrUtil.map(itemLayout.whiskerEnds, function (ends) {\n    return isInit ? transInit(ends, constDim, itemLayout) : ends;\n  });\n  this.add(new WhiskerPath({\n    shape: makeWhiskerEndsShape(whiskerEnds),\n    style: {\n      strokeNoScale: true\n    },\n    z2: 100\n  }));\n  this.whiskerIndex = count++;\n};\n\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nfunction makeWhiskerEndsShape(whiskerEnds) {\n  // zr animation only support 2-dim array.\n  var shape = {};\n  zrUtil.each(whiskerEnds, function (ends, i) {\n    shape['ends' + i] = ends;\n  });\n  return shape;\n}\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\n\n\nwhiskerBoxProto.updateData = function (data, idx, isInit) {\n  var seriesModel = this._seriesModel = data.hostModel;\n  var itemLayout = data.getItemLayout(idx);\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps']; // this.childAt(this.bodyIndex).stopAnimation(true);\n  // this.childAt(this.whiskerIndex).stopAnimation(true);\n\n  updateMethod(this.childAt(this.bodyIndex), {\n    shape: {\n      points: itemLayout.bodyEnds\n    }\n  }, seriesModel, idx);\n  updateMethod(this.childAt(this.whiskerIndex), {\n    shape: makeWhiskerEndsShape(itemLayout.whiskerEnds)\n  }, seriesModel, idx);\n  this.styleUpdater.call(null, this, data, idx);\n};\n\nzrUtil.inherits(WhiskerBox, graphic.Group);\n/**\n * @constructor\n * @alias module:echarts/chart/helper/WhiskerBoxDraw\n */\n\nfunction WhiskerBoxDraw(styleUpdater) {\n  this.group = new graphic.Group();\n  this.styleUpdater = styleUpdater;\n}\n\nvar whiskerBoxDrawProto = WhiskerBoxDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nwhiskerBoxDrawProto.updateData = function (data) {\n  var group = this.group;\n  var oldData = this._data;\n  var styleUpdater = this.styleUpdater;\n  data.diff(oldData).add(function (newIdx) {\n    if (data.hasValue(newIdx)) {\n      var symbolEl = new WhiskerBox(data, newIdx, styleUpdater, true);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n    if (!data.hasValue(newIdx)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new WhiskerBox(data, newIdx, styleUpdater);\n    } else {\n      symbolEl.updateData(data, newIdx);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && group.remove(el);\n  }).execute();\n  this._data = data;\n};\n/**\n * Remove symbols.\n * @param {module:echarts/data/List} data\n */\n\n\nwhiskerBoxDrawProto.remove = function () {\n  var group = this.group;\n  var data = this._data;\n  this._data = null;\n  data && data.eachItemGraphicEl(function (el) {\n    el && group.remove(el);\n  });\n};\n\nvar _default = WhiskerBoxDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 317 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ChartView = __webpack_require__(26);\n\nvar graphic = __webpack_require__(2);\n\nvar _whiskerBoxCommon = __webpack_require__(65);\n\nvar viewMixin = _whiskerBoxCommon.viewMixin;\nvar BoxplotView = ChartView.extend({\n  type: 'boxplot',\n  getStyleUpdater: function () {\n    return updateStyle;\n  },\n  dispose: zrUtil.noop\n});\nzrUtil.mixin(BoxplotView, viewMixin, true); // Update common properties\n\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\n\nfunction updateStyle(itemGroup, data, idx) {\n  var itemModel = data.getItemModel(idx);\n  var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath);\n  var borderColor = data.getItemVisual(idx, 'color'); // Exclude borderColor.\n\n  var itemStyle = normalItemStyleModel.getItemStyle(['borderColor']);\n  var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n  whiskerEl.style.set(itemStyle);\n  whiskerEl.style.stroke = borderColor;\n  whiskerEl.dirty();\n  var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n  bodyEl.style.set(itemStyle);\n  bodyEl.style.stroke = borderColor;\n  bodyEl.dirty();\n  var hoverStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n  graphic.setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar _default = BoxplotView;\nmodule.exports = _default;\n\n/***/ }),\n/* 318 */\n/***/ (function(module, exports) {\n\nvar borderColorQuery = ['itemStyle', 'normal', 'borderColor'];\n\nfunction _default(ecModel, api) {\n  var globalColors = ecModel.get('color');\n  ecModel.eachRawSeriesByType('boxplot', function (seriesModel) {\n    var defaulColor = globalColors[seriesModel.seriesIndex % globalColors.length];\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect',\n      // Use name 'color' but not 'borderColor' for legend usage and\n      // visual coding from other component like dataRange.\n      color: seriesModel.get(borderColorQuery) || defaulColor\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        data.setItemVisual(idx, {\n          color: itemModel.get(borderColorQuery, true)\n        });\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 319 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar each = zrUtil.each;\n\nfunction _default(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n\n    if (!seriesModels.length) {\n      return;\n    }\n\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\n\nfunction calculateBase(groupItem) {\n  var extent;\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount = Math.max(maxDataCount, seriesModel.getData().count());\n    });\n    extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / maxDataCount;\n  }\n\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var chartLayout = seriesModel.get('layout');\n  var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n  var constDim = 1 - variableDim;\n  var coordDims = ['x', 'y'];\n  var vDims = [];\n  var cDim;\n  zrUtil.each(data.dimensions, function (dimName) {\n    var dimInfo = data.getDimensionInfo(dimName);\n    var coordDim = dimInfo.coordDim;\n\n    if (coordDim === coordDims[constDim]) {\n      vDims.push(dimName);\n    } else if (coordDim === coordDims[variableDim]) {\n      cDim = dimName;\n    }\n  });\n\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n\n  data.each([cDim].concat(vDims), function () {\n    var args = arguments;\n    var axisDimVal = args[0];\n    var idx = args[vDims.length + 1];\n    var median = getPoint(args[3]);\n    var end1 = getPoint(args[1]);\n    var end5 = getPoint(args[5]);\n    var whiskerEnds = [[end1, getPoint(args[2])], [end5, getPoint(args[4])]];\n    layEndLine(end1);\n    layEndLine(end5);\n    layEndLine(median);\n    var bodyEnds = [];\n    addBodyEnd(whiskerEnds[0][1], 0);\n    addBodyEnd(whiskerEnds[1][1], 1);\n    data.setItemLayout(idx, {\n      chartLayout: chartLayout,\n      initBaseline: median[constDim],\n      median: median,\n      bodyEnds: bodyEnds,\n      whiskerEnds: whiskerEnds\n    });\n\n    function getPoint(val) {\n      var p = [];\n      p[variableDim] = axisDimVal;\n      p[constDim] = val;\n      var point;\n\n      if (isNaN(axisDimVal) || isNaN(val)) {\n        point = [NaN, NaN];\n      } else {\n        point = coordSys.dataToPoint(p);\n        point[variableDim] += offset;\n      }\n\n      return point;\n    }\n\n    function addBodyEnd(point, start) {\n      var point1 = point.slice();\n      var point2 = point.slice();\n      point1[variableDim] += halfWidth;\n      point2[variableDim] -= halfWidth;\n      start ? bodyEnds.push(point1, point2) : bodyEnds.push(point2, point1);\n    }\n\n    function layEndLine(endCenter) {\n      var line = [endCenter.slice(), endCenter.slice()];\n      line[0][variableDim] -= halfWidth;\n      line[1][variableDim] += halfWidth;\n      whiskerEnds.push(line);\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 320 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(321);\n\n__webpack_require__(322);\n\nvar preprocessor = __webpack_require__(323);\n\nvar candlestickVisual = __webpack_require__(324);\n\nvar candlestickLayout = __webpack_require__(325);\n\necharts.registerPreprocessor(preprocessor);\necharts.registerVisual(candlestickVisual);\necharts.registerLayout(candlestickLayout);\n\n/***/ }),\n/* 321 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar _whiskerBoxCommon = __webpack_require__(65);\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\nvar CandlestickSeries = SeriesModel.extend({\n  type: 'series.candlestick',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n\n  /**\n   * @readOnly\n   */\n  defaultValueDimensions: ['open', 'close', 'lowest', 'highest'],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 2,\n    // \n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    itemStyle: {\n      normal: {\n        color: '#c23531',\n        //  positive\n        color0: '#314656',\n        //  negative     '#c23531', '#314656'\n        borderWidth: 1,\n        // FIXME\n        // ec2lineStyle.color  lineStyle.color0\n        borderColor: '#c23531',\n        borderColor0: '#314656'\n      },\n      emphasis: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    animationUpdate: false,\n    animationEasing: 'linear',\n    animationDuration: 300\n  },\n\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return {string} dimension name\n   */\n  getShadowDim: function () {\n    return 'open';\n  },\n  brushSelector: function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return selectors.rect(itemLayout.brushRect);\n  }\n});\nzrUtil.mixin(CandlestickSeries, seriesModelMixin, true);\nvar _default = CandlestickSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 322 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ChartView = __webpack_require__(26);\n\nvar graphic = __webpack_require__(2);\n\nvar _whiskerBoxCommon = __webpack_require__(65);\n\nvar viewMixin = _whiskerBoxCommon.viewMixin;\nvar CandlestickView = ChartView.extend({\n  type: 'candlestick',\n  getStyleUpdater: function () {\n    return updateStyle;\n  },\n  dispose: zrUtil.noop\n});\nzrUtil.mixin(CandlestickView, viewMixin, true); // Update common properties\n\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\n\nfunction updateStyle(itemGroup, data, idx) {\n  var itemModel = data.getItemModel(idx);\n  var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath);\n  var color = data.getItemVisual(idx, 'color');\n  var borderColor = data.getItemVisual(idx, 'borderColor') || color; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = normalItemStyleModel.getItemStyle(['color', 'color0', 'borderColor', 'borderColor0']);\n  var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n  whiskerEl.useStyle(itemStyle);\n  whiskerEl.style.stroke = borderColor;\n  var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n  bodyEl.useStyle(itemStyle);\n  bodyEl.style.fill = color;\n  bodyEl.style.stroke = borderColor;\n  var hoverStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n  graphic.setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar _default = CandlestickView;\nmodule.exports = _default;\n\n/***/ }),\n/* 323 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 324 */\n/***/ (function(module, exports) {\n\nvar positiveBorderColorQuery = ['itemStyle', 'normal', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'normal', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'normal', 'color'];\nvar negativeColorQuery = ['itemStyle', 'normal', 'color0'];\n\nfunction _default(ecModel, api) {\n  ecModel.eachRawSeriesByType('candlestick', function (seriesModel) {\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect'\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var sign = data.getItemLayout(idx).sign;\n        data.setItemVisual(idx, {\n          color: itemModel.get(sign > 0 ? positiveColorQuery : negativeColorQuery),\n          borderColor: itemModel.get(sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery)\n        });\n      });\n    }\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 325 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nvar _graphic = __webpack_require__(2);\n\nvar subPixelOptimize = _graphic.subPixelOptimize;\nvar retrieve2 = zrUtil.retrieve2;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('candlestick', function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var chartLayout = seriesModel.get('layout');\n    var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n    var constDim = 1 - variableDim;\n    var coordDims = ['x', 'y'];\n    var vDims = [];\n    var cDim;\n    zrUtil.each(data.dimensions, function (dimName) {\n      var dimInfo = data.getDimensionInfo(dimName);\n      var coordDim = dimInfo.coordDim;\n\n      if (coordDim === coordDims[constDim]) {\n        vDims.push(dimName);\n      } else if (coordDim === coordDims[variableDim]) {\n        cDim = dimName;\n      }\n    });\n\n    if (cDim == null || vDims.length < 4) {\n      return;\n    }\n\n    var dataIndex = 0;\n    data.each([cDim].concat(vDims), function () {\n      var args = arguments;\n      var axisDimVal = args[0];\n      var idx = args[vDims.length + 1];\n      var openVal = args[1];\n      var closeVal = args[2];\n      var lowestVal = args[3];\n      var highestVal = args[4];\n      var ocLow = Math.min(openVal, closeVal);\n      var ocHigh = Math.max(openVal, closeVal);\n      var ocLowPoint = getPoint(ocLow);\n      var ocHighPoint = getPoint(ocHigh);\n      var lowestPoint = getPoint(lowestVal);\n      var highestPoint = getPoint(highestVal);\n      var whiskerEnds = [[subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint)], [subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint)]];\n      var bodyEnds = [];\n      addBodyEnd(ocHighPoint, 0);\n      addBodyEnd(ocLowPoint, 1);\n      var sign;\n\n      if (openVal > closeVal) {\n        sign = -1;\n      } else if (openVal < closeVal) {\n        sign = 1;\n      } else {\n        // If close === open, compare with close of last record\n        if (dataIndex > 0) {\n          sign = data.getItemModel(dataIndex - 1).get()[2] <= closeVal ? 1 : -1;\n        } else {\n          // No record of previous, set to be positive\n          sign = 1;\n        }\n      }\n\n      data.setItemLayout(idx, {\n        chartLayout: chartLayout,\n        sign: sign,\n        initBaseline: openVal > closeVal ? ocHighPoint[constDim] : ocLowPoint[constDim],\n        // open point.\n        bodyEnds: bodyEnds,\n        whiskerEnds: whiskerEnds,\n        brushRect: makeBrushRect()\n      });\n      ++dataIndex;\n\n      function getPoint(val) {\n        var p = [];\n        p[variableDim] = axisDimVal;\n        p[constDim] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n\n      function addBodyEnd(point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[variableDim] = subPixelOptimize(point1[variableDim] + candleWidth / 2, 1, false);\n        point2[variableDim] = subPixelOptimize(point2[variableDim] - candleWidth / 2, 1, true);\n        start ? bodyEnds.push(point1, point2) : bodyEnds.push(point2, point1);\n      }\n\n      function makeBrushRect() {\n        var pmin = getPoint(Math.min(openVal, closeVal, lowestVal, highestVal));\n        var pmax = getPoint(Math.max(openVal, closeVal, lowestVal, highestVal));\n        pmin[variableDim] -= candleWidth / 2;\n        pmax[variableDim] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: constDim ? candleWidth : pmax[0] - pmin[0],\n          height: constDim ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n\n      function subPixelOptimizePoint(point) {\n        point[variableDim] = subPixelOptimize(point[variableDim], 1);\n        return point;\n      }\n    }, true);\n  });\n}\n\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 326 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(327);\n\n__webpack_require__(328);\n\nvar visualSymbol = __webpack_require__(32);\n\nvar layoutPoints = __webpack_require__(74);\n\necharts.registerVisual(zrUtil.curry(visualSymbol, 'effectScatter', 'circle', null));\necharts.registerLayout(zrUtil.curry(layoutPoints, 'effectScatter'));\n\n/***/ }),\n/* 327 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar createListFromArray = __webpack_require__(27);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar _default = SeriesModel.extend({\n  type: 'series.effectScatter',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    var list = createListFromArray(option.data, this, ecModel);\n    return list;\n  },\n  brushSelector: 'point',\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // \n    symbolSize: 10 // symbolSize * 2\n    // symbolRotate: null,  // \n    // large: false,\n    // Available when large is true\n    // largeThreshold: 2000,\n    // itemStyle: {\n    //     normal: {\n    //         opacity: 1\n    //     }\n    // }\n\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 328 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar SymbolDraw = __webpack_require__(44);\n\nvar EffectSymbol = __webpack_require__(329);\n\nvar _default = echarts.extendChartView({\n  type: 'effectScatter',\n  init: function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data);\n    this.group.add(effectSymbolDraw.group);\n  },\n  updateLayout: function () {\n    this._symbolDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(api);\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 329 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _graphic = __webpack_require__(2);\n\nvar Group = _graphic.Group;\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nvar SymbolClz = __webpack_require__(59);\n\n/**\n * Symbol with ripple effect\n * @module echarts/chart/helper/EffectSymbol\n */\nvar EFFECT_RIPPLE_NUMBER = 3;\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nfunction updateRipplePath(rippleGroup, effectCfg) {\n  rippleGroup.eachChild(function (ripplePath) {\n    ripplePath.attr({\n      z: effectCfg.z,\n      zlevel: effectCfg.zlevel,\n      style: {\n        stroke: effectCfg.brushType === 'stroke' ? effectCfg.color : null,\n        fill: effectCfg.brushType === 'fill' ? effectCfg.color : null\n      }\n    });\n  });\n}\n/**\n * @constructor\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction EffectSymbol(data, idx) {\n  Group.call(this);\n  var symbol = new SymbolClz(data, idx);\n  var rippleGroup = new Group();\n  this.add(symbol);\n  this.add(rippleGroup);\n\n  rippleGroup.beforeUpdate = function () {\n    this.attr(symbol.getScale());\n  };\n\n  this.updateData(data, idx);\n}\n\nvar effectSymbolProto = EffectSymbol.prototype;\n\neffectSymbolProto.stopEffectAnimation = function () {\n  this.childAt(1).removeAll();\n};\n\neffectSymbolProto.startEffectAnimation = function (effectCfg) {\n  var symbolType = effectCfg.symbolType;\n  var color = effectCfg.color;\n  var rippleGroup = this.childAt(1);\n\n  for (var i = 0; i < EFFECT_RIPPLE_NUMBER; i++) {\n    // var ripplePath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4136.\n    var ripplePath = createSymbol(symbolType, -1, -1, 2, 2, color);\n    ripplePath.attr({\n      style: {\n        strokeNoScale: true\n      },\n      z2: 99,\n      silent: true,\n      scale: [0.5, 0.5]\n    });\n    var delay = -i / EFFECT_RIPPLE_NUMBER * effectCfg.period + effectCfg.effectOffset; // TODO Configurable effectCfg.period\n\n    ripplePath.animate('', true).when(effectCfg.period, {\n      scale: [effectCfg.rippleScale / 2, effectCfg.rippleScale / 2]\n    }).delay(delay).start();\n    ripplePath.animateStyle(true).when(effectCfg.period, {\n      opacity: 0\n    }).delay(delay).start();\n    rippleGroup.add(ripplePath);\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Update effect symbol\n */\n\n\neffectSymbolProto.updateEffectAnimation = function (effectCfg) {\n  var oldEffectCfg = this._effectCfg;\n  var rippleGroup = this.childAt(1); // Must reinitialize effect if following configuration changed\n\n  var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale'];\n\n  for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n    var propName = DIFFICULT_PROPS[i];\n\n    if (oldEffectCfg[propName] !== effectCfg[propName]) {\n      this.stopEffectAnimation();\n      this.startEffectAnimation(effectCfg);\n      return;\n    }\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Highlight symbol\n */\n\n\neffectSymbolProto.highlight = function () {\n  this.trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\neffectSymbolProto.downplay = function () {\n  this.trigger('normal');\n};\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\n\n\neffectSymbolProto.updateData = function (data, idx) {\n  var seriesModel = data.hostModel;\n  this.childAt(0).updateData(data, idx);\n  var rippleGroup = this.childAt(1);\n  var itemModel = data.getItemModel(idx);\n  var symbolType = data.getItemVisual(idx, 'symbol');\n  var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  var color = data.getItemVisual(idx, 'color');\n  rippleGroup.attr('scale', symbolSize);\n  rippleGroup.traverse(function (ripplePath) {\n    ripplePath.attr({\n      fill: color\n    });\n  });\n  var symbolOffset = itemModel.getShallow('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = rippleGroup.position;\n    pos[0] = parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] = parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  rippleGroup.rotation = (itemModel.getShallow('symbolRotate') || 0) * Math.PI / 180 || 0;\n  var effectCfg = {};\n  effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n  effectCfg.rippleScale = itemModel.get('rippleEffect.scale');\n  effectCfg.brushType = itemModel.get('rippleEffect.brushType');\n  effectCfg.period = itemModel.get('rippleEffect.period') * 1000;\n  effectCfg.effectOffset = idx / data.count();\n  effectCfg.z = itemModel.getShallow('z') || 0;\n  effectCfg.zlevel = itemModel.getShallow('zlevel') || 0;\n  effectCfg.symbolType = symbolType;\n  effectCfg.color = color;\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n  if (effectCfg.showEffectOn === 'render') {\n    this._effectCfg ? this.updateEffectAnimation(effectCfg) : this.startEffectAnimation(effectCfg);\n    this._effectCfg = effectCfg;\n  } else {\n    // Not keep old effect config\n    this._effectCfg = null;\n    this.stopEffectAnimation();\n    var symbol = this.childAt(0);\n\n    var onEmphasis = function () {\n      symbol.highlight();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.startEffectAnimation(effectCfg);\n      }\n    };\n\n    var onNormal = function () {\n      symbol.downplay();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.stopEffectAnimation();\n      }\n    };\n\n    this.on('mouseover', onEmphasis, this).on('mouseout', onNormal, this).on('emphasis', onEmphasis, this).on('normal', onNormal, this);\n  }\n\n  this._effectCfg = effectCfg;\n};\n\neffectSymbolProto.fadeOut = function (cb) {\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  cb && cb();\n};\n\nzrUtil.inherits(EffectSymbol, Group);\nvar _default = EffectSymbol;\nmodule.exports = _default;\n\n/***/ }),\n/* 330 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(331);\n\n__webpack_require__(332);\n\nvar linesLayout = __webpack_require__(335);\n\nvar linesVisual = __webpack_require__(336);\n\necharts.registerLayout(linesLayout);\necharts.registerVisual(linesVisual);\n\n/***/ }),\n/* 331 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar SeriesModel = __webpack_require__(15);\n\nvar List = __webpack_require__(14);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\n\nvar CoordinateSystem = __webpack_require__(21);\n\n// Convert [ [{coord: []}, {coord: []}] ]\n// to [ { coords: [[]] } ]\nfunction preprocessOption(seriesOpt) {\n  var data = seriesOpt.data;\n\n  if (data && data[0] && data[0][0] && data[0][0].coord) {\n    seriesOpt.data = zrUtil.map(data, function (itemOpt) {\n      var coords = [itemOpt[0].coord, itemOpt[1].coord];\n      var target = {\n        coords: coords\n      };\n\n      if (itemOpt[0].name) {\n        target.fromName = itemOpt[0].name;\n      }\n\n      if (itemOpt[1].name) {\n        target.toName = itemOpt[1].name;\n      }\n\n      return zrUtil.mergeAll([target, itemOpt[0], itemOpt[1]]);\n    });\n  }\n}\n\nvar LinesSeries = SeriesModel.extend({\n  type: 'series.lines',\n  dependencies: ['grid', 'polar'],\n  visualColorAccessPath: 'lineStyle.normal.color',\n  init: function (option) {\n    // Not using preprocessor because mergeOption may not have series.type\n    preprocessOption(option);\n    LinesSeries.superApply(this, 'init', arguments);\n  },\n  mergeOption: function (option) {\n    preprocessOption(option);\n    LinesSeries.superApply(this, 'mergeOption', arguments);\n  },\n  getInitialData: function (option, ecModel) {\n    var lineData = new List(['value'], this);\n    lineData.hasItemOption = false;\n    lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n      // dataItem is simply coords\n      if (dataItem instanceof Array) {\n        return NaN;\n      } else {\n        lineData.hasItemOption = true;\n        var value = dataItem.value;\n\n        if (value != null) {\n          return value instanceof Array ? value[dimIndex] : value;\n        }\n      }\n    });\n    return lineData;\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var itemModel = data.getItemModel(dataIndex);\n    var name = itemModel.get('name');\n\n    if (name) {\n      return name;\n    }\n\n    var fromName = itemModel.get('fromName');\n    var toName = itemModel.get('toName');\n    var html = [];\n    fromName != null && html.push(fromName);\n    toName != null && html.push(toName);\n    return encodeHTML(html.join(' > '));\n  },\n  defaultOption: {\n    coordinateSystem: 'geo',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    symbol: ['none', 'none'],\n    symbolSize: [10, 10],\n    // Geo coordinate system\n    geoIndex: 0,\n    effect: {\n      show: false,\n      period: 4,\n      // Animation delay. support callback\n      // delay: 0,\n      // If move with constant speed px/sec\n      // period will be ignored if this property is > 0,\n      constantSpeed: 0,\n      symbol: 'circle',\n      symbolSize: 3,\n      loop: true,\n      // Length of trail, 0 - 1\n      trailLength: 0.2 // Same with lineStyle.normal.color\n      // color\n\n    },\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // If lines are polyline\n    // polyline not support curveness, label, animation\n    polyline: false,\n    label: {\n      normal: {\n        show: false,\n        position: 'end' // distance: 5,\n        // formatter: Tooltip.formatter\n\n      }\n    },\n    lineStyle: {\n      normal: {\n        opacity: 0.5\n      }\n    }\n  }\n});\nvar _default = LinesSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 332 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar LineDraw = __webpack_require__(80);\n\nvar EffectLine = __webpack_require__(139);\n\nvar Line = __webpack_require__(81);\n\nvar Polyline = __webpack_require__(140);\n\nvar EffectPolyline = __webpack_require__(333);\n\nvar LargeLineDraw = __webpack_require__(334);\n\nvar _default = echarts.extendChartView({\n  type: 'lines',\n  init: function () {},\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var lineDraw = this._lineDraw;\n    var hasEffect = seriesModel.get('effect.show');\n    var isPolyline = seriesModel.get('polyline');\n    var isLarge = seriesModel.get('large') && data.count() >= seriesModel.get('largeThreshold');\n\n    if (hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLarge !== this._isLarge) {\n      if (lineDraw) {\n        lineDraw.remove();\n      }\n\n      lineDraw = this._lineDraw = isLarge ? new LargeLineDraw() : new LineDraw(isPolyline ? hasEffect ? EffectPolyline : Polyline : hasEffect ? EffectLine : Line);\n      this._hasEffet = hasEffect;\n      this._isPolyline = isPolyline;\n      this._isLarge = isLarge;\n    }\n\n    var zlevel = seriesModel.get('zlevel');\n    var trailLength = seriesModel.get('effect.trailLength');\n    var zr = api.getZr(); // Avoid the drag cause ghost shadow\n    // FIXME Better way ?\n    // SVG doesn't support\n\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(zlevel).clear(true);\n    } // Config layer with motion blur\n\n\n    if (this._lastZlevel != null && !isSvg) {\n      zr.configLayer(this._lastZlevel, {\n        motionBlur: false\n      });\n    }\n\n    if (hasEffect && trailLength) {\n      if (!isSvg) {\n        zr.configLayer(zlevel, {\n          motionBlur: true,\n          lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n        });\n      }\n    }\n\n    this.group.add(lineDraw.group);\n    lineDraw.updateData(data);\n    this._lastZlevel = zlevel;\n  },\n  updateLayout: function (seriesModel, ecModel, api) {\n    this._lineDraw.updateLayout(seriesModel); // Not use motion when dragging or zooming\n\n\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  },\n  remove: function (ecModel, api) {\n    this._lineDraw && this._lineDraw.remove(api, true); // Clear motion when lineDraw is removed\n\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 333 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Polyline = __webpack_require__(140);\n\nvar zrUtil = __webpack_require__(0);\n\nvar EffectLine = __webpack_require__(139);\n\nvar vec2 = __webpack_require__(7);\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n  EffectLine.call(this, lineData, idx, seriesScope);\n  this._lastFrame = 0;\n  this._lastFramePercent = 0;\n}\n\nvar effectPolylineProto = EffectPolyline.prototype; // Overwrite\n\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Polyline(lineData, idx, seriesScope);\n}; // Overwrite\n\n\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n  this._points = points;\n  var accLenArr = [0];\n  var len = 0;\n\n  for (var i = 1; i < points.length; i++) {\n    var p1 = points[i - 1];\n    var p2 = points[i];\n    len += vec2.dist(p1, p2);\n    accLenArr.push(len);\n  }\n\n  if (len === 0) {\n    return;\n  }\n\n  for (var i = 0; i < accLenArr.length; i++) {\n    accLenArr[i] /= len;\n  }\n\n  this._offsets = accLenArr;\n  this._length = len;\n}; // Overwrite\n\n\neffectPolylineProto.getLineLength = function (symbol) {\n  return this._length;\n}; // Overwrite\n\n\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n  var t = symbol.__t;\n  var points = this._points;\n  var offsets = this._offsets;\n  var len = points.length;\n\n  if (!offsets) {\n    // Has length 0\n    return;\n  }\n\n  var lastFrame = this._lastFrame;\n  var frame;\n\n  if (t < this._lastFramePercent) {\n    // Start from the next frame\n    // PENDING start from lastFrame ?\n    var start = Math.min(lastFrame + 1, len - 1);\n\n    for (frame = start; frame >= 0; frame--) {\n      if (offsets[frame] <= t) {\n        break;\n      }\n    } // PENDING really need to do this ?\n\n\n    frame = Math.min(frame, len - 2);\n  } else {\n    for (var frame = lastFrame; frame < len; frame++) {\n      if (offsets[frame] > t) {\n        break;\n      }\n    }\n\n    frame = Math.min(frame - 1, len - 2);\n  }\n\n  vec2.lerp(symbol.position, points[frame], points[frame + 1], (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]));\n  var tx = points[frame + 1][0] - points[frame][0];\n  var ty = points[frame + 1][1] - points[frame][1];\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  this._lastFrame = frame;\n  this._lastFramePercent = t;\n  symbol.ignore = false;\n};\n\nzrUtil.inherits(EffectPolyline, EffectLine);\nvar _default = EffectPolyline;\nmodule.exports = _default;\n\n/***/ }),\n/* 334 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar lineContain = __webpack_require__(101);\n\nvar quadraticContain = __webpack_require__(102);\n\n// TODO Batch by color\nvar LargeLineShape = graphic.extendShape({\n  shape: {\n    polyline: false,\n    segs: []\n  },\n  buildPath: function (path, shape) {\n    var segs = shape.segs;\n    var isPolyline = shape.polyline;\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      if (isPolyline) {\n        path.moveTo(seg[0][0], seg[0][1]);\n\n        for (var j = 1; j < seg.length; j++) {\n          path.lineTo(seg[j][0], seg[j][1]);\n        }\n      } else {\n        path.moveTo(seg[0][0], seg[0][1]);\n\n        if (seg.length > 2) {\n          path.quadraticCurveTo(seg[2][0], seg[2][1], seg[1][0], seg[1][1]);\n        } else {\n          path.lineTo(seg[1][0], seg[1][1]);\n        }\n      }\n    }\n  },\n  findDataIndex: function (x, y) {\n    var shape = this.shape;\n    var segs = shape.segs;\n    var isPolyline = shape.polyline;\n    var lineWidth = Math.max(this.style.lineWidth, 1); // Not consider transform\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      if (isPolyline) {\n        for (var j = 1; j < seg.length; j++) {\n          if (lineContain.containStroke(seg[j - 1][0], seg[j - 1][1], seg[j][0], seg[j][1], lineWidth, x, y)) {\n            return i;\n          }\n        }\n      } else {\n        if (seg.length > 2) {\n          if (quadraticContain.containStroke(seg[0][0], seg[0][1], seg[2][0], seg[2][1], seg[1][0], seg[1][1], lineWidth, x, y)) {\n            return i;\n          }\n        } else {\n          if (lineContain.containStroke(seg[0][0], seg[0][1], seg[1][0], seg[1][1], lineWidth, x, y)) {\n            return i;\n          }\n        }\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeLineDraw() {\n  this.group = new graphic.Group();\n  this._lineEl = new LargeLineShape();\n}\n\nvar largeLineProto = LargeLineDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nlargeLineProto.updateData = function (data) {\n  this.group.removeAll();\n  var lineEl = this._lineEl;\n  var seriesModel = data.hostModel;\n  lineEl.setShape({\n    segs: data.mapArray(data.getItemLayout),\n    polyline: seriesModel.get('polyline')\n  });\n  lineEl.useStyle(seriesModel.getModel('lineStyle.normal').getLineStyle());\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    lineEl.setStyle('stroke', visualColor);\n  }\n\n  lineEl.setStyle('fill'); // Enable tooltip\n  // PENDING May have performance issue when path is extremely large\n\n  lineEl.seriesIndex = seriesModel.seriesIndex;\n  lineEl.on('mousemove', function (e) {\n    lineEl.dataIndex = null;\n    var dataIndex = lineEl.findDataIndex(e.offsetX, e.offsetY);\n\n    if (dataIndex > 0) {\n      // Provide dataIndex for tooltip\n      lineEl.dataIndex = dataIndex;\n    }\n  }); // Add back\n\n  this.group.add(lineEl);\n};\n\nlargeLineProto.updateLayout = function (seriesModel) {\n  var data = seriesModel.getData();\n\n  this._lineEl.setShape({\n    segs: data.mapArray(data.getItemLayout)\n  });\n};\n\nlargeLineProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LargeLineDraw;\nmodule.exports = _default;\n\n/***/ }),\n/* 335 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('lines', function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var lineData = seriesModel.getData(); // FIXME Use data dimensions ?\n\n    lineData.each(function (idx) {\n      var itemModel = lineData.getItemModel(idx);\n      var coords = itemModel.option instanceof Array ? itemModel.option : itemModel.get('coords');\n      var pts = [];\n\n      if (seriesModel.get('polyline')) {\n        for (var i = 0; i < coords.length; i++) {\n          pts.push(coordSys.dataToPoint(coords[i]));\n        }\n      } else {\n        pts[0] = coordSys.dataToPoint(coords[0]);\n        pts[1] = coordSys.dataToPoint(coords[1]);\n        var curveness = itemModel.get('lineStyle.normal.curveness');\n\n        if (+curveness) {\n          pts[2] = [(pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness, (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness];\n        }\n      }\n\n      lineData.setItemLayout(idx, pts);\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 336 */\n/***/ (function(module, exports) {\n\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('lines', function (seriesModel) {\n    var data = seriesModel.getData();\n    var symbolType = normalize(seriesModel.get('symbol'));\n    var symbolSize = normalize(seriesModel.get('symbolSize'));\n    var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n    data.setVisual('fromSymbol', symbolType && symbolType[0]);\n    data.setVisual('toSymbol', symbolType && symbolType[1]);\n    data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    data.setVisual('opacity', seriesModel.get(opacityQuery));\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      var opacity = itemModel.get(opacityQuery);\n      symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n      symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n      symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n      data.setItemVisual(idx, 'opacity', opacity);\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 337 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(338);\n\n__webpack_require__(339);\n\n/***/ }),\n/* 338 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SeriesModel = __webpack_require__(15);\n\nvar createListFromArray = __webpack_require__(27);\n\nvar _default = SeriesModel.extend({\n  type: 'series.heatmap',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  defaultOption: {\n    // Cartesian2D or geo\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 339 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar graphic = __webpack_require__(2);\n\nvar HeatmapLayer = __webpack_require__(340);\n\nvar zrUtil = __webpack_require__(0);\n\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    // Try to find in the location of the last found\n    for (var i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n\n    if (i === len) {\n      // Not found, back interation\n      for (var i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n\n    return i >= 0 && i < len && selected[i];\n  };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\n\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions; // Not use coorSys.type === 'geo' because coordSys maybe extended\n\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nvar _default = echarts.extendChartView({\n  type: 'heatmap',\n  render: function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(coordSys, seriesModel, api);\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  },\n  dispose: function () {},\n  _renderOnCartesianAndCalendar: function (coordSys, seriesModel, api) {\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var width = xAxis.getBandWidth();\n      var height = yAxis.getBandWidth();\n    }\n\n    var group = this.group;\n    var data = seriesModel.getData();\n    var itemStyleQuery = 'itemStyle.normal';\n    var hoverItemStyleQuery = 'itemStyle.emphasis';\n    var labelQuery = 'label.normal';\n    var hoverLabelQuery = 'label.emphasis';\n    var style = seriesModel.getModel(itemStyleQuery).getItemStyle(['color']);\n    var hoverStl = seriesModel.getModel(hoverItemStyleQuery).getItemStyle();\n    var labelModel = seriesModel.getModel('label.normal');\n    var hoverLabelModel = seriesModel.getModel('label.emphasis');\n    var coordSysType = coordSys.type;\n    var dataDims = coordSysType === 'cartesian2d' ? [seriesModel.coordDimToDataDim('x')[0], seriesModel.coordDimToDataDim('y')[0], seriesModel.coordDimToDataDim('value')[0]] : [seriesModel.coordDimToDataDim('time')[0], seriesModel.coordDimToDataDim('value')[0]];\n    data.each(function (idx) {\n      var rect;\n\n      if (coordSysType === 'cartesian2d') {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[2], idx))) {\n          return;\n        }\n\n        var point = coordSys.dataToPoint([data.get(dataDims[0], idx), data.get(dataDims[1], idx)]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          return;\n        }\n\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      }\n\n      var itemModel = data.getItemModel(idx); // Optimization for large datset\n\n      if (data.hasItemOption) {\n        style = itemModel.getModel(itemStyleQuery).getItemStyle(['color']);\n        hoverStl = itemModel.getModel(hoverItemStyleQuery).getItemStyle();\n        labelModel = itemModel.getModel(labelQuery);\n        hoverLabelModel = itemModel.getModel(hoverLabelQuery);\n      }\n\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2];\n      }\n\n      graphic.setLabelStyle(style, hoverStl, labelModel, hoverLabelModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultText: defaultText,\n        isRectText: true\n      });\n      rect.setStyle(style);\n      graphic.setHoverStyle(rect, data.hasItemOption ? hoverStl : zrUtil.extend({}, hoverStl));\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n    });\n  },\n  _renderOnGeo: function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange; // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform().transform;\n    rect.applyTransform(roamTransform); // Clamp on viewport\n\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var points = data.mapArray(['lng', 'lat', 'value'], function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 340 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @file defines echarts Heatmap Chart\n * @author Ovilia (me@zhangwenli.com)\n * Inspired by https://github.com/mourner/simpleheat\n *\n * @module\n */\nvar GRADIENT_LEVELS = 256;\n/**\n * Heatmap Chart\n *\n * @class\n */\n\nfunction Heatmap() {\n  var canvas = zrUtil.createCanvas();\n  this.canvas = canvas;\n  this.blurSize = 30;\n  this.pointSize = 20;\n  this.maxOpacity = 1;\n  this.minOpacity = 0;\n  this._gradientPixels = {};\n}\n\nHeatmap.prototype = {\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param {Array} data array of data, each has x, y, value\n   * @param {number} width canvas width\n   * @param {number} height canvas height\n   */\n  update: function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n\n    var gradientInRange = this._getGradient(data, colorFunc, 'inRange');\n\n    var gradientOutOfRange = this._getGradient(data, colorFunc, 'outOfRange');\n\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2]; // calculate alpha using value\n\n      var alpha = normalize(value); // draw with the circle brush with alpha\n\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    } // colorize the canvas using alpha value and set with gradient\n\n\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4; // Simple optimize to ignore the empty data\n\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange; // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  },\n\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   * @private\n   * @returns {Object} circle brush canvas\n   */\n  _getBrush: function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = zrUtil.createCanvas()); // set brush size\n\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d); // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize; // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n\n    ctx.shadowColor = '#000'; // draw circle in the left to the canvas\n\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  },\n\n  /**\n   * get gradient color map\n   * @private\n   */\n  _getGradient: function (data, colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n\n    return pixelsSingleState;\n  }\n};\nvar _default = Heatmap;\nmodule.exports = _default;\n\n/***/ }),\n/* 341 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(75);\n\n__webpack_require__(342);\n\n__webpack_require__(343);\n\nvar barLayoutGrid = __webpack_require__(76);\n\nvar visualSymbol = __webpack_require__(32);\n\n__webpack_require__(45);\n\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(barLayoutGrid, 'pictorialBar'));\necharts.registerVisual(zrUtil.curry(visualSymbol, 'pictorialBar', 'roundRect', null));\n\n/***/ }),\n/* 342 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BaseBarSeries = __webpack_require__(119);\n\nvar PictorialBarSeries = BaseBarSeries.extend({\n  type: 'series.pictorialBar',\n  dependencies: ['grid'],\n  defaultOption: {\n    symbol: 'circle',\n    // Customized bar shape\n    symbolSize: null,\n    // Can be ['100%', '100%'], null means auto.\n    symbolRotate: null,\n    symbolPosition: null,\n    // 'start' or 'end' or 'center', null means auto.\n    symbolOffset: null,\n    symbolMargin: null,\n    // start margin and end margin. Can be a number or a percent string.\n    // Auto margin by defualt.\n    symbolRepeat: false,\n    // false/null/undefined, means no repeat.\n    // Can be true, means auto calculate repeat times and cut by data.\n    // Can be a number, specifies repeat times, and do not cut by data.\n    // Can be 'fixed', means auto calculate repeat times but do not cut by data.\n    symbolRepeatDirection: 'end',\n    // 'end' means from 'start' to 'end'.\n    symbolClip: false,\n    symbolBoundingData: null,\n    // Can be 60 or -40 or [-40, 60]\n    symbolPatternSize: 400,\n    // 400 * 400 px\n    barGap: '-100%',\n    // In most case, overlap is needed.\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    hoverAnimation: false // Open only when needed.\n\n  },\n  getInitialData: function (option) {\n    // Disable stack.\n    option.stack = null;\n    return PictorialBarSeries.superApply(this, 'getInitialData', arguments);\n  }\n});\nvar _default = PictorialBarSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 343 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\nvar isNumeric = _number.isNumeric;\n\nvar _helper = __webpack_require__(120);\n\nvar setLabel = _helper.setLabel;\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'normal', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar BarView = echarts.extendChartView({\n  type: 'pictorialBar',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = !!baseAxis.isHorizontal();\n    var coordSysRect = cartesian.grid.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, bar.dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n}); // Set or calculate default value about symbol, and calculate layout info.\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    color: data.getItemVisual(dataIndex, 'color'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverAnimation: isAnimationEnabled && itemModel.get('hoverAnimation'),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = itemModel.get('symbolOffset');\n\n  if (zrUtil.isArray(symbolOffset)) {\n    symbolOffset = [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])];\n  }\n\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, output) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n\n  output.boundingLength = boundingLength;\n\n  if (symbolRepeat) {\n    output.repeatCutLength = layout[valueDim.wh];\n  }\n\n  output.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, output) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n\n  if (zrUtil.isArray(symbolSize)) {\n    symbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      symbolSize = '100%';\n    }\n\n    symbolSize = [symbolSize, symbolSize];\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n\n  symbolSize[categoryDim.index] = parsePercent(symbolSize[categoryDim.index], categorySize);\n  symbolSize[valueDim.index] = parsePercent(symbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  output.symbolSize = symbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = output.symbolScale = [symbolSize[0] / symbolPatternSize, symbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, output) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scale: symbolScale.slice(),\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n\n  output.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, output) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = output.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n\n    symbolMargin = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMargin * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMargin * 2; // Both final repeatTimes and final symbolMargin area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMargin = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n    uLenWithMargin = unitLength + symbolMargin * 2;\n    endFix = hasEndGap ? 0 : symbolMargin * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    output.repeatTimes = repeatTimes;\n    output.symbolMargin = symbolMargin;\n  }\n\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = output.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n\n  var bundlePosition = output.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = output.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = output.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol( // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize, symbolMeta.color);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scale: [0, 0]\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    }\n\n    updateHoverAnimation(path, symbolMeta);\n    index++;\n  });\n\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      position: target.position,\n      scale: [0, 0]\n    }, {\n      scale: target.scale,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate); // FIXME\n    // If all emphasis/normal through action.\n\n    path.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n    updateHoverAnimation(path, symbolMeta);\n  }\n\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      position: position,\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    };\n  }\n\n  function onMouseOver() {\n    eachPath(bar, function (path) {\n      path.trigger('emphasis');\n    });\n  }\n\n  function onMouseOut() {\n    eachPath(bar, function (path) {\n      path.trigger('normal');\n    });\n  }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: [0, 0],\n      rotation: symbolMeta.rotation\n    }, {\n      scale: symbolMeta.symbolScale.slice()\n    }, symbolMeta, isUpdate);\n    mainPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n  } else {\n    updateAttr(mainPath, null, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n\n  updateHoverAnimation(mainPath, symbolMeta);\n\n  function onMouseOver() {\n    this.trigger('emphasis');\n  }\n\n  function onMouseOut() {\n    this.trigger('normal');\n  }\n} // bar rect is used for label.\n\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n\n      bar.__pictorialBundle.setClipPath(clipPath);\n\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\n\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\n\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction updateHoverAnimation(path, symbolMeta) {\n  path.off('emphasis').off('normal');\n  var scale = symbolMeta.symbolScale.slice();\n  symbolMeta.hoverAnimation && path.on('emphasis', function () {\n    this.animateTo({\n      scale: [scale[0] * 1.1, scale[1] * 1.1]\n    }, 400, 'elasticOut');\n  }).on('normal', function () {\n    this.animateTo({\n      scale: scale.slice()\n    }, 400, 'elasticOut');\n  });\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.attr('position', symbolMeta.bundlePosition.slice());\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    position: symbolMeta.bundlePosition.slice()\n  }, animationModel, dataIndex);\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && (labelRect.style.text = null);\n  var pathes = [];\n  eachPath(bar, function (path) {\n    pathes.push(path);\n  });\n  bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(pathes, function (path) {\n    graphic.updateProps(path, {\n      scale: [0, 0]\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\n\nfunction updateCommon(bar, opt, symbolMeta) {\n  var color = symbolMeta.color;\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var normalStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n  var hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  eachPath(bar, function (path) {\n    // PENDING setColor should be before setStyle!!!\n    path.setColor(color);\n    path.setStyle(zrUtil.defaults({\n      fill: color,\n      opacity: symbolMeta.opacity\n    }, normalStyle));\n    graphic.setHoverStyle(path, hoverStyle);\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barRectHoverStyle = {};\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabel(barRect.style, barRectHoverStyle, itemModel, color, opt.seriesModel, dataIndex, barPositionOutside);\n  graphic.setHoverStyle(barRect, barRectHoverStyle);\n}\n\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\n\nvar _default = BarView;\nmodule.exports = _default;\n\n/***/ }),\n/* 344 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(141);\n\n__webpack_require__(354);\n\n__webpack_require__(355);\n\nvar themeRiverLayout = __webpack_require__(356);\n\nvar themeRiverVisual = __webpack_require__(357);\n\nvar dataFilter = __webpack_require__(62);\n\necharts.registerLayout(themeRiverLayout);\necharts.registerVisual(themeRiverVisual);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'themeRiver'));\n\n/***/ }),\n/* 345 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Single = __webpack_require__(346);\n\nvar CoordinateSystem = __webpack_require__(21);\n\n/**\n * Single coordinate system creator.\n */\n\n/**\n * Create single coordinate system and inject it into seriesModel.\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Array.<module:echarts/coord/single/Single>}\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = ecModel.queryComponents({\n        mainType: 'singleAxis',\n        index: seriesModel.get('singleAxisIndex'),\n        id: seriesModel.get('singleAxisId')\n      })[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\n\nCoordinateSystem.register('single', {\n  create: create,\n  dimensions: Single.prototype.dimensions\n});\n\n/***/ }),\n/* 346 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SingleAxis = __webpack_require__(347);\n\nvar axisHelper = __webpack_require__(17);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/**\n * Single coordinates system.\n */\n\n/**\n * Create a single coordinates system.\n *\n * @param {module:echarts/coord/single/AxisModel} axisModel\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction Single(axisModel, ecModel, api) {\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  this.dimension = 'single';\n  /**\n   * Add it just for draw tooltip.\n   *\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = ['single'];\n  /**\n   * @private\n   * @type {module:echarts/coord/single/SingleAxis}.\n   */\n\n  this._axis = null;\n  /**\n   * @private\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n\n  this._init(axisModel, ecModel, api);\n  /**\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n\n\n  this.model = axisModel;\n}\n\nSingle.prototype = {\n  type: 'singleAxis',\n  axisPointerEnabled: true,\n  constructor: Single,\n\n  /**\n   * Initialize single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @private\n   */\n  _init: function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data = seriesModel.getData();\n        var dim = this.dimension;\n\n        this._axis.scale.unionExtentFromData(data, seriesModel.coordDimToDataDim(dim));\n\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  },\n\n  /**\n   * Resize the single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  resize: function (axisModel, api) {\n    this._rect = getLayoutRect({\n      left: axisModel.get('left'),\n      top: axisModel.get('top'),\n      right: axisModel.get('right'),\n      bottom: axisModel.get('bottom'),\n      width: axisModel.get('width'),\n      height: axisModel.get('height')\n    }, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._adjustAxis();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _adjustAxis: function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.reverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  },\n\n  /**\n   * @param  {module:echarts/coord/single/SingleAxis} axis\n   * @param  {number} coordBase\n   */\n  _updateAxisTransform: function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  },\n\n  /**\n   * Get axis.\n   *\n   * @return {module:echarts/coord/single/SingleAxis}\n   */\n  getAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * Get axis, add it just for draw tooltip.\n   *\n   * @return {[type]} [description]\n   */\n  getBaseAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._axis];\n  },\n\n  /**\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function () {\n    return {\n      baseAxes: [this.getAxis()]\n    };\n  },\n\n  /**\n   * If contain point.\n   *\n   * @param  {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var axis = this.getAxis();\n    return [axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]))];\n  },\n\n  /**\n   * Convert the series data to concrete point.\n   *\n   * @param  {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (val) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    var pt = [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n\n    if (val instanceof Array) {\n      val = val[0];\n    }\n\n    pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    pt[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return pt;\n  }\n};\nvar _default = Single;\nmodule.exports = _default;\n\n/***/ }),\n/* 347 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\n/**\n * @constructor  module:echarts/coord/single/SingleAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar SingleAxis = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   * - 'category'\n   * - 'value'\n   * - 'time'\n   * - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   *  @type {string}\n   */\n\n  this.position = position || 'bottom';\n  /**\n   * Axis orient\n   *  - 'horizontal'\n   *  - 'vertical'\n   * @type {[type]}\n   */\n\n  this.orient = null;\n  /**\n   * @type {number}\n   */\n\n  this._labelInterval = null;\n};\n\nSingleAxis.prototype = {\n  constructor: SingleAxis,\n\n  /**\n   * Axis model\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n  model: null,\n\n  /**\n   * Judge the orient of the axis.\n   * @return {boolean}\n   */\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordinateSystem.pointToData(point, clamp)[0];\n  },\n\n  /**\n   * Convert the local coord(processed by dataToCoord())\n   * to global coord(concrete pixel coord).\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toGlobalCoord: null,\n\n  /**\n   * Convert the global coord to local coord.\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toLocalCoord: null\n};\nzrUtil.inherits(SingleAxis, Axis);\nvar _default = SingleAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 348 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar graphic = __webpack_require__(2);\n\nvar singleAxisHelper = __webpack_require__(142);\n\nvar AxisView = __webpack_require__(34);\n\nvar getInterval = AxisBuilder.getInterval;\nvar ifIgnoreOnTick = AxisBuilder.ifIgnoreOnTick;\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttr = 'splitLine';\nvar SingleAxisView = AxisView.extend({\n  type: 'singleAxis',\n  axisPointerClass: 'SingleAxisPointer',\n  render: function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    group.add(axisBuilder.getGroup());\n\n    if (axisModel.get(selfBuilderAttr + '.show')) {\n      this['_' + selfBuilderAttr](axisModel, layout.labelInterval);\n    }\n\n    SingleAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  _splitLine: function (axisModel, labelInterval) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineWidth = lineStyleModel.get('width');\n    var lineColors = lineStyleModel.get('color');\n    var lineInterval = getInterval(splitLineModel, labelInterval);\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords();\n    var p1 = [];\n    var p2 = [];\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      if (ifIgnoreOnTick(axis, i, lineInterval, ticksCoords.length, showMinLabel, showMaxLabel)) {\n        continue;\n      }\n\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line(graphic.subPixelOptimizeLine({\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: {\n          lineWidth: lineWidth\n        },\n        silent: true\n      })));\n    }\n\n    for (var i = 0; i < splitLines.length; ++i) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: {\n          stroke: lineColors[i % lineColors.length],\n          lineDash: lineStyleModel.getLineDash(lineWidth),\n          lineWidth: lineWidth\n        },\n        silent: true\n      }));\n    }\n  }\n});\nvar _default = SingleAxisView;\nmodule.exports = _default;\n\n/***/ }),\n/* 349 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar axisModelCreator = __webpack_require__(60);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar AxisModel = ComponentModel.extend({\n  type: 'singleAxis',\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/single/SingleAxis}\n   */\n  axis: null,\n\n  /**\n   * @type {module:echarts/coord/single/Single}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this;\n  }\n});\nvar defaultOption = {\n  left: '5%',\n  top: '5%',\n  right: '5%',\n  bottom: '5%',\n  type: 'value',\n  position: 'bottom',\n  orient: 'horizontal',\n  axisLine: {\n    show: true,\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    }\n  },\n  // Single coordinate system and single axis is the,\n  // which is used as the parent tooltip model.\n  // same model, so we set default tooltip show as true.\n  tooltip: {\n    show: true\n  },\n  axisTick: {\n    show: true,\n    length: 6,\n    lineStyle: {\n      width: 2\n    }\n  },\n  axisLabel: {\n    show: true,\n    interval: 'auto'\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      type: 'dashed',\n      opacity: 0.2\n    }\n  }\n};\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\naxisModelCreator('single', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 350 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar modelHelper = __webpack_require__(61);\n\nvar findPointFromSeries = __webpack_require__(143);\n\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar get = modelUtil.makeGetter();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By defualt use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.coordDimToDataDim(dim);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      false, axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = get(zr)[highDownKey] || {};\n  var newHighlights = get(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 351 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 352 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar globalListener = __webpack_require__(144);\n\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;\n\n/***/ }),\n/* 353 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar graphic = __webpack_require__(2);\n\nvar BaseAxisPointer = __webpack_require__(83);\n\nvar viewHelper = __webpack_require__(66);\n\nvar singleAxisHelper = __webpack_require__(142);\n\nvar AxisView = __webpack_require__(34);\n\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  }\n});\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent, elStyle) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    graphic.subPixelOptimizeLine({\n      shape: targetShape,\n      style: elStyle\n    });\n    return {\n      type: 'Line',\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent, elStyle) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\n\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\n\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\n\nAxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\nvar _default = SingleAxisPointer;\nmodule.exports = _default;\n\n/***/ }),\n/* 354 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar completeDimensions = __webpack_require__(19);\n\nvar SeriesModel = __webpack_require__(15);\n\nvar List = __webpack_require__(14);\n\nvar zrUtil = __webpack_require__(0);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\n\nvar nest = __webpack_require__(138);\n\n/**\n * @file  Define the themeRiver view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\nvar DATA_NAME_INDEX = 2;\nvar ThemeRiverSeries = SeriesModel.extend({\n  type: 'series.themeRiver',\n  dependencies: ['singleAxis'],\n\n  /**\n   * @readOnly\n   * @type {module:zrender/core/util#HashMap}\n   */\n  nameMap: null,\n\n  /**\n   * @override\n   */\n  init: function (option) {\n    ThemeRiverSeries.superApply(this, 'init', arguments); // Put this function here is for the sake of consistency of code style.\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n  },\n\n  /**\n   * If there is no value of a certain point in the time for some event,set it value to 0.\n   *\n   * @param {Array} data  initial data in the option\n   * @return {Array}\n   */\n  fixData: function (data) {\n    var rawDataLength = data.length; // grouped data by name\n\n    var dataByName = nest().key(function (dataItem) {\n      return dataItem[2];\n    }).entries(data); // data group in each layer\n\n    var layData = zrUtil.map(dataByName, function (d) {\n      return {\n        name: d.key,\n        dataList: d.values\n      };\n    });\n    var layerNum = layData.length;\n    var largestLayer = -1;\n    var index = -1;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var len = layData[i].dataList.length;\n\n      if (len > largestLayer) {\n        largestLayer = len;\n        index = i;\n      }\n    }\n\n    for (var k = 0; k < layerNum; ++k) {\n      if (k === index) {\n        continue;\n      }\n\n      var name = layData[k].name;\n\n      for (var j = 0; j < largestLayer; ++j) {\n        var timeValue = layData[index].dataList[j][0];\n        var length = layData[k].dataList.length;\n        var keyIndex = -1;\n\n        for (var l = 0; l < length; ++l) {\n          var value = layData[k].dataList[l][0];\n\n          if (value === timeValue) {\n            keyIndex = l;\n            break;\n          }\n        }\n\n        if (keyIndex === -1) {\n          data[rawDataLength] = [];\n          data[rawDataLength][0] = timeValue;\n          data[rawDataLength][1] = 0;\n          data[rawDataLength][2] = name;\n          rawDataLength++;\n        }\n      }\n    }\n\n    return data;\n  },\n\n  /**\n   * @override\n   * @param  {Object} option  the initial option that user gived\n   * @param  {module:echarts/model/Model} ecModel  the model object for themeRiver option\n   * @return {module:echarts/data/List}\n   */\n  getInitialData: function (option, ecModel) {\n    var dimensions = [];\n    var singleAxisModel = ecModel.queryComponents({\n      mainType: 'singleAxis',\n      index: this.get('singleAxisIndex'),\n      id: this.get('singleAxisId')\n    })[0];\n    var axisType = singleAxisModel.get('type');\n    dimensions = [{\n      name: 'time',\n      // FIXME common?\n      type: axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float'\n    }, {\n      name: 'value',\n      type: 'float'\n    }, {\n      name: 'name',\n      type: 'ordinal'\n    }]; // filter the data item with the value of label is undefined\n\n    var filterData = zrUtil.filter(option.data, function (dataItem) {\n      return dataItem[2] !== undefined;\n    });\n    var data = this.fixData(filterData || []);\n    var nameList = [];\n    var nameMap = this.nameMap = zrUtil.createHashMap();\n    var count = 0;\n\n    for (var i = 0; i < data.length; ++i) {\n      nameList.push(data[i][DATA_NAME_INDEX]);\n\n      if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n        nameMap.set(data[i][DATA_NAME_INDEX], count);\n        count++;\n      }\n    }\n\n    dimensions = completeDimensions(dimensions, data);\n    var list = new List(dimensions, this);\n    list.initData(data, nameList);\n    return list;\n  },\n\n  /**\n   * Used by single coordinate\n   *\n   * @param {string} axisDim  the dimension for single coordinate\n   * @return {Array.<string> } specified dimensions on the axis.\n   */\n  coordDimToDataDim: function (axisDim) {\n    return ['time'];\n  },\n\n  /**\n   * The raw data is divided into multiple layers and each layer\n   *     has same name.\n   *\n   * @return {Array.<Array.<number>>}\n   */\n  getLayerSeries: function () {\n    var data = this.getData();\n    var lenCount = data.count();\n    var indexArr = [];\n\n    for (var i = 0; i < lenCount; ++i) {\n      indexArr[i] = i;\n    } // data group by name\n\n\n    var dataByName = nest().key(function (index) {\n      return data.get('name', index);\n    }).entries(indexArr);\n    var layerSeries = zrUtil.map(dataByName, function (d) {\n      return {\n        name: d.key,\n        indices: d.values\n      };\n    });\n\n    for (var j = 0; j < layerSeries.length; ++j) {\n      layerSeries[j].indices.sort(comparer);\n    }\n\n    function comparer(index1, index2) {\n      return data.get('time', index1) - data.get('time', index2);\n    }\n\n    return layerSeries;\n  },\n\n  /**\n   * Get data indices for show tooltip content\n   *\n   * @param {Array.<string>|string} dim  single coordinate dimension\n   * @param {number} value axis value\n   * @param {module:echarts/coord/single/SingleAxis} baseAxis  single Axis used\n   *     the themeRiver.\n   * @return {Object} {dataIndices, nestestValue}\n   */\n  getAxisTooltipData: function (dim, value, baseAxis) {\n    if (!zrUtil.isArray(dim)) {\n      dim = dim ? [dim] : [];\n    }\n\n    var data = this.getData();\n    var layerSeries = this.getLayerSeries();\n    var indices = [];\n    var layerNum = layerSeries.length;\n    var nestestValue;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var minDist = Number.MAX_VALUE;\n      var nearestIdx = -1;\n      var pointNum = layerSeries[i].indices.length;\n\n      for (var j = 0; j < pointNum; ++j) {\n        var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n        var dist = Math.abs(theValue - value);\n\n        if (dist <= minDist) {\n          nestestValue = theValue;\n          minDist = dist;\n          nearestIdx = layerSeries[i].indices[j];\n        }\n      }\n\n      indices.push(nearestIdx);\n    }\n\n    return {\n      dataIndices: indices,\n      nestestValue: nestestValue\n    };\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex  index of data\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var htmlName = data.get('name', dataIndex);\n    var htmlValue = data.get('value', dataIndex);\n\n    if (isNaN(htmlValue) || htmlValue == null) {\n      htmlValue = '-';\n    }\n\n    return encodeHTML(htmlName + ' : ' + htmlValue);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'singleAxis',\n    // gap in axis's orthogonal orientation\n    boundaryGap: ['10%', '10%'],\n    // legendHoverLink: true,\n    singleAxisIndex: 0,\n    animationEasing: 'linear',\n    label: {\n      normal: {\n        margin: 4,\n        textAlign: 'right',\n        show: true,\n        position: 'left',\n        color: '#000',\n        fontSize: 11\n      },\n      emphasis: {\n        show: true\n      }\n    }\n  }\n});\nvar _default = ThemeRiverSeries;\nmodule.exports = _default;\n\n/***/ }),\n/* 355 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar _poly = __webpack_require__(115);\n\nvar Polygon = _poly.Polygon;\n\nvar graphic = __webpack_require__(2);\n\nvar _util = __webpack_require__(0);\n\nvar bind = _util.bind;\nvar extend = _util.extend;\n\nvar DataDiffer = __webpack_require__(38);\n\n/**\n * @file  The file used to draw themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\nvar _default = echarts.extendChartView({\n  type: 'themeRiver',\n  init: function () {\n    this._layers = [];\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var layerSeries = seriesModel.getLayerSeries();\n    var layoutInfo = data.getLayout('layoutInfo');\n    var rect = layoutInfo.rect;\n    var boundaryGap = layoutInfo.boundaryGap;\n    group.attr('position', [0, rect.y + boundaryGap[0]]);\n\n    function keyGetter(item) {\n      return item.name;\n    }\n\n    var dataDiffer = new DataDiffer(this._layersSeries || [], layerSeries, keyGetter, keyGetter);\n    var newLayersGroups = {};\n    dataDiffer.add(bind(process, this, 'add')).update(bind(process, this, 'update')).remove(bind(process, this, 'remove')).execute();\n\n    function process(status, idx, oldIdx) {\n      var oldLayersGroups = this._layers;\n\n      if (status === 'remove') {\n        group.remove(oldLayersGroups[idx]);\n        return;\n      }\n\n      var points0 = [];\n      var points1 = [];\n      var color;\n      var indices = layerSeries[idx].indices;\n\n      for (var j = 0; j < indices.length; j++) {\n        var layout = data.getItemLayout(indices[j]);\n        var x = layout.x;\n        var y0 = layout.y0;\n        var y = layout.y;\n        points0.push([x, y0]);\n        points1.push([x, y0 + y]);\n        color = data.getItemVisual(indices[j], 'color');\n      }\n\n      var polygon;\n      var text;\n      var textLayout = data.getItemLayout(indices[0]);\n      var itemModel = data.getItemModel(indices[j - 1]);\n      var labelModel = itemModel.getModel('label.normal');\n      var margin = labelModel.get('margin');\n\n      if (status === 'add') {\n        var layerGroup = newLayersGroups[idx] = new graphic.Group();\n        polygon = new Polygon({\n          shape: {\n            points: points0,\n            stackedOnPoints: points1,\n            smooth: 0.4,\n            stackedOnSmooth: 0.4,\n            smoothConstraint: false\n          },\n          z2: 0\n        });\n        text = new graphic.Text({\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        });\n        layerGroup.add(polygon);\n        layerGroup.add(text);\n        group.add(layerGroup);\n        polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(), seriesModel, function () {\n          polygon.removeClipPath();\n        }));\n      } else {\n        var layerGroup = oldLayersGroups[oldIdx];\n        polygon = layerGroup.childAt(0);\n        text = layerGroup.childAt(1);\n        group.add(layerGroup);\n        newLayersGroups[idx] = layerGroup;\n        graphic.updateProps(polygon, {\n          shape: {\n            points: points0,\n            stackedOnPoints: points1\n          }\n        }, seriesModel);\n        graphic.updateProps(text, {\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        }, seriesModel);\n      }\n\n      var hoverItemStyleModel = itemModel.getModel('itemStyle.emphasis');\n      var itemStyleModel = itemModel.getModel('itemStyle.normal');\n      graphic.setTextStyle(text.style, labelModel, {\n        text: labelModel.get('show') ? seriesModel.getFormattedLabel(indices[j - 1], 'normal') || data.getName(indices[j - 1]) : null,\n        textVerticalAlign: 'middle'\n      });\n      polygon.setStyle(extend({\n        fill: color\n      }, itemStyleModel.getItemStyle(['color'])));\n      graphic.setHoverStyle(polygon, hoverItemStyleModel.getItemStyle());\n    }\n\n    this._layersSeries = layerSeries;\n    this._layers = newLayersGroups;\n  },\n  dispose: function () {}\n}); // add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 356 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar numberUtil = __webpack_require__(3);\n\n/**\n * @file  Using layout algorithm transform the raw data to layout information.\n * @author Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {}; // use the axis boundingRect for view\n\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, width);\n    }\n\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param {module:echarts/data/List} data  data in the series\n * @param {module:echarts/model/Series} seriesModel  the model object of themeRiver series\n * @param {number} height  value used to compute every series height\n */\n\n\nfunction themeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n\n  var coordSys = seriesModel.coordinateSystem; // the data in each layer are organized into a series.\n\n  var layerSeries = seriesModel.getLayerSeries(); // the points in each layer.\n\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get('time', idx));\n      pt[1] = data.get('value', idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max; // set layout information for each item.\n\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  {Array.<Array>} data  the points in each layer\n * @return {Object}\n */\n\n\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n  var temp;\n  var base = {};\n\n  for (var i = 0; i < pointNum; ++i) {\n    for (var j = 0, temp = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n\n    if (temp > max) {\n      max = temp;\n    }\n\n    sums.push(temp);\n  }\n\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n\n  max = 0;\n\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n\n    if (sum > max) {\n      max = sum;\n    }\n  }\n\n  base.y0 = y0;\n  base.max = max;\n  return base;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 357 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(0);\n\nvar createHashMap = _util.createHashMap;\n\n/**\n * @file Visual encoding for themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var rawData = seriesModel.getRawData();\n    var colorList = seriesModel.get('color');\n    var idxMap = createHashMap();\n    data.each(function (idx) {\n      idxMap.set(data.getRawIndex(idx), idx);\n    });\n    rawData.each(function (rawIndex) {\n      var name = rawData.getName(rawIndex);\n      var color = colorList[(seriesModel.nameMap.get(name) - 1) % colorList.length];\n      rawData.setItemVisual(rawIndex, 'color', color);\n      var idx = idxMap.get(rawIndex);\n\n      if (idx != null) {\n        data.setItemVisual(idx, 'color', color);\n      }\n    });\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 358 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphicUtil = __webpack_require__(2);\n\nvar _labelHelper = __webpack_require__(114);\n\nvar findLabelValueDim = _labelHelper.findLabelValueDim;\n\nvar createListFromArray = __webpack_require__(27);\n\nvar barGrid = __webpack_require__(76);\n\nvar DataDiffer = __webpack_require__(38);\n\nvar prepareCartesian2d = __webpack_require__(359);\n\nvar prepareGeo = __webpack_require__(360);\n\nvar prepareSingleAxis = __webpack_require__(361);\n\nvar preparePolar = __webpack_require__(362);\n\nvar prepareCalendar = __webpack_require__(363);\n\nvar ITEM_STYLE_NORMAL_PATH = ['itemStyle', 'normal'];\nvar ITEM_STYLE_EMPHASIS_PATH = ['itemStyle', 'emphasis'];\nvar LABEL_NORMAL = ['label', 'normal'];\nvar LABEL_EMPHASIS = ['label', 'emphasis']; // Use prefix to avoid index to be the same as el.name,\n// which will cause weird udpate animation.\n\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\n\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  singleAxis: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar\n}; // ------\n// Model\n// ------\n\necharts.extendSeriesModel({\n  type: 'series.custom',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    // Can be set as 'none'\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // label: {}\n    // itemStyle: {}\n\n  },\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  }\n}); // -----\n// View\n// -----\n\necharts.extendChartView({\n  type: 'custom',\n\n  /**\n   * @private\n   * @type {module:echarts/data/List}\n   */\n  _data: null,\n\n  /**\n   * @override\n   */\n  render: function (customSeries, ecModel, api) {\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n    data.diff(oldData).add(function (newIdx) {\n      data.hasValue(newIdx) && createOrUpdate(null, newIdx, renderItem(newIdx), customSeries, group, data);\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      data.hasValue(newIdx) ? createOrUpdate(el, newIdx, renderItem(newIdx), customSeries, group, data) : el && group.remove(el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  },\n\n  /**\n   * @override\n   */\n  dispose: zrUtil.noop\n});\n\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el;\n\n  if (graphicType === 'path') {\n    var shape = elOption.shape;\n    el = graphicUtil.makePath(shape.pathData, null, {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width || 0,\n      height: shape.height || 0\n    }, 'center');\n    el.__customPathData = elOption.pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    el.__customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({});\n    el.__customText = elOption.style.text;\n  } else {\n    var Clz = graphicUtil[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n    el = new Clz();\n  }\n\n  el.__customGraphicType = graphicType;\n  el.name = elOption.name;\n  return el;\n}\n\nfunction updateEl(el, dataIndex, elOption, animatableModel, data, isInit) {\n  var targetProps = {};\n  var elOptionStyle = elOption.style || {};\n  elOption.shape && (targetProps.shape = zrUtil.clone(elOption.shape));\n  elOption.position && (targetProps.position = elOption.position.slice());\n  elOption.scale && (targetProps.scale = elOption.scale.slice());\n  elOption.origin && (targetProps.origin = elOption.origin.slice());\n  elOption.rotation && (targetProps.rotation = elOption.rotation);\n\n  if (el.type === 'image' && elOption.style) {\n    var targetStyle = targetProps.style = {};\n    zrUtil.each(['x', 'y', 'width', 'height'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    });\n  }\n\n  if (el.type === 'text' && elOption.style) {\n    var targetStyle = targetProps.style = {};\n    zrUtil.each(['x', 'y'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    }); // Compatible with previous: both support\n    // textFill and fill, textStroke and stroke in 'text' element.\n\n    !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n    !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n  }\n\n  if (el.type !== 'group') {\n    el.useStyle(elOptionStyle); // Init animation.\n\n    if (isInit) {\n      el.style.opacity = 0;\n      var targetOpacity = elOptionStyle.opacity;\n      targetOpacity == null && (targetOpacity = 1);\n      graphicUtil.initProps(el, {\n        style: {\n          opacity: targetOpacity\n        }\n      }, animatableModel, dataIndex);\n    }\n  }\n\n  if (isInit) {\n    el.attr(targetProps);\n  } else {\n    graphicUtil.updateProps(el, targetProps, animatableModel, dataIndex);\n  } // z2 must not be null/undefined, otherwise sort error may occur.\n\n\n  el.attr({\n    z2: elOption.z2 || 0,\n    silent: elOption.silent\n  });\n  elOption.styleEmphasis !== false && graphicUtil.setHoverStyle(el, elOption.styleEmphasis);\n}\n\nfunction prepareStyleTransition(prop, targetStyle, elOptionStyle, oldElStyle, isInit) {\n  if (elOptionStyle[prop] != null && !isInit) {\n    targetStyle[prop] = elOptionStyle[prop];\n    elOptionStyle[prop] = oldElStyle[prop];\n  }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n\n  if (coordSys) {\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms() : prepareCustoms[coordSys.type](coordSys);\n  }\n\n  var userAPI = zrUtil.defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData())\n  }; // Do not support call `api` asynchronously without dataIndexInside input.\n\n  var currDataIndexInside;\n  var currDirty = true;\n  var currItemModel;\n  var currLabelNormalModel;\n  var currLabelEmphasisModel;\n  var currLabelValueDim;\n  var currVisualColor;\n  return function (dataIndexInside) {\n    currDataIndexInside = dataIndexInside;\n    currDirty = true;\n    return renderItem && renderItem(zrUtil.defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside)\n    }, userParams), userAPI) || {};\n  }; // Do not update cache until api called.\n\n  function updateCache(dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n\n    if (currDirty) {\n      currItemModel = data.getItemModel(dataIndexInside);\n      currLabelNormalModel = currItemModel.getModel(LABEL_NORMAL);\n      currLabelEmphasisModel = currItemModel.getModel(LABEL_EMPHASIS);\n      currLabelValueDim = findLabelValueDim(data);\n      currVisualColor = data.getItemVisual(dataIndexInside, 'color');\n      currDirty = false;\n    }\n  }\n  /**\n   * @public\n   * @param {number|string} dim\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   * @return {number|string} value\n   */\n\n\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.get(data.getDimension(dim || 0), dataIndexInside);\n  }\n  /**\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function style(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_NORMAL_PATH).getItemStyle();\n    currVisualColor != null && (itemStyle.fill = currVisualColor);\n    var opacity = data.getItemVisual(dataIndexInside, 'opacity');\n    opacity != null && (itemStyle.opacity = opacity);\n\n    if (currLabelValueDim != null) {\n      graphicUtil.setTextStyle(itemStyle, currLabelNormalModel, null, {\n        autoColor: currVisualColor,\n        isRectText: true\n      });\n      itemStyle.text = currLabelNormalModel.getShallow('show') ? zrUtil.retrieve2(customSeries.getFormattedLabel(dataIndexInside, 'normal'), data.get(currLabelValueDim, dataIndexInside)) : null;\n    }\n\n    extra && zrUtil.extend(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function styleEmphasis(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_EMPHASIS_PATH).getItemStyle();\n\n    if (currLabelValueDim != null) {\n      graphicUtil.setTextStyle(itemStyle, currLabelEmphasisModel, null, {\n        isRectText: true\n      }, true);\n      itemStyle.text = currLabelEmphasisModel.getShallow('show') ? zrUtil.retrieve3(customSeries.getFormattedLabel(dataIndexInside, 'emphasis'), customSeries.getFormattedLabel(dataIndexInside, 'normal'), data.get(currLabelValueDim, dataIndexInside)) : null;\n    }\n\n    extra && zrUtil.extend(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {string} visualType\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.getItemVisual(dataIndexInside, visualType);\n  }\n  /**\n   * @public\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} is not support, return undefined.\n   */\n\n\n  function barLayout(opt) {\n    if (coordSys.getBaseAxis) {\n      var baseAxis = coordSys.getBaseAxis();\n      return barGrid.getLayoutOnAxis(zrUtil.defaults({\n        axis: baseAxis\n      }, opt), api);\n    }\n  }\n  /**\n   * @public\n   * @return {Array.<number>}\n   */\n\n\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} [opt.fontStyle]\n   * @param {number} [opt.fontWeight]\n   * @param {number} [opt.fontSize]\n   * @param {string} [opt.fontFamily]\n   * @return {string} font string\n   */\n\n\n  function font(opt) {\n    return graphicUtil.getFont(opt, ecModel);\n  }\n}\n\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  zrUtil.each(data.dimensions, function (dimName, dataDimIndex) {\n    var dimInfo = data.getDimensionInfo(dimName);\n\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = dataDimIndex;\n    }\n  });\n  return encodeDef;\n}\n\nfunction createOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n  el = doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data);\n  el && data.setItemGraphicEl(dataIndex, el);\n}\n\nfunction doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n  var elOptionType = elOption.type;\n\n  if (el && elOptionType !== el.__customGraphicType && (elOptionType !== 'path' || elOption.pathData !== el.__customPathData) && (elOptionType !== 'image' || elOption.style.image !== el.__customImagePath) && (elOptionType !== 'text' || elOption.style.text !== el.__customText)) {\n    group.remove(el);\n    el = null;\n  } // `elOption.type` is undefined when `renderItem` returns nothing.\n\n\n  if (elOptionType == null) {\n    return;\n  }\n\n  var isInit = !el;\n  !el && (el = createEl(elOption));\n  updateEl(el, dataIndex, elOption, animatableModel, data, isInit);\n\n  if (elOptionType === 'group') {\n    var oldChildren = el.children() || [];\n    var newChildren = elOption.children || [];\n\n    if (elOption.diffChildrenByName) {\n      // lower performance.\n      diffGroupChildren({\n        oldChildren: oldChildren,\n        newChildren: newChildren,\n        dataIndex: dataIndex,\n        animatableModel: animatableModel,\n        group: el,\n        data: data\n      });\n    } else {\n      // better performance.\n      var index = 0;\n\n      for (; index < newChildren.length; index++) {\n        doCreateOrUpdate(el.childAt(index), dataIndex, newChildren[index], animatableModel, el, data);\n      }\n\n      for (; index < oldChildren.length; index++) {\n        oldChildren[index] && el.remove(oldChildren[index]);\n      }\n    }\n  }\n\n  group.add(el);\n  return el;\n}\n\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\n\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdate(child, context.dataIndex, childOption, context.animatableModel, context.group, context.data);\n}\n\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  child && context.group.remove(child);\n}\n\n/***/ }),\n/* 359 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.grid.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 360 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 361 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 362 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var axis = this['get' + dim + 'Axis']();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var method = 'dataTo' + dim;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis[method](val - halfSize) - axis[method](val + halfSize));\n\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n\n    return result;\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: zrUtil.bind(function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      }),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 363 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 364 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar graphicUtil = __webpack_require__(2);\n\nvar layoutUtil = __webpack_require__(6);\n\n// -------------\n// Preprocessor\n// -------------\necharts.registerPreprocessor(function (option) {\n  var graphicOption = option.graphic; // Convert\n  // {graphic: [{left: 10, type: 'circle'}, ...]}\n  // or\n  // {graphic: {left: 10, type: 'circle'}}\n  // to\n  // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n\n  if (zrUtil.isArray(graphicOption)) {\n    if (!graphicOption[0] || !graphicOption[0].elements) {\n      option.graphic = [{\n        elements: graphicOption\n      }];\n    } else {\n      // Only one graphic instance can be instantiated. (We dont\n      // want that too many views are created in echarts._viewMap)\n      option.graphic = [option.graphic[0]];\n    }\n  } else if (graphicOption && !graphicOption.elements) {\n    option.graphic = [{\n      elements: [graphicOption]\n    }];\n  }\n}); // ------\n// Model\n// ------\n\nvar GraphicModel = echarts.extendComponentModel({\n  type: 'graphic',\n  defaultOption: {\n    // Extra properties for each elements:\n    //\n    // left/right/top/bottom: (like 12, '22%', 'center', default undefined)\n    //      If left/rigth is set, shape.x/shape.cx/position will not be used.\n    //      If top/bottom is set, shape.y/shape.cy/position will not be used.\n    //      This mechanism is useful when you want to position a group/element\n    //      against the right side or the center of this container.\n    //\n    // width/height: (can only be pixel value, default 0)\n    //      Only be used to specify contianer(group) size, if needed. And\n    //      can not be percentage value (like '33%'). See the reason in the\n    //      layout algorithm below.\n    //\n    // bounding: (enum: 'all' (default) | 'raw')\n    //      Specify how to calculate boundingRect when locating.\n    //      'all': Get uioned and transformed boundingRect\n    //          from both itself and its descendants.\n    //          This mode simplies confining a group of elements in the bounding\n    //          of their ancester container (e.g., using 'right: 0').\n    //      'raw': Only use the boundingRect of itself and before transformed.\n    //          This mode is similar to css behavior, which is useful when you\n    //          want an element to be able to overflow its container. (Consider\n    //          a rotated circle needs to be located in a corner.)\n    // Note: elements is always behind its ancestors in this elements array.\n    elements: [],\n    parentId: null\n  },\n\n  /**\n   * Save el options for the sake of the performance (only update modified graphics).\n   * The order is the same as those in option. (ancesters -> descendants)\n   *\n   * @private\n   * @type {Array.<Object>}\n   */\n  _elOptionsToUpdate: null,\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    // Prevent default merge to elements\n    var elements = this.option.elements;\n    this.option.elements = null;\n    GraphicModel.superApply(this, 'mergeOption', arguments);\n    this.option.elements = elements;\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    var newList = (isInit ? thisOption : newOption).elements;\n    var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n    var flattenedList = [];\n\n    this._flatten(newList, flattenedList);\n\n    var mappingResult = modelUtil.mappingToExists(existList, flattenedList);\n    modelUtil.makeIdAndName(mappingResult); // Clear elOptionsToUpdate\n\n    var elOptionsToUpdate = this._elOptionsToUpdate = [];\n    zrUtil.each(mappingResult, function (resultItem, index) {\n      var newElOption = resultItem.option;\n\n      if (!newElOption) {\n        return;\n      }\n\n      elOptionsToUpdate.push(newElOption);\n      setKeyInfoToNewElOption(resultItem, newElOption);\n      mergeNewElOptionToExist(existList, index, newElOption);\n      setLayoutInfoToExist(existList[index], newElOption);\n    }, this); // Clean\n\n    for (var i = existList.length - 1; i >= 0; i--) {\n      if (existList[i] == null) {\n        existList.splice(i, 1);\n      } else {\n        // $action should be volatile, otherwise option gotten from\n        // `getOption` will contain unexpected $action.\n        delete existList[i].$action;\n      }\n    }\n  },\n\n  /**\n   * Convert\n   * [{\n   *  type: 'group',\n   *  id: 'xx',\n   *  children: [{type: 'circle'}, {type: 'polygon'}]\n   * }]\n   * to\n   * [\n   *  {type: 'group', id: 'xx'},\n   *  {type: 'circle', parentId: 'xx'},\n   *  {type: 'polygon', parentId: 'xx'}\n   * ]\n   *\n   * @private\n   * @param {Array.<Object>} optionList option list\n   * @param {Array.<Object>} result result of flatten\n   * @param {Object} parentOption parent option\n   */\n  _flatten: function (optionList, result, parentOption) {\n    zrUtil.each(optionList, function (option) {\n      if (!option) {\n        return;\n      }\n\n      if (parentOption) {\n        option.parentOption = parentOption;\n      }\n\n      result.push(option);\n      var children = option.children;\n\n      if (option.type === 'group' && children) {\n        this._flatten(children, result, option);\n      } // Deleting for JSON output, and for not affecting group creation.\n\n\n      delete option.children;\n    }, this);\n  },\n  // FIXME\n  // Pass to view using payload? setOption has a payload?\n  useElOptionsToUpdate: function () {\n    var els = this._elOptionsToUpdate; // Clear to avoid render duplicately when zooming.\n\n    this._elOptionsToUpdate = null;\n    return els;\n  }\n}); // -----\n// View\n// -----\n\necharts.extendComponentView({\n  type: 'graphic',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this._elMap = zrUtil.createHashMap();\n    /**\n     * @private\n     * @type {module:echarts/graphic/GraphicModel}\n     */\n\n    this._lastGraphicModel;\n  },\n\n  /**\n   * @override\n   */\n  render: function (graphicModel, ecModel, api) {\n    // Having leveraged between use cases and algorithm complexity, a very\n    // simple layout mechanism is used:\n    // The size(width/height) can be determined by itself or its parent (not\n    // implemented yet), but can not by its children. (Top-down travel)\n    // The location(x/y) can be determined by the bounding rect of itself\n    // (can including its descendants or not) and the size of its parent.\n    // (Bottom-up travel)\n    // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n    // view will be reused.\n    if (graphicModel !== this._lastGraphicModel) {\n      this._clear();\n    }\n\n    this._lastGraphicModel = graphicModel;\n\n    this._updateElements(graphicModel, api);\n\n    this._relocate(graphicModel, api);\n  },\n\n  /**\n   * Update graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   * @param {module:echarts/ExtensionAPI} api extension API\n   */\n  _updateElements: function (graphicModel, api) {\n    var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n\n    if (!elOptionsToUpdate) {\n      return;\n    }\n\n    var elMap = this._elMap;\n    var rootGroup = this.group; // Top-down tranverse to assign graphic settings to each elements.\n\n    zrUtil.each(elOptionsToUpdate, function (elOption) {\n      var $action = elOption.$action;\n      var id = elOption.id;\n      var existEl = elMap.get(id);\n      var parentId = elOption.parentId;\n      var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n\n      if (elOption.type === 'text') {\n        var elOptionStyle = elOption.style; // In top/bottom mode, textVerticalAlign should not be used, which cause\n        // inaccurately locating.\n\n        if (elOption.hv && elOption.hv[1]) {\n          elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = null;\n        } // Compatible with previous setting: both support fill and textFill,\n        // stroke and textStroke.\n\n\n        !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n        !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n      } // Remove unnecessary props to avoid potential problems.\n\n\n      var elOptionCleaned = getCleanedElOption(elOption); // For simple, do not support parent change, otherwise reorder is needed.\n\n      if (!$action || $action === 'merge') {\n        existEl ? existEl.attr(elOptionCleaned) : createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'replace') {\n        removeEl(existEl, elMap);\n        createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'remove') {\n        removeEl(existEl, elMap);\n      }\n\n      var el = elMap.get(id);\n\n      if (el) {\n        el.__ecGraphicWidth = elOption.width;\n        el.__ecGraphicHeight = elOption.height;\n      }\n    });\n  },\n\n  /**\n   * Locate graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   * @param {module:echarts/ExtensionAPI} api extension API\n   */\n  _relocate: function (graphicModel, api) {\n    var elOptions = graphicModel.option.elements;\n    var rootGroup = this.group;\n    var elMap = this._elMap; // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n\n    for (var i = elOptions.length - 1; i >= 0; i--) {\n      var elOption = elOptions[i];\n      var el = elMap.get(elOption.id);\n\n      if (!el) {\n        continue;\n      }\n\n      var parentEl = el.parent;\n      var containerInfo = parentEl === rootGroup ? {\n        width: api.getWidth(),\n        height: api.getHeight()\n      } : {\n        // Like 'position:absolut' in css, default 0.\n        width: parentEl.__ecGraphicWidth || 0,\n        height: parentEl.__ecGraphicHeight || 0\n      };\n      layoutUtil.positionElement(el, elOption, containerInfo, null, {\n        hv: elOption.hv,\n        boundingMode: elOption.bounding\n      });\n    }\n  },\n\n  /**\n   * Clear all elements.\n   *\n   * @private\n   */\n  _clear: function () {\n    var elMap = this._elMap;\n    elMap.each(function (el) {\n      removeEl(el, elMap);\n    });\n    this._elMap = zrUtil.createHashMap();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clear();\n  }\n});\n\nfunction createEl(id, targetElParent, elOption, elMap) {\n  var graphicType = elOption.type;\n  var Clz = graphicUtil[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n  var el = new Clz(elOption);\n  targetElParent.add(el);\n  elMap.set(id, el);\n  el.__ecGraphicId = id;\n}\n\nfunction removeEl(existEl, elMap) {\n  var existElParent = existEl && existEl.parent;\n\n  if (existElParent) {\n    existEl.type === 'group' && existEl.traverse(function (el) {\n      removeEl(el, elMap);\n    });\n    elMap.removeKey(existEl.__ecGraphicId);\n    existElParent.remove(existEl);\n  }\n} // Remove unnecessary props to avoid potential problems.\n\n\nfunction getCleanedElOption(elOption) {\n  elOption = zrUtil.extend({}, elOption);\n  zrUtil.each(['id', 'parentId', '$action', 'hv', 'bounding'].concat(layoutUtil.LOCATION_PARAMS), function (name) {\n    delete elOption[name];\n  });\n  return elOption;\n}\n\nfunction isSetLoc(obj, props) {\n  var isSet;\n  zrUtil.each(props, function (prop) {\n    obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n  });\n  return isSet;\n}\n\nfunction setKeyInfoToNewElOption(resultItem, newElOption) {\n  var existElOption = resultItem.exist; // Set id and type after id assigned.\n\n  newElOption.id = resultItem.keyInfo.id;\n  !newElOption.type && existElOption && (newElOption.type = existElOption.type); // Set parent id if not specified\n\n  if (newElOption.parentId == null) {\n    var newElParentOption = newElOption.parentOption;\n\n    if (newElParentOption) {\n      newElOption.parentId = newElParentOption.id;\n    } else if (existElOption) {\n      newElOption.parentId = existElOption.parentId;\n    }\n  } // Clear\n\n\n  newElOption.parentOption = null;\n}\n\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n  // Update existing options, for `getOption` feature.\n  var newElOptCopy = zrUtil.extend({}, newElOption);\n  var existElOption = existList[index];\n  var $action = newElOption.$action || 'merge';\n\n  if ($action === 'merge') {\n    if (existElOption) {\n      // We can ensure that newElOptCopy and existElOption are not\n      // the same object, so `merge` will not change newElOptCopy.\n      zrUtil.merge(existElOption, newElOptCopy, true); // Rigid body, use ignoreSize.\n\n      layoutUtil.mergeLayoutParam(existElOption, newElOptCopy, {\n        ignoreSize: true\n      }); // Will be used in render.\n\n      layoutUtil.copyLayoutParams(newElOption, existElOption);\n    } else {\n      existList[index] = newElOptCopy;\n    }\n  } else if ($action === 'replace') {\n    existList[index] = newElOptCopy;\n  } else if ($action === 'remove') {\n    // null will be cleaned later.\n    existElOption && (existList[index] = null);\n  }\n}\n\nfunction setLayoutInfoToExist(existItem, newElOption) {\n  if (!existItem) {\n    return;\n  }\n\n  existItem.hv = newElOption.hv = [// Rigid body, dont care `width`.\n  isSetLoc(newElOption, ['left', 'right']), // Rigid body, dont care `height`.\n  isSetLoc(newElOption, ['top', 'bottom'])]; // Give default group size. Otherwise layout error may occur.\n\n  if (existItem.type === 'group') {\n    existItem.width == null && (existItem.width = newElOption.width = 0);\n    existItem.height == null && (existItem.height = newElOption.height = 0);\n  }\n}\n\n/***/ }),\n/* 365 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(45);\n\n__webpack_require__(145);\n\n__webpack_require__(48);\n\n/***/ }),\n/* 366 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(367);\n\n__webpack_require__(370);\n\n__webpack_require__(371);\n\n__webpack_require__(372);\n\n/***/ }),\n/* 367 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(146);\n\n__webpack_require__(368);\n\n__webpack_require__(147);\n\nvar legendFilter = __webpack_require__(369);\n\nvar Component = __webpack_require__(13);\n\n// Do not contain scrollable legend, for sake of file size.\n// Series Filter\necharts.registerProcessor(legendFilter);\nComponent.registerSubTypeDefaulter('legend', function () {\n  // Default 'plain' when no type specified.\n  return 'plain';\n});\n\n/***/ }),\n/* 368 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    zrUtil.each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\n\n\necharts.registerAction('legendToggleSelect', 'legendselectchanged', zrUtil.curry(legendSelectActionHandler, 'toggleSelected'));\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendSelect', 'legendselected', zrUtil.curry(legendSelectActionHandler, 'select'));\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendUnSelect', 'legendunselected', zrUtil.curry(legendSelectActionHandler, 'unSelect'));\n\n/***/ }),\n/* 369 */\n/***/ (function(module, exports) {\n\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 370 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar LegendModel = __webpack_require__(146);\n\nvar _layout = __webpack_require__(6);\n\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar getLayoutParams = _layout.getLayoutParams;\nvar ScrollableLegendModel = LegendModel.extend({\n  type: 'legend.scroll',\n\n  /**\n   * @param {number} scrollDataIndex\n   */\n  setScrollDataIndex: function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  },\n  defaultOption: {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    // 'start' or 'end'\n    pageFormatter: '{current}/{total}',\n    // If null/undefined, do not show page.\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    // Can be [10, 3], which represents [width, height]\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    ScrollableLegendModel.superCall(this, 'init', option, parentModel, ecModel, extraOpt);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    ScrollableLegendModel.superCall(this, 'mergeOption', option, extraOpt);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  }\n}); // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = ScrollableLegendModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 371 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar layoutUtil = __webpack_require__(6);\n\nvar LegendView = __webpack_require__(147);\n\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = LegendView.extend({\n  type: 'legend.scroll',\n  newlineDisabled: true,\n  init: function () {\n    ScrollableLegendView.superCall(this, 'init');\n    /**\n     * @private\n     * @type {number} For `scroll`.\n     */\n\n    this._currentIndex = 0;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n\n    this.group.add(this._controllerGroup = new Group());\n    /**\n     *\n     * @private\n     */\n\n    this._showController;\n  },\n\n  /**\n   * @override\n   */\n  resetInner: function () {\n    ScrollableLegendView.superCall(this, 'resetInner');\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  },\n\n  /**\n   * @override\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api) {\n    var me = this; // Render content items.\n\n    ScrollableLegendView.superCall(this, 'renderInner', itemAlign, legendModel, ecModel, api);\n    var controllerGroup = this._controllerGroup;\n    var pageIconSize = legendModel.get('pageIconSize', true);\n\n    if (!zrUtil.isArray(pageIconSize)) {\n      pageIconSize = [pageIconSize, pageIconSize];\n    }\n\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        textFill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        textVerticalAlign: 'middle',\n        textAlign: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(me._pageGo, me, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSize[0] / 2,\n        y: -pageIconSize[1] / 2,\n        width: pageIconSize[0],\n        height: pageIconSize[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  },\n\n  /**\n   * @override\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx]; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n\n    contentPos[orientIdx] = contentGroup.position[orientIdx]; // Layout container group based on 0.\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.attr('position', contentPos);\n    containerGroup.attr('position', containerPos);\n    controllerGroup.attr('position', controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = this.group.getBoundingRect();\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as place holders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      position: pageInfo.contentPosition\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird efffect.\n    showController ? legendModel : false);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  },\n  _pageGo: function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  },\n  _updatePageInfoView: function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var canJump = pageInfo[name + 'DataIndex'] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current).replace('{total}', total) : pageFormatter({\n      current: current,\n      total: total\n    }));\n  },\n\n  /**\n   * @param {module:echarts/model/Model} legendModel\n   * @return {Object} {\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no next page.\n   *  pageNextDataIndex: number, null when no previous page.\n   * }\n   */\n  _getPageInfo: function (legendModel) {\n    // Align left or top by the current dataIndex.\n    var currDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var contentRect = contentGroup.getBoundingRect();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var xy = XY[orientIdx];\n    var contentPos = contentGroup.position.slice();\n    var pageIndex;\n    var pagePrevDataIndex;\n    var pageNextDataIndex;\n    var targetItemGroup;\n\n    if (this._showController) {\n      contentGroup.eachChild(function (child) {\n        if (child.__legendDataIndex === currDataIndex) {\n          targetItemGroup = child;\n        }\n      });\n    } else {\n      targetItemGroup = contentGroup.childAt(0);\n    }\n\n    var pageCount = containerRectSize ? Math.ceil(contentRect[wh] / containerRectSize) : 0;\n\n    if (targetItemGroup) {\n      var itemRect = targetItemGroup.getBoundingRect();\n      var itemLoc = targetItemGroup.position[orientIdx] + itemRect[xy];\n      contentPos[orientIdx] = -itemLoc - contentRect[xy];\n      pageIndex = Math.floor(pageCount * (itemLoc + itemRect[xy] + containerRectSize / 2) / contentRect[wh]);\n      pageIndex = contentRect[wh] && pageCount ? Math.max(0, Math.min(pageCount - 1, pageIndex)) : -1;\n      var winRect = {\n        x: 0,\n        y: 0\n      };\n      winRect[wh] = containerRectSize;\n      winRect[hw] = contentRect[hw];\n      winRect[xy] = -contentPos[orientIdx] - contentRect[xy];\n      var startIdx;\n      var children = contentGroup.children();\n      contentGroup.eachChild(function (child, index) {\n        var itemRect = getItemRect(child);\n\n        if (itemRect.intersect(winRect)) {\n          startIdx == null && (startIdx = index); // It is user-friendly that the last item shown in the\n          // current window is shown at the begining of next window.\n\n          pageNextDataIndex = child.__legendDataIndex;\n        } // If the last item is shown entirely, no next page.\n\n\n        if (index === children.length - 1 && itemRect[xy] + itemRect[wh] <= winRect[xy] + winRect[wh]) {\n          pageNextDataIndex = null;\n        }\n      }); // Always align based on the left/top most item, so the left/top most\n      // item in the previous window is needed to be found here.\n\n      if (startIdx != null) {\n        var startItem = children[startIdx];\n        var startRect = getItemRect(startItem);\n        winRect[xy] = startRect[xy] + startRect[wh] - winRect[wh]; // If the first item is shown entirely, no previous page.\n\n        if (startIdx <= 0 && startRect[xy] >= winRect[xy]) {\n          pagePrevDataIndex = null;\n        } else {\n          while (startIdx > 0 && getItemRect(children[startIdx - 1]).intersect(winRect)) {\n            startIdx--;\n          }\n\n          pagePrevDataIndex = children[startIdx].__legendDataIndex;\n        }\n      }\n    }\n\n    return {\n      contentPosition: contentPos,\n      pageIndex: pageIndex,\n      pageCount: pageCount,\n      pagePrevDataIndex: pagePrevDataIndex,\n      pageNextDataIndex: pageNextDataIndex\n    };\n\n    function getItemRect(el) {\n      var itemRect = el.getBoundingRect().clone();\n      itemRect[xy] += el.position[orientIdx];\n      return itemRect;\n    }\n  }\n});\nvar _default = ScrollableLegendView;\nmodule.exports = _default;\n\n/***/ }),\n/* 372 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n/**\n * @event legendScroll\n * @type {Object}\n * @property {string} type 'legendScroll'\n * @property {string} scrollDataIndex\n */\necharts.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n  var scrollDataIndex = payload.scrollDataIndex;\n  scrollDataIndex != null && ecModel.eachComponent({\n    mainType: 'legend',\n    subType: 'scroll',\n    query: payload\n  }, function (legendModel) {\n    legendModel.setScrollDataIndex(scrollDataIndex);\n  });\n});\n\n/***/ }),\n/* 373 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(48);\n\n__webpack_require__(374);\n\n__webpack_require__(375);\n\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});\n\n/***/ }),\n/* 374 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 8,\n    show: true,\n    // tooltip\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    //  {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    //  content  viewRect  false \n    confine: false,\n    // {string}Template  {Function}\n    // formatter: null\n    showDelay: 0,\n    // ms\n    hideDelay: 100,\n    // s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 0.7\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // \n    borderColor: '#333',\n    // px4\n    borderRadius: 4,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // \n    axisPointer: {\n      // \n      // 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type  line  tooltip line \n      //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n      //  'auto' cateogry  x \n      //  angle \n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 375 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(11);\n\nvar TooltipContent = __webpack_require__(376);\n\nvar formatUtil = __webpack_require__(8);\n\nvar numberUtil = __webpack_require__(3);\n\nvar graphic = __webpack_require__(2);\n\nvar findPointFromSeries = __webpack_require__(143);\n\nvar layoutUtil = __webpack_require__(6);\n\nvar Model = __webpack_require__(10);\n\nvar globalListener = __webpack_require__(144);\n\nvar axisHelper = __webpack_require__(17);\n\nvar axisPointerViewHelper = __webpack_require__(66);\n\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipContent = new TooltipContent(api.getDom(), api);\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update();\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        event: {},\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el,\n          event: {}\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target,\n        event: {}\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easyer to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            seriesDefaultHTML.push(series.formatTooltip(dataIndex, true));\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) shold be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n        singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + '<br />' : '') + seriesDefaultHTML.join('<br />'));\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join('<br /><br />');\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var defaultHtml = dataModel.formatTooltip(dataIndex, false, dataType);\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on cooridinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content.el, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content.el, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.hide();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (tooltipOpt instanceof Model) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, el, viewWidth, viewHeight, gapH, gapV) {\n  var size = getOuterSize(el);\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, el, viewWidth, viewHeight) {\n  var size = getOuterSize(el);\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction getOuterSize(el) {\n  var width = el.clientWidth;\n  var height = el.clientHeight; // Consider browser compatibility.\n  // IE8 does not support getComputedStyle.\n\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    var stl = document.defaultView.getComputedStyle(el);\n\n    if (stl) {\n      width += parseInt(stl.paddingLeft, 10) + parseInt(stl.paddingRight, 10) + parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n      height += parseInt(stl.paddingTop, 10) + parseInt(stl.paddingBottom, 10) + parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n    }\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 376 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar zrColor = __webpack_require__(22);\n\nvar eventUtil = __webpack_require__(23);\n\nvar env = __webpack_require__(11);\n\nvar formatUtil = __webpack_require__(8);\n\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @constructor\n */\n\n\nfunction TooltipContent(container, api) {\n  var el = document.createElement('div');\n  var zr = this._zr = api.getZr();\n  this.el = el;\n  this._x = api.getWidth() / 2;\n  this._y = api.getHeight() / 2;\n  container.appendChild(el);\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      eventUtil.normalizeEvent(container, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    } // Hide the tooltip\n    // PENDING\n    // this.hide();\n\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    + ';left:' + this._x + 'px;top:' + this._y + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (x, y) {\n    // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n    var zr = this._zr;\n    var viewportRootOffset;\n\n    if (zr && zr.painter && (viewportRootOffset = zr.painter.getViewportRootOffset())) {\n      x += viewportRootOffset.offsetLeft;\n      y += viewportRootOffset.offsetTop;\n    }\n\n    var style = this.el.style;\n    style.left = x + 'px';\n    style.top = y + 'px';\n    this._x = x;\n    this._y = y;\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;\n\n/***/ }),\n/* 377 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar barPolar = __webpack_require__(378);\n\n__webpack_require__(84);\n\n__webpack_require__(384);\n\n__webpack_require__(386);\n\n__webpack_require__(48);\n\n__webpack_require__(388);\n\n// For reducing size of echarts.min, barLayoutPolar is required by polar.\necharts.registerLayout(zrUtil.curry(barPolar, 'bar')); // Polar view\n\necharts.extendComponentView({\n  type: 'polar'\n});\n\n/***/ }),\n/* 378 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _number = __webpack_require__(3);\n\nvar parsePercent = _number.parsePercent;\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim;\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var lastStackCoords = {};\n  var lastStackCoordsOrigin = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var angleAxis = polar.getAngleAxis();\n    var baseAxis = polar.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var center = seriesModel.get('center') || ['50%', '50%'];\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    var valueAxisStart = valueAxis.getExtent()[0];\n    var valueMax = valueAxis.model.get('max');\n    var valueMin = valueAxis.model.get('min');\n    var coordDims = [seriesModel.coordDimToDataDim('radius')[0], seriesModel.coordDimToDataDim('angle')[0]];\n    var coords = data.mapArray(coordDims, function (radius, angle) {\n      return polar.dataToPoint([radius, angle]);\n    }, true);\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n    data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      if (!lastStackCoords[stackId][idx]) {\n        lastStackCoords[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n        lastStackCoordsOrigin[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n      }\n\n      var sign = value >= 0 ? 'p' : 'n';\n      var coord = polar.pointToCoord(coords[idx]);\n      var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n      var r0;\n      var r;\n      var startAngle;\n      var endAngle;\n\n      if (valueAxis.dim === 'radius') {\n        // radial sector\n        r0 = lastCoordOrigin;\n        r = coord[0];\n        startAngle = (-coord[1] + columnOffset) * Math.PI / 180;\n        endAngle = startAngle + columnWidth * Math.PI / 180;\n\n        if (Math.abs(r) < barMinHeight) {\n          r = r0 + (r < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoordsOrigin[stackId][idx][sign] = r;\n      } else {\n        // tangential sector\n        r0 = coord[0] + columnOffset;\n        r = r0 + columnWidth; // clamp data if min or max is defined for valueAxis\n\n        if (valueMax != null) {\n          value = Math.min(value, valueMax);\n        }\n\n        if (valueMin != null) {\n          value = Math.max(value, valueMin);\n        }\n\n        var angle = angleAxis.dataToAngle(value);\n\n        if (Math.abs(angle - lastCoordOrigin) < barMinAngle) {\n          angle = lastCoordOrigin - (value < 0 ? -1 : 1) * barMinAngle;\n        }\n\n        startAngle = -lastCoordOrigin * Math.PI / 180;\n        endAngle = -angle * Math.PI / 180; // if the previous stack is at the end of the ring,\n        // add a round to differentiate it from origin\n\n        var extent = angleAxis.getExtent();\n        var stackCoord = angle;\n\n        if (stackCoord === extent[0] && value > 0) {\n          stackCoord = extent[1];\n        } else if (stackCoord === extent[1] && value < 0) {\n          stackCoord = extent[0];\n        }\n\n        lastStackCoordsOrigin[stackId][idx][sign] = stackCoord;\n      }\n\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: endAngle\n      });\n    }, true);\n  }, this);\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\n\n\nfunction calRadialBar(barSeries, api) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[getAxisKey(baseAxis)] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[getAxisKey(baseAxis)] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n\nvar _default = barLayoutPolar;\nmodule.exports = _default;\n\n/***/ }),\n/* 379 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar RadiusAxis = __webpack_require__(380);\n\nvar AngleAxis = __webpack_require__(381);\n\n/**\n * @module echarts/coord/polar/Polar\n */\n\n/**\n * @alias {module:echarts/coord/polar/Polar}\n * @constructor\n * @param {string} name\n */\nvar Polar = function (name) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * x of polar center\n   * @type {number}\n   */\n\n  this.cx = 0;\n  /**\n   * y of polar center\n   * @type {number}\n   */\n\n  this.cy = 0;\n  /**\n   * @type {module:echarts/coord/polar/RadiusAxis}\n   * @private\n   */\n\n  this._radiusAxis = new RadiusAxis();\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis}\n   * @private\n   */\n\n  this._angleAxis = new AngleAxis();\n  this._radiusAxis.polar = this._angleAxis.polar = this;\n};\n\nPolar.prototype = {\n  type: 'polar',\n  axisPointerEnabled: true,\n  constructor: Polar,\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['radius', 'angle'],\n\n  /**\n   * @type {module:echarts/coord/PolarModel}\n   */\n  model: null,\n\n  /**\n   * If contain coord\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  },\n\n  /**\n   * @param {string} dim\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxis: function (dim) {\n    return this['_' + dim + 'Axis'];\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._radiusAxis, this._angleAxis];\n  },\n\n  /**\n   * Get axes by type of scale\n   * @param {string} scaleType\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxesByScale: function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/AngleAxis}\n   */\n  getAngleAxis: function () {\n    return this._angleAxis;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/RadiusAxis}\n   */\n  getRadiusAxis: function () {\n    return this._radiusAxis;\n  },\n\n  /**\n   * @param {module:echarts/coord/polar/Axis}\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getOtherAxis: function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  },\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  },\n\n  /**\n   * @param {string} [dim] 'radius' or 'angle' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  },\n\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   * @param {Array.<number>} data\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, clamp) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)]);\n  },\n\n  /**\n   * Convert a (x, y) point to data\n   * @param {Array.<number>} point\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, clamp) {\n    var coord = this.pointToCoord(point);\n    return [this._radiusAxis.radiusToData(coord[0], clamp), this._angleAxis.angleToData(coord[1], clamp)];\n  },\n\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToCoord: function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]); // Fix fixed extent in polarCreator\n    // FIXME\n\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180; // move to angleExtent\n\n    var dir = radian < minAngle ? 1 : -1;\n\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n\n    return [radius, radian];\n  },\n\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   * @param {Array.<number>} coord\n   * @return {Array.<number>}\n   */\n  coordToPoint: function (coord) {\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    var x = Math.cos(radian) * radius + this.cx; // Inverse the y\n\n    var y = -Math.sin(radian) * radius + this.cy;\n    return [x, y];\n  }\n};\nvar _default = Polar;\nmodule.exports = _default;\n\n/***/ }),\n/* 380 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\nfunction RadiusAxis(scale, radiusExtent) {\n  Axis.call(this, 'radius', scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nRadiusAxis.prototype = {\n  constructor: RadiusAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToRadius: Axis.prototype.dataToCoord,\n  radiusToData: Axis.prototype.coordToData\n};\nzrUtil.inherits(RadiusAxis, Axis);\nvar _default = RadiusAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 381 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\nfunction AngleAxis(scale, angleExtent) {\n  angleExtent = angleExtent || [0, 360];\n  Axis.call(this, 'angle', scale, angleExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nAngleAxis.prototype = {\n  constructor: AngleAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToAngle: Axis.prototype.dataToCoord,\n  angleToData: Axis.prototype.coordToData\n};\nzrUtil.inherits(AngleAxis, Axis);\nvar _default = AngleAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 382 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(383);\n\nvar _default = echarts.extendComponentModel({\n  type: 'polar',\n  dependencies: ['polarAxis', 'angleAxis'],\n\n  /**\n   * @type {module:echarts/coord/polar/Polar}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @param {string} axisType\n   * @return {module:echarts/coord/polar/AxisModel}\n   */\n  findAxisModel: function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 383 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar axisModelCreator = __webpack_require__(60);\n\nvar axisModelCommonMixin = __webpack_require__(39);\n\nvar PolarAxisModel = ComponentModel.extend({\n  type: 'polarAxis',\n\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'polar',\n      index: this.option.polarIndex,\n      id: this.option.polarId\n    })[0];\n  }\n});\nzrUtil.merge(PolarAxisModel.prototype, axisModelCommonMixin);\nvar polarAxisDefaultExtendedOption = {\n  angle: {\n    // polarIndex: 0,\n    // polarId: '',\n    startAngle: 90,\n    clockwise: true,\n    splitNumber: 12,\n    axisLabel: {\n      rotate: false\n    }\n  },\n  radius: {\n    // polarIndex: 0,\n    // polarId: '',\n    splitNumber: 5\n  }\n};\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('angle', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.angle);\naxisModelCreator('radius', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.radius);\n\n/***/ }),\n/* 384 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(84);\n\n__webpack_require__(385);\n\n/***/ }),\n/* 385 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar Model = __webpack_require__(10);\n\nvar AxisView = __webpack_require__(34);\n\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'splitLine', 'splitArea'];\n\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\n\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n}\n\nvar _default = AxisView.extend({\n  type: 'angleAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords();\n\n    if (angleAxis.type !== 'category') {\n      // Remove the last tick which will overlap the first tick\n      ticksAngles.pop();\n    }\n\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get(name + '.show') && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        this['_' + name](angleAxisModel, polar, ticksAngles, radiusExtent);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _axisLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel('axisLine.lineStyle');\n    var circle = new graphic.Circle({\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: radiusExtent[getRadiusIdx(polar)]\n      },\n      style: lineStyleModel.getLineStyle(),\n      z2: 1,\n      silent: true\n    });\n    circle.style.fill = null;\n    this.group.add(circle);\n  },\n\n  /**\n   * @private\n   */\n  _axisTick: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngle) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngle)\n      });\n    });\n    this.group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get('axisLine.lineStyle.color')\n      })\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _axisLabel: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var axis = angleAxisModel.axis;\n    var categoryData = angleAxisModel.get('data');\n    var labelModel = angleAxisModel.getModel('axisLabel');\n    var labels = angleAxisModel.getFormattedLabels();\n    var labelMargin = labelModel.get('margin');\n    var labelsAngles = axis.getLabelsCoords(); // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelsAngles[i]]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n\n      if (categoryData && categoryData[i] && categoryData[i].textStyle) {\n        labelModel = new Model(categoryData[i].textStyle, labelModel, labelModel.ecModel);\n      }\n\n      var textEl = new graphic.Text({\n        silent: true\n      });\n      this.group.add(textEl);\n      graphic.setTextStyle(textEl.style, labelModel, {\n        x: p[0],\n        y: p[1],\n        textFill: labelModel.getTextColor() || angleAxisModel.get('axisLine.lineStyle.color'),\n        text: labels[i],\n        textAlign: labelTextAlign,\n        textVerticalAlign: labelTextVerticalAlign\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i])\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0] * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n\n    for (var i = 1; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -ticksAngles[i] * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -ticksAngles[i] * RADIAN;\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 386 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(84);\n\n__webpack_require__(387);\n\n/***/ }),\n/* 387 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar AxisView = __webpack_require__(34);\n\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitLine', 'splitArea'];\n\nvar _default = AxisView.extend({\n  type: 'radiusAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (radiusAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    this.group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get(name + '.show') && !radiusAxis.scale.isBlank()) {\n        this['_' + name](radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Circle({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: ticksCoords[i]\n        },\n        silent: true\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i],\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i];\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n/**\n * @inner\n */\n\n\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 388 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar formatUtil = __webpack_require__(8);\n\nvar BaseAxisPointer = __webpack_require__(83);\n\nvar graphic = __webpack_require__(2);\n\nvar viewHelper = __webpack_require__(66);\n\nvar matrix = __webpack_require__(16);\n\nvar AxisBuilder = __webpack_require__(33);\n\nvar AxisView = __webpack_require__(34);\n\nvar PolarAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue;\n    coordValue = axis['dataTo' + formatUtil.capitalFirst(axis.dim)](value);\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var labelMargin = axisPointerModel.get('label.margin');\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  } // Do not support handle, utill any user requires it.\n\n});\n\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent, elStyle) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent, elStyle) {\n    var bandWidth = axis.getBandWidth();\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1], // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nAxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\nvar _default = PolarAxisPointer;\nmodule.exports = _default;\n\n/***/ }),\n/* 389 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\n__webpack_require__(390);\n\n__webpack_require__(63);\n\n__webpack_require__(391);\n\n__webpack_require__(126);\n\nfunction makeAction(method, actionInfo) {\n  actionInfo.update = 'updateView';\n  echarts.registerAction(actionInfo, function (payload, ecModel) {\n    var selected = {};\n    ecModel.eachComponent({\n      mainType: 'geo',\n      query: payload\n    }, function (geoModel) {\n      geoModel[method](payload.name);\n      var geo = geoModel.coordinateSystem;\n      zrUtil.each(geo.regions, function (region) {\n        selected[region.name] = geoModel.isSelected(region.name) || false;\n      });\n    });\n    return {\n      selected: selected,\n      name: payload.name\n    };\n  });\n}\n\nmakeAction('toggleSelected', {\n  type: 'geoToggleSelect',\n  event: 'geoselectchanged'\n});\nmakeAction('select', {\n  type: 'geoSelect',\n  event: 'geoselected'\n});\nmakeAction('unSelect', {\n  type: 'geoUnSelect',\n  event: 'geounselected'\n});\n\n/***/ }),\n/* 390 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar modelUtil = __webpack_require__(5);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar Model = __webpack_require__(10);\n\nvar selectableMixin = __webpack_require__(77);\n\nvar geoCreator = __webpack_require__(63);\n\nvar GeoModel = ComponentModel.extend({\n  type: 'geo',\n\n  /**\n   * @type {module:echarts/coord/geo/Geo}\n   */\n  coordinateSystem: null,\n  layoutMode: 'box',\n  init: function (option) {\n    ComponentModel.prototype.init.apply(this, arguments); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option.label, ['show']);\n  },\n  optionUpdated: function () {\n    var option = this.option;\n    var self = this;\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap);\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\n      if (regionOpt.name) {\n        optionModelMap.set(regionOpt.name, new Model(regionOpt, self));\n      }\n\n      return optionModelMap;\n    }, zrUtil.createHashMap());\n    this.updateSelectedMap(option.regions);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    show: true,\n    left: 'center',\n    top: 'center',\n    // width:,\n    // height:,\n    // right\n    // bottom\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    aspectScale: 0.75,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    silent: false,\n    // Map type\n    map: '',\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ]\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    // selectedMode: false\n    label: {\n      normal: {\n        show: false,\n        color: '#000'\n      },\n      emphasis: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      }\n    },\n    itemStyle: {\n      normal: {\n        // color: ,\n        borderWidth: 0.5,\n        borderColor: '#444',\n        color: '#eee'\n      },\n      emphasis: {\n        // \n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    regions: []\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (name) {\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n  },\n\n  /**\n   * Format label\n   * @param {string} name Region name\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @return {string}\n   */\n  getFormattedLabel: function (name, status) {\n    var regionModel = this.getRegionModel(name);\n    var formatter = regionModel.get('label.' + status + '.formatter');\n    var params = {\n      name: name\n    };\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      return formatter.replace('{a}', name != null ? name : '');\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  }\n});\nzrUtil.mixin(GeoModel, selectableMixin);\nvar _default = GeoModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 391 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar MapDraw = __webpack_require__(123);\n\nvar echarts = __webpack_require__(1);\n\nvar _default = echarts.extendComponentView({\n  type: 'geo',\n  init: function (ecModel, api) {\n    var mapDraw = new MapDraw(api, true);\n    this._mapDraw = mapDraw;\n    this.group.add(mapDraw.group);\n  },\n  render: function (geoModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'geoToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var mapDraw = this._mapDraw;\n\n    if (geoModel.get('show')) {\n      mapDraw.draw(geoModel, ecModel, api, this, payload);\n    } else {\n      this._mapDraw.group.removeAll();\n    }\n\n    this.group.silent = geoModel.get('silent');\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 392 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar preprocessor = __webpack_require__(393);\n\n__webpack_require__(394);\n\n__webpack_require__(396);\n\n__webpack_require__(397);\n\n__webpack_require__(398);\n\n__webpack_require__(399);\n\n/**\n * Brush component entry\n */\necharts.registerPreprocessor(preprocessor);\n\n/***/ }),\n/* 393 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\n\nfunction _default(option, isNew) {\n  var brushComponents = option && option.brush;\n\n  if (!zrUtil.isArray(brushComponents)) {\n    brushComponents = brushComponents ? [brushComponents] : [];\n  }\n\n  if (!brushComponents.length) {\n    return;\n  }\n\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\n\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 394 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar visualSolution = __webpack_require__(67);\n\nvar selector = __webpack_require__(395);\n\nvar throttleUtil = __webpack_require__(31);\n\nvar BrushTargetManager = __webpack_require__(149);\n\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\nvar PRIORITY_BRUSH = echarts.PRIORITY.VISUAL.BRUSH;\n/**\n * Layout for visual, the priority higher than other layout, and before brush visual.\n */\n\necharts.registerLayout(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n});\n/**\n * Register the visual encoding if this modules required.\n */\n\necharts.registerVisual(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    }; // Every brush component exists in event params, convenient\n    // for user to find by index.\n\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = 0;\n\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    } // Add boundingRect and selectors to range.\n\n\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      return bindSelector(zrUtil.defaults({\n        boundingRect: boundingRectBuilders[area.brushType](area)\n      }, area));\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || linkedSeriesMap[seriesIndex];\n    } // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n\n\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n     *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n     *   !brushed                                                                  nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex, rangeInfoList) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists |= coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n\n      if (!selectorsByBrushType || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n\n      zrUtil.each(areas, function (area) {\n        selectorsByBrushType[area.brushType] && brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel) && rangeInfoList.push(area);\n        hasBrushExists |= brushed(rangeInfoList);\n      });\n\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data = seriesModel.getData();\n        data.each(function (dataIndex) {\n          if (checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    } // Step B\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      }; // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      }; // If no supported brush or no brush, all visuals are in original state.\n\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n});\n\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n\n  var zr = api.getZr();\n\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\n\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\n\nfunction checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n\n    if (selectorsByBrushType[area.brushType](dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\n\nfunction getSelectorsByBrushType(seriesModel) {\n  var brushSelector = seriesModel.brushSelector;\n\n  if (zrUtil.isString(brushSelector)) {\n    var sels = [];\n    zrUtil.each(selector, function (selectorsByElementType, brushType) {\n      sels[brushType] = function (dataIndex, data, selectors, area) {\n        var itemLayout = data.getItemLayout(dataIndex);\n        return selectorsByElementType[brushSelector](itemLayout, selectors, area);\n      };\n    });\n    return sels;\n  } else if (zrUtil.isFunction(brushSelector)) {\n    var bSelector = {};\n    zrUtil.each(selector, function (sel, brushType) {\n      bSelector[brushType] = brushSelector;\n    });\n    return bSelector;\n  }\n\n  return brushSelector;\n}\n\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\n\nfunction bindSelector(area) {\n  var selectors = area.selectors = {};\n  zrUtil.each(selector[area.brushType], function (selFn, elType) {\n    // Do not use function binding or curry for performance.\n    selectors[elType] = function (itemLayout) {\n      return selFn(itemLayout, selectors, area);\n    };\n  });\n  return area;\n}\n\nvar boundingRectBuilders = {\n  lineX: zrUtil.noop,\n  lineY: zrUtil.noop,\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\n\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}\n\n/***/ }),\n/* 395 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar polygonContain = __webpack_require__(113);\n\nvar BoundingRect = __webpack_require__(9);\n\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || lineIntersectPolygon(x, y, x + width, y, points) || lineIntersectPolygon(x, y, x, y + height, points) || lineIntersectPolygon(x + width, y, x + width, y + height, points) || lineIntersectPolygon(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nfunction lineIntersectPolygon(lx, ly, l2x, l2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineIntersect(lx, ly, l2x, l2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n} // Code from <http://blog.csdn.net/rickliuxiao/article/details/6259322> with some fix.\n// See <https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection>\n\n\nfunction lineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  var delta = determinant(a2x - a1x, b1x - b2x, a2y - a1y, b1y - b2y);\n\n  if (nearZero(delta)) {\n    // parallel\n    return false;\n  }\n\n  var namenda = determinant(b1x - a1x, b1x - b2x, b1y - a1y, b1y - b2y) / delta;\n\n  if (namenda < 0 || namenda > 1) {\n    return false;\n  }\n\n  var miu = determinant(a2x - a1x, b1x - a1x, a2y - a1y, b1y - a1y) / delta;\n\n  if (miu < 0 || miu > 1) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n\nfunction determinant(v1, v2, v3, v4) {\n  return v1 * v4 - v2 * v3;\n}\n\nvar _default = selector;\nmodule.exports = _default;\n\n/***/ }),\n/* 396 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar visualSolution = __webpack_require__(67);\n\nvar Model = __webpack_require__(10);\n\nvar DEFAULT_OUT_OF_BRUSH_COLOR = ['#ddd'];\nvar BrushModel = echarts.extendComponentModel({\n  type: 'brush',\n  dependencies: ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    // inBrush: null,\n    // outOfBrush: null,\n    toolbox: null,\n    // Default value see preprocessor.\n    brushLink: null,\n    // Series indices array, broadcast using dataIndex.\n    // or 'all', which means all series. 'none' or null means no series.\n    seriesIndex: 'all',\n    // seriesIndex array, specify series controlled by this brush component.\n    geoIndex: null,\n    //\n    xAxisIndex: null,\n    yAxisIndex: null,\n    brushType: 'rect',\n    // Default brushType, see BrushController.\n    brushMode: 'single',\n    // Default brushMode, 'single' or 'multiple'\n    transformable: true,\n    // Default transformable.\n    brushStyle: {\n      // Default brushStyle\n      borderWidth: 1,\n      color: 'rgba(120,140,180,0.3)',\n      borderColor: 'rgba(120,140,180,0.8)'\n    },\n    throttleType: 'fixRate',\n    // Throttle in brushSelected event. 'fixRate' or 'debounce'.\n    // If null, no throttle. Valid only in the first brush component\n    throttleDelay: 0,\n    // Unit: ms, 0 means every event will be triggered.\n    // FIXME\n    // \n    removeOnClick: true,\n    z: 10000\n  },\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  areas: [],\n\n  /**\n   * Current activated brush type.\n   * If null, brush is inactived.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {string}\n   */\n  brushType: null,\n\n  /**\n   * Current brush opt.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {Object}\n   */\n  brushOption: {},\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  coordInfoList: [],\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    thisOption.inBrush = thisOption.inBrush || {}; // Always give default visual, consider setOption at the second time.\n\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n  },\n\n  /**\n   * If ranges is null/undefined, range state remain.\n   *\n   * @param {Array.<Object>} [ranges]\n   */\n  setAreas: function (areas) {\n    // If ranges is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  },\n\n  /**\n   * see module:echarts/component/helper/BrushController\n   * @param {Object} brushOption\n   */\n  setBrushOption: function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  }\n});\n\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\n\nvar _default = BrushModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 397 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar BrushController = __webpack_require__(82);\n\nvar _default = echarts.extendComponentView({\n  type: 'brush',\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/brush/BrushModel}\n     */\n\n    this.model;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  },\n\n  /**\n   * @override\n   */\n  render: function (brushModel) {\n    this.model = brushModel;\n    return updateController.apply(this, arguments);\n  },\n\n  /**\n   * @override\n   */\n  updateView: updateController,\n\n  /**\n   * @override\n   */\n  updateLayout: updateController,\n\n  /**\n   * @override\n   */\n  updateVisual: updateController,\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  },\n\n  /**\n   * @private\n   */\n  _onBrush: function (areas, opt) {\n    var modelId = this.model.id;\n    this.model.brushTargetManager.setOutputRanges(areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!opt.isEnd || opt.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  }\n});\n\nfunction updateController(brushModel, ecModel, api, payload) {\n  // Do not update controller when drawing.\n  (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 398 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n/**\n * payload: {\n *      brushIndex: number, or,\n *      brushId: string, or,\n *      brushName: string,\n *      globalRanges: Array\n * }\n */\necharts.registerAction({\n  type: 'brush',\n  event: 'brush',\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush',\n    query: payload\n  }, function (brushModel) {\n    brushModel.setAreas(payload.areas);\n  });\n});\n/**\n * payload: {\n *      brushComponents: [\n *          {\n *              brushId,\n *              brushIndex,\n *              brushName,\n *              series: [\n *                  {\n *                      seriesId,\n *                      seriesIndex,\n *                      seriesName,\n *                      rawIndices: [21, 34, ...]\n *                  },\n *                  ...\n *              ]\n *          },\n *          ...\n *      ]\n * }\n */\n\necharts.registerAction({\n  type: 'brushSelect',\n  event: 'brushSelected',\n  update: 'none'\n}, function () {});\n\n/***/ }),\n/* 399 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar featureManager = __webpack_require__(29);\n\nvar lang = __webpack_require__(40);\n\nvar brushLang = lang.toolbox.brush;\n\nfunction Brush(model, ecModel, api) {\n  this.model = model;\n  this.ecModel = ecModel;\n  this.api = api;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushMode;\n}\n\nBrush.defaultOption = {\n  show: true,\n  type: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],\n  icon: {\n    rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n    // jshint ignore:line\n    polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n    // jshint ignore:line\n    lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n    // jshint ignore:line\n    lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n    // jshint ignore:line\n    keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n    // jshint ignore:line\n    clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n\n  },\n  // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n  title: zrUtil.clone(brushLang.title)\n};\nvar proto = Brush.prototype;\n\nproto.render = proto.updateView = proto.updateLayout = function (featureModel, ecModel, api) {\n  var brushType;\n  var brushMode;\n  var isBrushed;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    brushType = brushModel.brushType;\n    brushMode = brushModel.brushOption.brushMode || 'single';\n    isBrushed |= brushModel.areas.length;\n  });\n  this._brushType = brushType;\n  this._brushMode = brushMode;\n  zrUtil.each(featureModel.get('type', true), function (type) {\n    featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n  });\n};\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon', true);\n  var icons = {};\n  zrUtil.each(model.get('type', true), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nproto.onclick = function (ecModel, api, type) {\n  var brushType = this._brushType;\n  var brushMode = this._brushMode;\n\n  if (type === 'clear') {\n    // Trigger parallel action firstly\n    api.dispatchAction({\n      type: 'axisAreaSelect',\n      intervals: []\n    });\n    api.dispatchAction({\n      type: 'brush',\n      command: 'clear',\n      // Clear all areas of all brush components.\n      areas: []\n    });\n  } else {\n    api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'brush',\n      brushOption: {\n        brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n        brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n      }\n    });\n  }\n};\n\nfeatureManager.register('brush', Brush);\nvar _default = Brush;\nmodule.exports = _default;\n\n/***/ }),\n/* 400 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(401);\n\n__webpack_require__(402);\n\n__webpack_require__(403);\n\n/***/ }),\n/* 401 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar layout = __webpack_require__(6);\n\nvar numberUtil = __webpack_require__(3);\n\nvar CoordinateSystem = __webpack_require__(21);\n\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\n/**\n * Calendar\n *\n * @constructor\n *\n * @param {Object} calendarModel calendarModel\n * @param {Object} ecModel       ecModel\n * @param {Object} api           api\n */\n\nfunction Calendar(calendarModel, ecModel, api) {\n  this._model = calendarModel;\n}\n\nCalendar.prototype = {\n  constructor: Calendar,\n  type: 'calendar',\n  dimensions: ['time', 'value'],\n  // Required in createListFromData\n  getDimensionsInfo: function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }];\n  },\n  getRangeInfo: function () {\n    return this._rangeInfo;\n  },\n  getModel: function () {\n    return this._model;\n  },\n  getRect: function () {\n    return this._rect;\n  },\n  getCellWidth: function () {\n    return this._sw;\n  },\n  getCellHeight: function () {\n    return this._sh;\n  },\n  getOrient: function () {\n    return this._orient;\n  },\n\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  getFirstDayOfWeek: function () {\n    return this._firstDayOfWeek;\n  },\n\n  /**\n   * get date info\n   *\n   * @param  {string|number} date date\n   * @return {Object}\n   * {\n   *      y: string, local full year, eg., '1940',\n   *      m: string, local month, from '01' ot '12',\n   *      d: string, local date, from '01' to '31' (if exists),\n   *      day: It is not date.getDay(). It is the location of the cell in a week, from 0 to 6,\n   *      time: timestamp,\n   *      formatedDate: string, yyyy-MM-dd,\n   *      date: original date object.\n   * }\n   */\n  getDateInfo: function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    m = m < 10 ? '0' + m : m;\n    var d = date.getDate();\n    d = d < 10 ? '0' + d : d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y,\n      m: m,\n      d: d,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + m + '-' + d,\n      date: date\n    };\n  },\n  getNextNDay: function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  },\n  update: function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle.normal').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.get('cellSize').slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  },\n\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   *\n   * @override\n   * @param  {Array|number} data data\n   * @param  {boolean} [clamp=true] out of range\n   * @return {Array} point\n   */\n  dataToPoint: function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time <= range.end.time)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  },\n\n  /**\n   * Convert a (x, y) point to time data\n   *\n   * @override\n   * @param  {string} point point\n   * @return {string}       data\n   */\n  pointToData: function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  },\n\n  /**\n   * Convert a time date item to (x, y) four point.\n   *\n   * @param  {Array} data  date[0] is date\n   * @param  {boolean} [clamp=true]  out of range\n   * @return {Object}       point\n   */\n  dataToRect: function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  },\n\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  pointToDate: function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  },\n\n  /**\n   * @inheritDoc\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @inheritDoc\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * initRange\n   *\n   * @private\n   * @return {Array} [start, end]\n   */\n  _initRangeOption: function () {\n    var range = this._model.get('range');\n\n    var rg = range;\n\n    if (zrUtil.isArray(rg) && rg.length === 1) {\n      rg = rg[0];\n    }\n\n    if (/^\\d{4}$/.test(rg)) {\n      range = [rg + '-01-01', rg + '-12-31'];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rg)) {\n      var start = this.getDateInfo(rg);\n      var firstDay = start.date;\n      firstDay.setMonth(firstDay.getMonth() + 1);\n      var end = this.getNextNDay(firstDay, -1);\n      range = [start.formatedDate, end.formatedDate];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rg)) {\n      range = [rg, rg];\n    }\n\n    var tmp = this._getRangeInfo(range);\n\n    if (tmp.start.time > tmp.end.time) {\n      range.reverse();\n    }\n\n    return range;\n  },\n\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  _getRangeInfo: function (range) {\n    range = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (range[0].time > range[1].time) {\n      reversed = true;\n      range.reverse();\n    }\n\n    var allDay = Math.floor(range[1].time / PROXIMATE_ONE_DAY) - Math.floor(range[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // var first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // var second = new Date(1478412000000);\n    // var allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(range[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = range[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    if (date.getDate() !== endDateNum) {\n      var sign = date.getTime() - range[1].time > 0 ? 1 : -1;\n\n      while (date.getDate() !== endDateNum && (date.getTime() - range[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(startDateNum + allDay - 1);\n      }\n    }\n\n    var weeks = Math.floor((allDay + range[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && range.reverse();\n    return {\n      range: [range[0].formatedDate, range[1].formatedDate],\n      start: range[0],\n      end: range[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: range[0].day,\n      lweek: range[1].day\n    };\n  },\n\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  _getDateByWeeksAndDay: function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return false;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  }\n};\nCalendar.dimensions = Calendar.prototype.dimensions;\nCalendar.getDimensionsInfo = Calendar.prototype.getDimensionsInfo;\n\nCalendar.create = function (ecModel, api) {\n  var calendarList = [];\n  ecModel.eachComponent('calendar', function (calendarModel) {\n    var calendar = new Calendar(calendarModel, ecModel, api);\n    calendarList.push(calendar);\n    calendarModel.coordinateSystem = calendar;\n  });\n  ecModel.eachSeries(function (calendarSeries) {\n    if (calendarSeries.get('coordinateSystem') === 'calendar') {\n      // Inject coordinate system\n      calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n    }\n  });\n  return calendarList;\n};\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nCoordinateSystem.register('calendar', Calendar);\nvar _default = Calendar;\nmodule.exports = _default;\n\n/***/ }),\n/* 402 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar sizeCalculable = _layout.sizeCalculable;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar CalendarModel = ComponentModel.extend({\n  type: 'calendar',\n\n  /**\n   * @type {module:echarts/coord/calendar/Calendar}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      normal: {\n        color: '#fff',\n        borderWidth: 1,\n        borderColor: '#ccc'\n      }\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      // a week first day\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      // 50% of cellSize\n      nameMap: 'en',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      // cn en []\n      nameMap: 'en',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    CalendarModel.superApply(this, 'init', arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    CalendarModel.superApply(this, 'mergeOption', arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  }\n});\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSize = target.cellSize = [cellSize, cellSize];\n  } else if (cellSize.length === 1) {\n    cellSize[1] = cellSize[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSize\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSize will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSize[hvIdx] = 'auto';\n    }\n\n    return cellSize[hvIdx] != null && cellSize[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = CalendarModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 403 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar graphic = __webpack_require__(2);\n\nvar formatUtil = __webpack_require__(8);\n\nvar numberUtil = __webpack_require__(3);\n\nvar MONTH_TEXT = {\n  EN: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  CN: ['', '', '', '', '', '', '', '', '', '', '', '']\n};\nvar WEEK_TEXT = {\n  EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  CN: ['', '', '', '', '', '', '']\n};\n\nvar _default = echarts.extendComponentView({\n  type: 'calendar',\n\n  /**\n   * top/left line points\n   *  @private\n   */\n  _tlpoints: null,\n\n  /**\n   * bottom/right line points\n   *  @private\n   */\n  _blpoints: null,\n\n  /**\n   * first day of month\n   *  @private\n   */\n  _firstDayOfMonth: null,\n\n  /**\n   * first day point of month\n   *  @private\n   */\n  _firstDayPoints: null,\n  render: function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem; // range info\n\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n\n    this._renderDayRect(calendarModel, rangeData, group); // _renderLines must be called prior to following function\n\n\n    this._renderLines(calendarModel, rangeData, orient, group);\n\n    this._renderYearText(calendarModel, rangeData, orient, group);\n\n    this._renderMonthText(calendarModel, orient, group);\n\n    this._renderWeekText(calendarModel, rangeData, orient, group);\n  },\n  // render day rect\n  _renderDayRect: function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle.normal').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl; // every rect\n\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  },\n  // render separate line\n  _renderLines: function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel('splitLine.lineStyle').getLineStyle();\n    var show = calendarModel.get('splitLine.show');\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n      self._tlpoints.push(points[0]);\n\n      self._blpoints.push(points[points.length - 1]);\n\n      show && self._drawSplitline(points, lineStyleModel, group);\n    } // render top/left line\n\n\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group); // render bottom/right line\n\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  },\n  // get points at both ends\n  _getEdgesPoints: function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1; // both ends of the line are extend half lineWidth\n\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  },\n  // render split line\n  _drawSplitline: function (points, lineStyleModel, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyleModel\n    });\n    group.add(poyline);\n  },\n  // render month line of one week points\n  _getLinePointsOfOneWeek: function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    date = coordSys.getDateInfo(date);\n    var points = [];\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(date.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n\n    return points;\n  },\n  _formatterLabel: function (formatter, params) {\n    if (typeof formatter === 'string' && formatter) {\n      return formatUtil.formatTplSimple(formatter, params);\n    }\n\n    if (typeof formatter === 'function') {\n      return formatter(params);\n    }\n\n    return params.nameMap;\n  },\n  _yearTextPositionControl: function (textEl, point, orient, position, margin) {\n    point = point.slice();\n    var aligns = ['center', 'bottom'];\n\n    if (position === 'bottom') {\n      point[1] += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      point[0] -= margin;\n    } else if (position === 'right') {\n      point[0] += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      point[1] -= margin;\n    }\n\n    var rotate = 0;\n\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n\n    return {\n      rotation: rotate,\n      position: point,\n      style: {\n        textAlign: aligns[0],\n        textVerticalAlign: aligns[1]\n      }\n    };\n  },\n  // render year\n  _renderYearText: function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n\n    if (!yearLabel.get('show')) {\n      return;\n    }\n\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n\n    var content = this._formatterLabel(formatter, params);\n\n    var yearText = new graphic.Text({\n      z2: 30\n    });\n    graphic.setTextStyle(yearText.style, yearLabel, {\n      text: content\n    }), yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  },\n  _monthTextPositionControl: function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n\n    if (orient === 'horizontal') {\n      y = y + margin;\n\n      if (isCenter) {\n        align = 'center';\n      }\n\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render month and year text\n  _renderMonthText: function (calendarModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n\n    if (!monthLabel.get('show')) {\n      return;\n    }\n\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = MONTH_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n\n      var formatter = monthLabel.get('formatter');\n      var name = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name\n      };\n\n      var content = this._formatterLabel(formatter, params);\n\n      var monthText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(monthText.style, monthLabel, {\n        text: content\n      }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin));\n      group.add(monthText);\n    }\n  },\n  _weekTextPositionControl: function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render weeks\n  _renderWeekText: function (calendarModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n\n    if (!dayLabel.get('show')) {\n      return;\n    }\n\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = WEEK_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = numberUtil.parsePercent(margin, cellSize[orient === 'horizontal' ? 0 : 1]);\n\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(weekText.style, dayLabel, {\n        text: nameMap[day]\n      }), this._weekTextPositionControl(point, orient, pos, margin, cellSize));\n      group.add(weekText);\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 404 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar graphic = __webpack_require__(2);\n\nvar _layout = __webpack_require__(6);\n\nvar getLayoutRect = _layout.getLayoutRect;\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 6,\n    show: true,\n    text: '',\n    // \n    // link: null,\n    // self | blank\n    target: 'blank',\n    subtext: '',\n    // \n    // sublink: null,\n    // self | blank\n    subtarget: 'blank',\n    // 'center'  'left'  'right'\n    //  {number}xpx\n    left: 0,\n    // 'top'  'bottom'  'center'\n    //  {number}ypx\n    top: 0,\n    // \n    // 'auto' | 'left' | 'right' | 'center'\n    //  left \n    // textAlign: null\n    //\n    // \n    // 'auto' | 'top' | 'bottom' | 'middle'\n    //  top \n    // textBaseline: null\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // px10\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textBaseline = titleModel.get('textBaseline');\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    textEl.silent = !link;\n    subTextEl.silent = !sublink;\n\n    if (link) {\n      textEl.on('click', function () {\n        window.open(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        window.open(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textBaseline) {\n      textBaseline = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textBaseline === 'center') {\n        textBaseline = 'middle';\n      }\n\n      if (textBaseline === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textBaseline === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textBaseline = textBaseline || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textBaseline\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      silent: true\n    });\n    graphic.subPixelOptimizeRect(rect);\n    group.add(rect);\n  }\n});\n\n/***/ }),\n/* 405 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(150);\n\n__webpack_require__(49);\n\n__webpack_require__(50);\n\n__webpack_require__(407);\n\n__webpack_require__(408);\n\n__webpack_require__(409);\n\n__webpack_require__(410);\n\n__webpack_require__(151);\n\n__webpack_require__(152);\n\n/***/ }),\n/* 406 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar numberUtil = __webpack_require__(3);\n\nvar helper = __webpack_require__(85);\n\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\n\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this._dimName = dimName;\n  /**\n   * @private\n   */\n\n  this._axisIndex = axisIndex;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._valueWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._percentWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._dataExtent;\n  /**\n   * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n   * @private\n   * @type {Object}\n   */\n\n  this._minMaxSpan;\n  /**\n   * @readOnly\n   * @type {module: echarts/model/Global}\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @private\n   * @type {module: echarts/component/dataZoom/DataZoomModel}\n   */\n\n  this._dataZoomModel = dataZoomModel;\n};\n\nAxisProxy.prototype = {\n  constructor: AxisProxy,\n\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   *\n   * @public\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   * @return {boolean}\n   */\n  hostedBy: function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  },\n\n  /**\n   * @return {Array.<number>} Value can only be NaN or finite value.\n   */\n  getDataValueWindow: function () {\n    return this._valueWindow.slice();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getDataPercentWindow: function () {\n    return this._percentWindow.slice();\n  },\n\n  /**\n   * @public\n   * @param {number} axisIndex\n   * @return {Array} seriesModels\n   */\n  getTargetSeriesModels: function () {\n    var seriesModels = [];\n    var ecModel = this.ecModel;\n    ecModel.eachSeries(function (seriesModel) {\n      if (helper.isCoordSupported(seriesModel.get('coordinateSystem'))) {\n        var dimName = this._dimName;\n        var axisModel = ecModel.queryComponents({\n          mainType: dimName + 'Axis',\n          index: seriesModel.get(dimName + 'AxisIndex'),\n          id: seriesModel.get(dimName + 'AxisId')\n        })[0];\n\n        if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  },\n  getAxisModel: function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  },\n  getOtherAxisModel: function () {\n    var axisDim = this._dimName;\n    var ecModel = this.ecModel;\n    var axisModel = this.getAxisModel();\n    var isCartesian = axisDim === 'x' || axisDim === 'y';\n    var otherAxisDim;\n    var coordSysIndexName;\n\n    if (isCartesian) {\n      coordSysIndexName = 'gridIndex';\n      otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n    } else {\n      coordSysIndexName = 'polarIndex';\n      otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n    }\n\n    var foundOtherAxisModel;\n    ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n      if ((otherAxisModel.get(coordSysIndexName) || 0) === (axisModel.get(coordSysIndexName) || 0)) {\n        foundOtherAxisModel = otherAxisModel;\n      }\n    });\n    return foundOtherAxisModel;\n  },\n  getMinMaxSpan: function () {\n    return zrUtil.clone(this._minMaxSpan);\n  },\n\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   *\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  calculateDataWindow: function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [opt.start, opt.end];\n    var valueWindow = [];\n    each(['startValue', 'endValue'], function (prop) {\n      valueWindow.push(opt[prop] != null ? scale.parse(opt[prop]) : null);\n    }); // Normalize bound.\n\n    each([0, 1], function (idx) {\n      var boundValue = valueWindow[idx];\n      var boundPercent = percentWindow[idx]; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). The former one is suitable\n      // for cases that a dataZoom component controls multiple axes with different\n      // unit or extent, and the latter one is suitable for accurate zoom by pixel\n      // (e.g., in dataZoomSelect). `valueProp` can be calculated from `percentProp`,\n      // but it is awkward that `percentProp` can not be obtained from `valueProp`\n      // accurately (because all of values that are overflow the `dataExtent` will\n      // be calculated to percent '100%'). So we have to use\n      // `dataZoom.getRangePropMode()` to mark which prop is used.\n      // `rangePropMode` is updated only when setOption or dispatchAction, otherwise\n      // it remains its original value.\n\n      if (rangePropMode[idx] === 'percent') {\n        if (boundPercent == null) {\n          boundPercent = percentExtent[idx];\n        } // Use scale.parse to math round for category or time axis.\n\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent, true));\n      } else {\n        // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent, true);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    return {\n      valueWindow: asc(valueWindow),\n      percentWindow: asc(percentWindow)\n    };\n  },\n\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   *\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  reset: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    } // Culculate data window and data extent, and record them.\n\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, this.getTargetSeriesModels());\n    var dataWindow = this.calculateDataWindow(dataZoomModel.option);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow;\n    setMinMaxSpan(this); // Update axis setting then.\n\n    setAxisModel(this);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  restore: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    this._valueWindow = this._percentWindow = null;\n    setAxisModel(this, true);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  filterData: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n\n\n    var otherAxisModel = this.getOtherAxisModel();\n\n    if (dataZoomModel.get('$fromToolbox') && otherAxisModel && otherAxisModel.get('type') === 'category') {\n      filterMode = 'empty';\n    } // Process series data\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesModel.coordDimToDataDim(axisDim);\n\n      if (filterMode === 'weakFilter') {\n        seriesData && seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        seriesData && each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            seriesData.filterSelf(dim, isInWindow);\n          }\n        });\n      }\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    var seriesData = seriesModel.getData();\n\n    if (seriesData) {\n      each(seriesModel.coordDimToDataDim(axisDim), function (dim) {\n        var seriesExtent = seriesData.getDataExtent(dim);\n        seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n        seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n      });\n    }\n  });\n\n  if (dataExtent[1] < dataExtent[0]) {\n    dataExtent = [NaN, NaN];\n  } // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n\n  fixExtentByAxis(axisProxy, dataExtent);\n  return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n  var axisModel = axisProxy.getAxisModel();\n  var min = axisModel.getMin(true); // For category axis, if min/max/scale are not set, extent is determined\n  // by axis.data by default.\n\n  var isCategoryAxis = axisModel.get('type') === 'category';\n  var axisDataLen = isCategoryAxis && (axisModel.get('data') || []).length;\n\n  if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n    dataExtent[0] = min;\n  } else if (isCategoryAxis) {\n    dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n  }\n\n  var max = axisModel.getMax(true);\n\n  if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n    dataExtent[1] = max;\n  } else if (isCategoryAxis) {\n    dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n  }\n\n  if (!axisModel.get('scale', true)) {\n    dataExtent[0] > 0 && (dataExtent[0] = 0);\n    dataExtent[1] < 0 && (dataExtent[1] = 0);\n  } // For value axis, if min/max/scale are not set, we just use the extent obtained\n  // by series data, which may be a little different from the extent calculated by\n  // `axisHelper.getScaleExtent`. But the different just affects the experience a\n  // little when zooming. So it will not be fixed until some users require it strongly.\n\n\n  return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n  var axisModel = axisProxy.getAxisModel();\n  var percentWindow = axisProxy._percentWindow;\n  var valueWindow = axisProxy._valueWindow;\n\n  if (!percentWindow) {\n    return;\n  } // [0, 500]: arbitrary value, guess axis extent.\n\n\n  var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n  precision = Math.min(precision, 20); // isRestore or isFull\n\n  var useOrigin = isRestore || percentWindow[0] === 0 && percentWindow[1] === 100;\n  axisModel.setRange(useOrigin ? null : +valueWindow[0].toFixed(precision), useOrigin ? null : +valueWindow[1].toFixed(precision));\n}\n\nfunction setMinMaxSpan(axisProxy) {\n  var minMaxSpan = axisProxy._minMaxSpan = {};\n  var dataZoomModel = axisProxy._dataZoomModel;\n  each(['min', 'max'], function (minMax) {\n    minMaxSpan[minMax + 'Span'] = dataZoomModel.get(minMax + 'Span'); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n    var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n\n    if (valueSpan != null) {\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n      valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan);\n\n      if (valueSpan != null) {\n        var dataExtent = axisProxy._dataExtent;\n        minMaxSpan[minMax + 'Span'] = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      }\n    }\n  });\n}\n\nvar _default = AxisProxy;\nmodule.exports = _default;\n\n/***/ }),\n/* 407 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DataZoomModel = __webpack_require__(49);\n\nvar SliderZoomModel = DataZoomModel.extend({\n  type: 'dataZoom.slider',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    // ph => placeholder. Using placehoder here because\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    // Default align to grid rect.\n    top: 'ph',\n    // Default align to grid rect.\n    width: 'ph',\n    // Default align to grid rect.\n    height: 'ph',\n    // Default align to grid rect.\n    left: null,\n    // Default align to grid rect.\n    bottom: null,\n    // Default align to grid rect.\n    backgroundColor: 'rgba(47,69,84,0)',\n    // Background of slider zoom component.\n    // dataBackgroundColor: '#ddd',         // Background coor of data shadow and border of box,\n    // highest priority, remain for compatibility of\n    // previous version, but not recommended any more.\n    dataBackground: {\n      lineStyle: {\n        color: '#2f4554',\n        width: 0.5,\n        opacity: 0.3\n      },\n      areaStyle: {\n        color: 'rgba(47,69,84,0.3)',\n        opacity: 0.3\n      }\n    },\n    borderColor: '#ddd',\n    // border color of the box. For compatibility,\n    // if dataBackgroundColor is set, borderColor\n    // is ignored.\n    fillerColor: 'rgba(167,183,204,0.4)',\n    // Color of selected area.\n    // handleColor: 'rgba(89,170,216,0.95)',     // Color of handle.\n    // handleIcon: 'path://M4.9,17.8c0-1.4,4.5-10.5,5.5-12.4c0-0.1,0.6-1.1,0.9-1.1c0.4,0,0.9,1,0.9,1.1c1.1,2.2,5.4,11,5.4,12.4v17.8c0,1.5-0.6,2.1-1.3,2.1H6.1c-0.7,0-1.3-0.6-1.3-2.1V17.8z',\n    handleIcon: 'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#a7b7cc'\n    },\n    labelPrecision: null,\n    labelFormatter: null,\n    showDetail: true,\n    showDataShadow: 'auto',\n    // Default auto decision.\n    realtime: true,\n    zoomLock: false,\n    // Whether disable zoom.\n    textStyle: {\n      color: '#333'\n    }\n  }\n});\nvar _default = SliderZoomModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 408 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar eventTool = __webpack_require__(23);\n\nvar graphic = __webpack_require__(2);\n\nvar throttle = __webpack_require__(31);\n\nvar DataZoomView = __webpack_require__(50);\n\nvar numberUtil = __webpack_require__(3);\n\nvar layout = __webpack_require__(6);\n\nvar sliderMove = __webpack_require__(47);\n\nvar Rect = graphic.Rect;\nvar linearMap = numberUtil.linearMap;\nvar asc = numberUtil.asc;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar SliderZoomView = DataZoomView.extend({\n  type: 'dataZoom.slider',\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._displayables = {};\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this._orient;\n    /**\n     * [0, 100]\n     * @private\n     */\n\n    this._range;\n    /**\n     * [coord of the first handle, coord of the second handle]\n     * @private\n     */\n\n    this._handleEnds;\n    /**\n     * [length, thick]\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._size;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleWidth;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleHeight;\n    /**\n     * @private\n     */\n\n    this._location;\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._dataShadowInfo;\n    this.api = api;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    SliderZoomView.superApply(this, 'render', arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.get('orient');\n\n    if (this.dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    SliderZoomView.superApply(this, 'remove', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    SliderZoomView.superApply(this, 'dispose', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  _buildView: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.barGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  },\n\n  /**\n   * @private\n   */\n  _resetLocation: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      // vertical\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    zrUtil.each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize, dataZoomModel.padding);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  },\n\n  /**\n   * @private\n   */\n  _positionGroup: function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var barGroup = this._displayables.barGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    barGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scale: otherAxisInverse ? [1, 1] : [1, -1]\n    } : orient === HORIZONTAL && inverse ? {\n      scale: otherAxisInverse ? [-1, 1] : [-1, -1]\n    } : orient === VERTICAL && !inverse ? {\n      scale: otherAxisInverse ? [1, -1] : [1, 1],\n      rotation: Math.PI / 2 // Dont use Math.PI, considering shadow direction.\n\n    } : {\n      scale: otherAxisInverse ? [-1, -1] : [-1, 1],\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([barGroup]);\n    thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n  },\n\n  /**\n   * @private\n   */\n  _getViewExtent: function () {\n    return [0, this._size[0]];\n  },\n  _renderBackground: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.barGroup;\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    barGroup.add(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: zrUtil.bind(this._onClickPanelClick, this)\n    }));\n  },\n  _renderDataShadow: function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // list\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel; // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    this._displayables.barGroup.add(new graphic.Polygon({\n      shape: {\n        points: areaPoints\n      },\n      style: zrUtil.defaults({\n        fill: dataZoomModel.get('dataBackgroundColor')\n      }, dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()),\n      silent: true,\n      z2: -20\n    }));\n\n    this._displayables.barGroup.add(new graphic.Polyline({\n      shape: {\n        points: linePoints\n      },\n      style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n      silent: true,\n      z2: -19\n    }));\n  },\n  _prepareDataShadowInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(dimNames.name, axisIndex).getTargetSeriesModels();\n      zrUtil.each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n        var otherDim = getOtherDim(dimNames.name);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: dimNames.name,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  },\n  _renderHandle: function () {\n    var displaybles = this._displayables;\n    var handles = displaybles.handles = [];\n    var handleLabels = displaybles.handleLabels = [];\n    var barGroup = this._displayables.barGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    barGroup.add(displaybles.filler = new Rect({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false),\n      style: {\n        fill: dataZoomModel.get('fillerColor'),\n        textPosition: 'inside'\n      }\n    })); // Frame border.\n\n    barGroup.add(new Rect(graphic.subPixelOptimizeRect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })));\n    each([0, 1], function (handleIndex) {\n      var path = graphic.createIcon(dataZoomModel.get('handleIcon'), {\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false)\n      }, {\n        x: -1,\n        y: 0,\n        width: 2,\n        height: 2\n      });\n      var bRect = path.getBoundingRect();\n      this._handleHeight = numberUtil.parsePercent(dataZoomModel.get('handleSize'), this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      var handleColor = dataZoomModel.get('handleColor'); // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      barGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.textStyleModel;\n      this.group.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: {\n          x: 0,\n          y: 0,\n          text: '',\n          textVerticalAlign: 'middle',\n          textAlign: 'center',\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        },\n        z2: 10\n      }));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} delta\n   */\n  _updateInterval: function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scale: [handleHeight / 2, handleHeight / 2],\n        position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n\n    this._updateDataInfo(nonRealtime);\n  },\n\n  /**\n   * @private\n   */\n  _updateDataInfo: function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // dateformatterautoformatterec2 date.getAutoFormatter\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        textAlign: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _formatLabel: function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel(Math.round(value)) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return zrUtil.isFunction(labelFormatter) ? labelFormatter(value, valueStr) : zrUtil.isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  },\n\n  /**\n   * @private\n   * @param {boolean} showOrHide true: show, false: hide\n   */\n  _showDataInfo: function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var handleLabels = this._displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n  },\n  _onDragMove: function (handleIndex, dx, dy) {\n    this._dragging = true; // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.barGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime);\n\n    if (realtime) {\n      realtime && this._dispatchZoomAction();\n    }\n  },\n  _onDragEnd: function () {\n    this._dragging = false;\n\n    this._showDataInfo(false);\n\n    this._dispatchZoomAction();\n  },\n  _onClickPanelClick: function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    this._dispatchZoomAction();\n  },\n\n  /**\n   * This action will be throttled.\n   * @private\n   */\n  _dispatchZoomAction: function () {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      start: range[0],\n      end: range[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _findCoordRect: function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    each(this.getTargetCoordInfo(), function (coordInfoList) {\n      if (!rect && coordInfoList.length) {\n        var coordSys = coordInfoList[0].model.coordinateSystem;\n        rect = coordSys.getRect && coordSys.getRect();\n      }\n    });\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  }\n});\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // getOtherAxis\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = SliderZoomView;\nmodule.exports = _default;\n\n/***/ }),\n/* 409 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DataZoomModel = __webpack_require__(49);\n\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    disabled: false,\n    // Whether disable this inside zoom.\n    zoomLock: false,\n    // Whether disable zoom but only pan.\n    zoomOnMouseWheel: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    moveOnMouseMove: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    preventDefaultMouseMove: true\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 410 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar DataZoomView = __webpack_require__(50);\n\nvar sliderMove = __webpack_require__(47);\n\nvar roams = __webpack_require__(411);\n\nvar bind = zrUtil.bind;\nvar InsideZoomView = DataZoomView.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * 'throttle' is used in this.dispatchAction, so we save range\n     * to avoid missing some 'pan' info.\n     * @private\n     * @type {Array.<number>}\n     */\n    this._range;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    InsideZoomView.superApply(this, 'render', arguments); // Notice: origin this._range should be maintained, and should not be re-fetched\n    // from dataZoomModel when payload.type is 'dataZoom', otherwise 'pan' or 'zoom'\n    // info will be missed because of 'throttle' of this.dispatchAction.\n\n    if (roams.shouldRecordRange(payload, dataZoomModel.id)) {\n      this._range = dataZoomModel.getPercentRange();\n    } // Reset controllers.\n\n\n    zrUtil.each(this.getTargetCoordInfo(), function (coordInfoList, coordSysName) {\n      var allCoordIds = zrUtil.map(coordInfoList, function (coordInfo) {\n        return roams.generateCoordId(coordInfo.model);\n      });\n      zrUtil.each(coordInfoList, function (coordInfo) {\n        var coordModel = coordInfo.model;\n        var dataZoomOption = dataZoomModel.option;\n        roams.register(api, {\n          coordId: roams.generateCoordId(coordModel),\n          allCoordIds: allCoordIds,\n          containsPoint: function (e, x, y) {\n            return coordModel.coordinateSystem.containPoint([x, y]);\n          },\n          dataZoomId: dataZoomModel.id,\n          throttleRate: dataZoomModel.get('throttle', true),\n          panGetRange: bind(this._onPan, this, coordInfo, coordSysName),\n          zoomGetRange: bind(this._onZoom, this, coordInfo, coordSysName),\n          zoomLock: dataZoomOption.zoomLock,\n          disabled: dataZoomOption.disabled,\n          roamControllerOpt: {\n            zoomOnMouseWheel: dataZoomOption.zoomOnMouseWheel,\n            moveOnMouseMove: dataZoomOption.moveOnMouseMove,\n            preventDefaultMouseMove: dataZoomOption.preventDefaultMouseMove\n          }\n        });\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    roams.unregister(this.api, this.dataZoomModel.id);\n    InsideZoomView.superApply(this, 'dispose', arguments);\n    this._range = null;\n  },\n\n  /**\n   * @private\n   */\n  _onPan: function (coordInfo, coordSysName, controller, dx, dy, oldX, oldY, newX, newY) {\n    var range = this._range.slice(); // Calculate transform by the first axis.\n\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysName]([oldX, oldY], [newX, newY], axisModel, controller, coordInfo);\n    var percentDelta = directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    return this._range = range;\n  },\n\n  /**\n   * @private\n   */\n  _onZoom: function (coordInfo, coordSysName, controller, scale, mouseX, mouseY) {\n    var range = this._range.slice(); // Calculate transform by the first axis.\n\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysName](null, [mouseX, mouseY], axisModel, controller, coordInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    scale = Math.max(1 / scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    return this._range = range;\n  }\n});\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nvar _default = InsideZoomView;\nmodule.exports = _default;\n\n/***/ }),\n/* 411 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar RoamController = __webpack_require__(64);\n\nvar throttleUtil = __webpack_require__(31);\n\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nvar curry = zrUtil.curry;\nvar ATTR = '\\0_ec_dataZoom_roams';\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} dataZoomInfo\n * @param {string} dataZoomInfo.coordId\n * @param {Function} dataZoomInfo.containsPoint\n * @param {Array.<string>} dataZoomInfo.allCoordIds\n * @param {string} dataZoomInfo.dataZoomId\n * @param {number} dataZoomInfo.throttleRate\n * @param {Function} dataZoomInfo.panGetRange\n * @param {Function} dataZoomInfo.zoomGetRange\n * @param {boolean} [dataZoomInfo.zoomLock]\n * @param {boolean} [dataZoomInfo.disabled]\n */\n\nfunction register(api, dataZoomInfo) {\n  var store = giveStore(api);\n  var theDataZoomId = dataZoomInfo.dataZoomId;\n  var theCoordId = dataZoomInfo.coordId; // Do clean when a dataZoom changes its target coordnate system.\n  // Avoid memory leak, dispose all not-used-registered.\n\n  zrUtil.each(store, function (record, coordId) {\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[theDataZoomId] && zrUtil.indexOf(dataZoomInfo.allCoordIds, theCoordId) < 0) {\n      delete dataZoomInfos[theDataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n  var record = store[theCoordId]; // Create if needed.\n\n  if (!record) {\n    record = store[theCoordId] = {\n      coordId: theCoordId,\n      dataZoomInfos: {},\n      count: 0\n    };\n    record.controller = createController(api, record);\n    record.dispatchAction = zrUtil.curry(dispatchAction, api);\n  } // Update reference of dataZoom.\n\n\n  !record.dataZoomInfos[theDataZoomId] && record.count++;\n  record.dataZoomInfos[theDataZoomId] = dataZoomInfo;\n  var controllerParams = mergeControllerParams(record.dataZoomInfos);\n  record.controller.enable(controllerParams.controlType, controllerParams.opt); // Consider resize, area should be always updated.\n\n  record.controller.setPointerChecker(dataZoomInfo.containsPoint); // Update throttle.\n\n  throttleUtil.createOrUpdate(record, 'dispatchAction', dataZoomInfo.throttleRate, 'fixRate');\n}\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {string} dataZoomId\n */\n\n\nfunction unregister(api, dataZoomId) {\n  var store = giveStore(api);\n  zrUtil.each(store, function (record) {\n    record.controller.dispose();\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[dataZoomId]) {\n      delete dataZoomInfos[dataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n}\n/**\n * @public\n */\n\n\nfunction shouldRecordRange(payload, dataZoomId) {\n  if (payload && payload.type === 'dataZoom' && payload.batch) {\n    for (var i = 0, len = payload.batch.length; i < len; i++) {\n      if (payload.batch[i].dataZoomId === dataZoomId) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * @public\n */\n\n\nfunction generateCoordId(coordModel) {\n  return coordModel.type + '\\0_' + coordModel.id;\n}\n/**\n * Key: coordId, value: {dataZoomInfos: [], count, controller}\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(api) {\n  // Mount store on zrender instance, so that we do not\n  // need to worry about dispose.\n  var zr = api.getZr();\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n\nfunction createController(api, newRecord) {\n  var controller = new RoamController(api.getZr());\n  controller.on('pan', curry(onPan, newRecord));\n  controller.on('zoom', curry(onZoom, newRecord));\n  return controller;\n}\n\nfunction cleanStore(store) {\n  zrUtil.each(store, function (record, coordId) {\n    if (!record.count) {\n      record.controller.dispose();\n      delete store[coordId];\n    }\n  });\n}\n\nfunction onPan(record, dx, dy, oldX, oldY, newX, newY) {\n  wrapAndDispatch(record, function (info) {\n    return info.panGetRange(record.controller, dx, dy, oldX, oldY, newX, newY);\n  });\n}\n\nfunction onZoom(record, scale, mouseX, mouseY) {\n  wrapAndDispatch(record, function (info) {\n    return info.zoomGetRange(record.controller, scale, mouseX, mouseY);\n  });\n}\n\nfunction wrapAndDispatch(record, getRange) {\n  var batch = [];\n  zrUtil.each(record.dataZoomInfos, function (info) {\n    var range = getRange(info);\n    !info.disabled && range && batch.push({\n      dataZoomId: info.dataZoomId,\n      start: range[0],\n      end: range[1]\n    });\n  });\n  record.dispatchAction(batch);\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  api.dispatchAction({\n    type: 'dataZoom',\n    batch: batch\n  });\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfos) {\n  var controlType;\n  var opt = {};\n  var typePriority = {\n    'true': 2,\n    'move': 1,\n    'false': 0,\n    'undefined': -1\n  };\n  zrUtil.each(dataZoomInfos, function (dataZoomInfo) {\n    var oneType = dataZoomInfo.disabled ? false : dataZoomInfo.zoomLock ? 'move' : true;\n    typePriority[oneType] > typePriority[controlType] && (controlType = oneType); // Do not support that different 'shift'/'ctrl'/'alt' setting used in one coord sys.\n\n    zrUtil.extend(opt, dataZoomInfo.roamControllerOpt);\n  });\n  return {\n    controlType: controlType,\n    opt: opt\n  };\n}\n\nexports.register = register;\nexports.unregister = unregister;\nexports.shouldRecordRange = shouldRecordRange;\nexports.generateCoordId = generateCoordId;\n\n/***/ }),\n/* 412 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(413);\n\n__webpack_require__(416);\n\n/***/ }),\n/* 413 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar preprocessor = __webpack_require__(153);\n\n__webpack_require__(154);\n\n__webpack_require__(155);\n\n__webpack_require__(414);\n\n__webpack_require__(415);\n\n__webpack_require__(160);\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);\n\n/***/ }),\n/* 414 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar VisualMapModel = __webpack_require__(156);\n\nvar numberUtil = __webpack_require__(3);\n\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = VisualMapModel.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    align: 'auto',\n    // 'auto', 'left', 'right', 'top', 'bottom'\n    calculable: false,\n    // This prop effect default component type determine,\n    // See echarts/component/visualMap/typeDefaulter.\n    range: null,\n    // selected range. In default case `range` is [min, max]\n    // and can auto change along with modification of min max,\n    // util use specifid a range.\n    realtime: true,\n    // Whether realtime update.\n    itemHeight: null,\n    // The length of the range control edge.\n    itemWidth: null,\n    // The length of the other side.\n    hoverLink: true,\n    // Enable hover highlight.\n    hoverLinkDataSize: null,\n    // The size of hovered data.\n    hoverLinkOnHandle: null // Whether trigger hoverLink when hover handle.\n    // If not specified, follow the value of `realtime`.\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    ContinuousModel.superApply(this, 'optionUpdated', arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n\n    this._resetRange();\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  resetItemSize: function () {\n    ContinuousModel.superApply(this, 'resetItemSize', arguments);\n    var itemSize = this.itemSize;\n    this._orient === 'horizontal' && itemSize.reverse();\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  },\n\n  /**\n   * @private\n   */\n  _resetRange: function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n\n    if (!range || range.auto) {\n      // `range` should always be array (so we dont use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = 0; // For good looking.\n      }\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.range = selected.slice();\n\n    this._resetRange();\n  },\n\n  /**\n   * @public\n   */\n  getSelected: function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice()); // Clamp\n\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  },\n\n  /**\n   * @override\n   */\n  getValueState: function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent(); // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  },\n\n  /**\n   * @params {Array.<number>} range target value: range[0] <= value && value <= range[1]\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, true, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @implement\n   */\n  getVisualMeta: function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    } // Format to: outOfRange -- inRange -- outOfRange.\n\n\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  }\n});\n\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  } // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n\n\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\n\nvar _default = ContinuousModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 415 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar LinearGradient = __webpack_require__(107);\n\nvar eventTool = __webpack_require__(23);\n\nvar VisualMapView = __webpack_require__(158);\n\nvar graphic = __webpack_require__(2);\n\nvar numberUtil = __webpack_require__(3);\n\nvar sliderMove = __webpack_require__(47);\n\nvar helper = __webpack_require__(159);\n\nvar modelUtil = __webpack_require__(5);\n\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max; // Arbitrary value\n\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6; // Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\n\nvar ContinuousView = VisualMapView.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @override\n   */\n  init: function () {\n    ContinuousView.superApply(this, 'init', arguments);\n    /**\n     * @private\n     */\n\n    this._shapes = {};\n    /**\n     * @private\n     */\n\n    this._dataInterval = [];\n    /**\n     * @private\n     */\n\n    this._handleEnds = [];\n    /**\n     * @private\n     */\n\n    this._orient;\n    /**\n     * @private\n     */\n\n    this._useHandle;\n    /**\n     * @private\n     */\n\n    this._hoverLinkDataIndices = [];\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._hovering;\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _buildView: function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n\n    this._resetInterval();\n\n    this._renderBar(thisGroup);\n\n    var dataRangeText = visualMapModel.get('text');\n\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n\n    this._renderEndsText(thisGroup, dataRangeText, 1); // Do this for background size calculation.\n\n\n    this._updateView(true); // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n\n\n    this.renderBackground(thisGroup); // Real update view\n\n    this._updateView();\n\n    this._enableHoverLinkToSeries();\n\n    this._enableHoverLinkFromSeries();\n\n    this.positionGroup(thisGroup);\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    } // Compatible with ec2, text[0] map to high value, text[1] map low value.\n\n\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.barGroup;\n\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: {\n        x: position[0],\n        y: position[1],\n        textVerticalAlign: orient === 'horizontal' ? 'middle' : align,\n        textAlign: orient === 'horizontal' ? align : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderBar: function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n\n    var barGroup = shapes.barGroup = this._createBarGroup(itemAlign); // Bar\n\n\n    barGroup.add(shapes.outOfRange = createPolygon());\n    barGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    var textRect = visualMapModel.textStyleModel.getTextRect('');\n    var textSize = mathMax(textRect.width, textRect.height); // Handle\n\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n\n      this._createHandle(barGroup, 0, itemSize, textSize, orient, itemAlign);\n\n      this._createHandle(barGroup, 1, itemSize, textSize, orient, itemAlign);\n    }\n\n    this._createIndicator(barGroup, itemSize, textSize, orient);\n\n    targetGroup.add(barGroup);\n  },\n\n  /**\n   * @private\n   */\n  _createHandle: function (barGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleThumb = createPolygon(createHandlePoints(handleIndex, textSize), getCursor(this._orient), onDrift, onDragEnd);\n    handleThumb.position[0] = itemSize[0];\n    barGroup.add(handleThumb); // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(handleLabel);\n    var handleLabelPoint = [orient === 'horizontal' ? textSize / 2 : textSize * 1.5, orient === 'horizontal' ? handleIndex === 0 ? -(textSize * 1.5) : textSize * 1.5 : handleIndex === 0 ? -textSize / 2 : textSize / 2];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  },\n\n  /**\n   * @private\n   */\n  _createIndicator: function (barGroup, itemSize, textSize, orient) {\n    var indicator = createPolygon([[0, 0]], 'move');\n    indicator.position[0] = itemSize[0];\n    indicator.attr({\n      invisible: true,\n      silent: true\n    });\n    barGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT + 3, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n  },\n\n  /**\n   * @private\n   */\n  _dragHandle: function (handleIndex, isEnd, dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    this._dragging = !isEnd;\n\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.barGroup, true);\n\n      this._updateInterval(handleIndex, vertex[1]); // Considering realtime, update view should be executed\n      // before dispatch action.\n\n\n      this._updateView();\n    } // dragEnd do not dispatch action when realtime.\n\n\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  _updateInterval: function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex, // cross is forbiden\n    0);\n    var dataExtent = visualMapModel.getExtent(); // Update data interval.\n\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor,\n      opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor,\n      opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  },\n\n  /**\n   * @private\n   */\n  _createBarVisual: function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  },\n\n  /**\n   * @private\n   */\n  _makeColorGradient: function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only caculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  },\n\n  /**\n   * @private\n   */\n  _createBarPoints: function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  },\n\n  /**\n   * @private\n   */\n  _createBarGroup: function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scale: itemAlign === 'bottom' ? [1, 1] : [-1, 1],\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scale: itemAlign === 'bottom' ? [-1, 1] : [1, 1],\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scale: itemAlign === 'left' ? [1, -1] : [-1, -1]\n    } : {\n      scale: itemAlign === 'left' ? [1, 1] : [-1, 1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _updateHandle: function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.position[1] = handleEnds[handleIndex]; // Update handle label position.\n\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        textVerticalAlign: 'middle',\n        textAlign: this._applyTransform(this._orient === 'horizontal' ? handleIndex === 0 ? 'bottom' : 'top' : 'left', shapes.barGroup)\n      });\n    }, this);\n  },\n\n  /**\n   * @private\n   * @param {number} cursorValue\n   * @param {number} textValue\n   * @param {string} [rangeSymbol]\n   * @param {number} [halfHoverLinkSize]\n   */\n  _showIndicator: function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var pos = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n\n    if (!indicator) {\n      return;\n    }\n\n    indicator.position[1] = pos;\n    indicator.attr('invisible', false);\n    indicator.setShape('points', createIndicatorPoints(!!rangeSymbol, halfHoverLinkSize, pos, itemSize[1]));\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    indicator.setStyle('fill', color); // Update handle label position.\n\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n\n    var align = this._applyTransform('left', shapes.barGroup);\n\n    var orient = this._orient;\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      textVerticalAlign: orient === 'horizontal' ? align : 'middle',\n      textAlign: orient === 'horizontal' ? 'center' : align,\n      x: textPoint[0],\n      y: textPoint[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkToSeries: function () {\n    var self = this;\n\n    this._shapes.barGroup.on('mousemove', function (e) {\n      self._hovering = true;\n\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.barGroup, true, true); // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n\n\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkFromSeries: function () {\n    var zr = this.api.getZr();\n\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doHoverLinkToSeries: function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent(); // For hover link show when hover handle, which might be below or upper than sizeExtent.\n\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)]; // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity); // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, ' ', halfHoverLinkSize);\n      }\n    } // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n\n\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n\n    this._dispatchHighDown('downplay', helper.convertDataIndex(resultBatches[0]));\n\n    this._dispatchHighDown('highlight', helper.convertDataIndex(resultBatches[1]));\n  },\n\n  /**\n   * @private\n   */\n  _hoverLinkFromSeriesMouseOver: function (e) {\n    var el = e.target;\n    var visualMapModel = this.visualMapModel;\n\n    if (!el || el.dataIndex == null) {\n      return;\n    }\n\n    var dataModel = this.ecModel.getSeriesByIndex(el.seriesIndex);\n\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n\n    var data = dataModel.getData(el.dataType);\n    var dim = data.getDimension(visualMapModel.getDataDimension(data));\n    var value = data.get(dim, el.dataIndex, true);\n\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _hideIndicator: function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkToSeries: function () {\n    this._hideIndicator();\n\n    var indices = this._hoverLinkDataIndices;\n\n    this._dispatchHighDown('downplay', helper.convertDataIndex(indices));\n\n    indices.length = 0;\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkFromSeries: function () {\n    this._hideIndicator();\n\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  },\n\n  /**\n   * @private\n   */\n  _applyTransform: function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return graphic[zrUtil.isArray(vertex) ? 'applyTransform' : 'transformDirection'](vertex, transform, inverse);\n  },\n\n  /**\n   * @private\n   */\n  _dispatchHighDown: function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  }\n});\n\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // Fot mobile devicem, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\n\nfunction createHandlePoints(handleIndex, textSize) {\n  return handleIndex === 0 ? [[0, 0], [textSize, 0], [textSize, -textSize]] : [[0, 0], [textSize, 0], [textSize, textSize]];\n}\n\nfunction createIndicatorPoints(isRange, halfHoverLinkSize, pos, extentMax) {\n  return isRange ? [// indicate range\n  [0, -mathMin(halfHoverLinkSize, mathMax(pos, 0))], [HOVER_LINK_OUT, 0], [0, mathMin(halfHoverLinkSize, mathMax(extentMax - pos, 0))]] : [// indicate single value\n  [0, 0], [5, -5], [5, 5]];\n}\n\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n\n  return halfHoverLinkSize;\n}\n\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = ContinuousView;\nmodule.exports = _default;\n\n/***/ }),\n/* 416 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar preprocessor = __webpack_require__(153);\n\n__webpack_require__(154);\n\n__webpack_require__(155);\n\n__webpack_require__(417);\n\n__webpack_require__(418);\n\n__webpack_require__(160);\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);\n\n/***/ }),\n/* 417 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(4);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar VisualMapModel = __webpack_require__(156);\n\nvar VisualMapping = __webpack_require__(35);\n\nvar visualDefault = __webpack_require__(157);\n\nvar _number = __webpack_require__(3);\n\nvar reformIntervals = _number.reformIntervals;\nvar PiecewiseModel = VisualMapModel.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * Order Rule:\n   *\n   * option.categories / option.pieces / option.text / option.selected:\n   *     If !option.inverse,\n   *     Order when vertical: ['top', ..., 'bottom'].\n   *     Order when horizontal: ['left', ..., 'right'].\n   *     If option.inverse, the meaning of\n   *     the order should be reversed.\n   *\n   * this._pieceList:\n   *     The order is always [low, ..., high].\n   *\n   * Mapping from location to low-high:\n   *     If !option.inverse\n   *     When vertical, top is high.\n   *     When horizontal, right is high.\n   *     If option.inverse, reverse.\n   */\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    selected: null,\n    // Object. If not specified, means selected.\n    // When pieces and splitNumber: {'0': true, '5': true}\n    // When categories: {'cate1': false, 'cate3': true}\n    // When selected === false, means all unselected.\n    minOpen: false,\n    // Whether include values that smaller than `min`.\n    maxOpen: false,\n    // Whether include values that bigger than `max`.\n    align: 'auto',\n    // 'auto', 'left', 'right'\n    itemWidth: 20,\n    // When put the controller vertically, it is the length of\n    // horizontal side of each item. Otherwise, vertical side.\n    itemHeight: 14,\n    // When put the controller vertically, it is the length of\n    // vertical side of each item. Otherwise, horizontal side.\n    itemSymbol: 'roundRect',\n    pieceList: null,\n    // Each item is Object, with some of those attrs:\n    // {min, max, lt, gt, lte, gte, value,\n    // color, colorSaturation, colorAlpha, opacity,\n    // symbol, symbolSize}, which customize the range or visual\n    // coding of the certain piece. Besides, see \"Order Rule\".\n    categories: null,\n    // category names, like: ['some1', 'some2', 'some3'].\n    // Attr min/max are ignored when categories set. See \"Order Rule\"\n    splitNumber: 5,\n    // If set to 5, auto split five pieces equally.\n    // If set to 0 and component type not set, component type will be\n    // determined as \"continuous\". (It is less reasonable but for ec2\n    // compatibility, see echarts/component/visualMap/typeDefaulter)\n    selectedMode: 'multiple',\n    // Can be 'multiple' or 'single'.\n    itemGap: 10,\n    // The gap between two items, in px.\n    hoverLink: true,\n    // Enable hover highlight.\n    showLabel: null // By default, when text is used, label will hide (the logic\n    // is remained for compatibility reason)\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    PiecewiseModel.superApply(this, 'optionUpdated', arguments);\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._pieceList = [];\n    this.resetExtent();\n    /**\n     * 'pieces', 'categories', 'splitNumber'\n     * @type {string}\n     */\n\n    var mode = this._mode = this._determineMode();\n\n    resetMethods[this._mode].call(this);\n\n    this._resetSelected(newOption, isInit);\n\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          var piece = zrUtil.clone(piece);\n\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n\n          return piece;\n        });\n      }\n    });\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = 0;\n      zrUtil.each(this.stateList, function (state) {\n        exists |= has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n\n    function has(obj, state, visualType) {\n      return obj && obj[state] && (zrUtil.isObject(obj[state]) ? obj[state].hasOwnProperty(visualType) : obj[state] === visualType // e.g., inRange: 'symbol'\n      );\n    }\n\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n  },\n  _resetSelected: function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList; // Selected do not merge but all override.\n\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected; // Consider 'not specified' means true.\n\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n\n        if (selected[key]) {\n          hasSel ? selected[key] = false : hasSel = true;\n        }\n      }, this);\n    } // thisOption.selectedMode === 'multiple', default: all selected.\n\n  },\n\n  /**\n   * @public\n   */\n  getSelectedMapKey: function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  },\n\n  /**\n   * @public\n   */\n  getPieceList: function () {\n    return this._pieceList;\n  },\n\n  /**\n   * @private\n   * @return {string}\n   */\n  _determineMode: function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getValueState: function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  },\n\n  /**\n   * @public\n   * @params {number} pieceIndex piece index in visualMapModel.getPieceList()\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (pieceIndex) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, this._pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, true, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @private\n   * @param {Object} piece piece.value or piece.interval is required.\n   * @return {number} Can be Infinity or -Infinity\n   */\n  getRepresentValue: function (piece) {\n    var representValue;\n\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n\n    return representValue;\n  },\n  getVisualMeta: function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n\n    var stops = [];\n    var outerColors = [];\n    var visualMapModel = this;\n\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      });\n\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n\n      var color = getColorVisual(representValue, valueState);\n\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    } // Suplement\n\n\n    var pieceList = this._pieceList.slice();\n\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  }\n});\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\n\nvar resetMethods = {\n  splitNumber: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber; // Precision auto-adaption\n\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    var index = 0;\n\n    if (thisOption.minOpen) {\n      pieceList.push({\n        index: index++,\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n\n    for (var curr = dataExtent[0], len = index + splitNumber; index < len; curr += splitStep) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      pieceList.push({\n        index: index++,\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n\n    if (thisOption.maxOpen) {\n      pieceList.push({\n        index: index++,\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function () {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME categorypieceListvisualMappingpieceList\n      // \n      this._pieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, this._pieceList);\n  },\n  pieces: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n\n      var item = {\n        text: '',\n        index: index\n      };\n\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommanded.\n        var interval = item.interval = [];\n        var close = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n\n        useMinMax[0] && interval[1] === Infinity && (close[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close[1] = 0);\n\n        if (interval[0] === interval[1] && close[0] && close[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      pieceList.push(item);\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, pieceList); // Only pieces\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', ''][close[1]], ['>', ''][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\n\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\n\nvar _default = PiecewiseModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 418 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar VisualMapView = __webpack_require__(158);\n\nvar graphic = __webpack_require__(2);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar layout = __webpack_require__(6);\n\nvar helper = __webpack_require__(159);\n\nvar PiecewiseVisualMapView = VisualMapView.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n\n    var itemAlign = this._getItemAlign();\n\n    var itemSize = visualMapModel.itemSize;\n\n    var viewData = this._getViewData();\n\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, renderItem, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n\n    function renderItem(item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n\n      var representValue = visualMapModel.getRepresentValue(piece);\n\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]);\n\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            textVerticalAlign: 'middle',\n            textAlign: itemAlign,\n            textFont: textFont,\n            textFill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          }\n        }));\n      }\n\n      thisGroup.add(itemGroup);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLink: function (itemGroup, pieceIndex) {\n    itemGroup.on('mouseover', zrUtil.bind(onHoverLink, this, 'highlight')).on('mouseout', zrUtil.bind(onHoverLink, this, 'downplay'));\n\n    function onHoverLink(method) {\n      var visualMapModel = this.visualMapModel;\n      visualMapModel.option.hoverLink && this.api.dispatchAction({\n        type: method,\n        batch: helper.convertDataIndex(visualMapModel.findTargetDataIndices(pieceIndex))\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _getItemAlign: function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n\n      return align;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        textVerticalAlign: 'middle',\n        textAlign: showLabel ? itemAlign : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n    group.add(itemGroup);\n  },\n\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  _getViewData: function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text'); // Consider orient and inverse.\n\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse'); // Order of model pieceList is always [low, ..., high]\n\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    } // Origin order of endsText is [high, low]\n    else if (endsText) {\n        endsText = endsText.slice().reverse();\n      }\n\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  },\n\n  /**\n   * @private\n   */\n  _createItemSymbol: function (group, representValue, shapeParam) {\n    group.add(createSymbol(this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3], this.getControllerVisual(representValue, 'color')));\n  },\n\n  /**\n   * @private\n   */\n  _onItemClick: function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n\n    if (option.selectedMode === 'single') {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  }\n});\nvar _default = PiecewiseVisualMapView;\nmodule.exports = _default;\n\n/***/ }),\n/* 419 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(420);\n\n__webpack_require__(421);\n\n// HINT Markpoint can't be used too much\necharts.registerPreprocessor(function (opt) {\n  // Make sure markPoint component is enabled\n  opt.markPoint = opt.markPoint || {};\n});\n\n/***/ }),\n/* 420 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar MarkerModel = __webpack_require__(86);\n\nvar _default = MarkerModel.extend({\n  type: 'markPoint',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    //symbolRotate: 0,\n    //symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      normal: {\n        show: true,\n        position: 'inside'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 2\n      }\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 421 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar SymbolDraw = __webpack_require__(44);\n\nvar numberUtil = __webpack_require__(3);\n\nvar List = __webpack_require__(14);\n\nvar markerHelper = __webpack_require__(87);\n\nvar MarkerView = __webpack_require__(88);\n\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n      } else if (coordSys) {\n        var x = mpData.get(coordSys.dimensions[0], idx);\n        var y = mpData.get(coordSys.dimensions[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n\n    mpData.setItemLayout(idx, point);\n  });\n}\n\nvar _default = MarkerView.extend({\n  type: 'markPoint',\n  updateLayout: function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = seriesModel.markPointModel;\n\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createList(coordSys, seriesModel, mpModel); // FIXME\n\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbolSize = itemModel.getShallow('symbolSize');\n\n      if (typeof symbolSize === 'function') {\n        // FIXME  ECharts 2.x2.x \n        symbolSize = symbolSize(mpModel.getRawValue(idx), mpModel.getDataParams(idx));\n      }\n\n      mpData.setItemVisual(idx, {\n        symbolSize: symbolSize,\n        color: itemModel.get('itemStyle.normal.color') || seriesData.getVisual('color'),\n        symbol: itemModel.getShallow('symbol')\n      });\n    }); // TODO Text are wrong\n\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group); // Set host model for tooltip\n    // FIXME\n\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        child.dataModel = mpModel;\n      });\n    });\n    symbolDraw.__keep = true;\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} [coordSys]\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var mpData = new List(coordDimsInfos, mpModel);\n  var dataOpt = zrUtil.map(mpModel.get('data'), zrUtil.curry(markerHelper.dataTransform, seriesModel));\n\n  if (coordSys) {\n    dataOpt = zrUtil.filter(dataOpt, zrUtil.curry(markerHelper.dataFilter, coordSys));\n  }\n\n  mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  });\n  return mpData;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 422 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(423);\n\n__webpack_require__(424);\n\necharts.registerPreprocessor(function (opt) {\n  // Make sure markLine component is enabled\n  opt.markLine = opt.markLine || {};\n});\n\n/***/ }),\n/* 423 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar MarkerModel = __webpack_require__(86);\n\nvar _default = MarkerModel.extend({\n  type: 'markLine',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    //symbolRotate: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      normal: {\n        show: true,\n        position: 'end'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    lineStyle: {\n      normal: {\n        type: 'dashed'\n      },\n      emphasis: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 424 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar List = __webpack_require__(14);\n\nvar numberUtil = __webpack_require__(3);\n\nvar markerHelper = __webpack_require__(87);\n\nvar LineDraw = __webpack_require__(80);\n\nvar MarkerView = __webpack_require__(88);\n\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average'\n\n  var mlType = item.type;\n\n  if (!zrUtil.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' // In case\n  // data: [{\n  //   yAxis: 10\n  // }]\n  || item.xAxis != null || item.yAxis != null)) {\n    var valueAxis;\n    var valueDataDim;\n    var value;\n\n    if (item.yAxis != null || item.xAxis != null) {\n      valueDataDim = item.yAxis != null ? 'y' : 'x';\n      valueAxis = coordSys.getAxis(valueDataDim);\n      value = zrUtil.retrieve(item.yAxis, item.xAxis);\n    } else {\n      var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n      valueDataDim = axisInfo.valueDataDim;\n      valueAxis = axisInfo.valueAxis;\n      value = markerHelper.numCalculate(data, valueDataDim, mlType);\n    }\n\n    var valueIndex = valueDataDim === 'x' ? 0 : 1;\n    var baseIndex = 1 - valueIndex;\n    var mlFrom = zrUtil.clone(item);\n    var mlTo = {};\n    mlFrom.type = null;\n    mlFrom.coord = [];\n    mlTo.coord = [];\n    mlFrom.coord[baseIndex] = -Infinity;\n    mlTo.coord[baseIndex] = Infinity;\n    var precision = mlModel.get('precision');\n\n    if (precision >= 0 && typeof value === 'number') {\n      value = +value.toFixed(Math.min(precision, 20));\n    }\n\n    mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n    item = [mlFrom, mlTo, {\n      // Extra option for tooltip and label\n      type: mlType,\n      valueIndex: item.valueIndex,\n      // Force to use the value of calculated value.\n      value: value\n    }];\n  }\n\n  item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), zrUtil.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n  item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n  zrUtil.merge(item[2], item[0]);\n  zrUtil.merge(item[2], item[1]);\n  return item;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n\n      if (isInifinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInifinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  data.setItemLayout(idx, point);\n}\n\nvar _default = MarkerView.extend({\n  type: 'markLine',\n  updateLayout: function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = seriesModel.markLineModel;\n\n      if (mlModel) {\n        var mlData = mlModel.getData();\n        var fromData = mlModel.__from;\n        var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n        fromData.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData.each(function (idx) {\n          mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    mlModel.__from = fromData;\n    mlModel.__to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData);\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n\n    if (!zrUtil.isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n\n    if (typeof symbolSize === 'number') {\n      symbolSize = [symbolSize, symbolSize];\n    } // Update visual and layout of from symbol and to symbol\n\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineColor = lineData.getItemModel(idx).get('lineStyle.normal.color');\n      lineData.setItemVisual(idx, {\n        color: lineColor || fromData.getItemVisual(idx, 'color')\n      });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      lineData.setItemVisual(idx, {\n        'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n        'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n        'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n        'toSymbol': toData.getItemVisual(idx, 'symbol')\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el, idx) {\n      el.traverse(function (child) {\n        child.dataModel = mlModel;\n      });\n    });\n\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      data.setItemVisual(idx, {\n        symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n        symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n        color: itemModel.get('itemStyle.normal.color') || seriesData.getVisual('color')\n      });\n    }\n\n    lineDraw.__keep = true;\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var fromData = new List(coordDimsInfos, mlModel);\n  var toData = new List(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new List([], mlModel);\n  var optData = zrUtil.map(mlModel.get('data'), zrUtil.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markLineFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  };\n  fromData.initData(zrUtil.map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(zrUtil.map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(zrUtil.map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 425 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\n__webpack_require__(426);\n\n__webpack_require__(427);\n\necharts.registerPreprocessor(function (opt) {\n  // Make sure markArea component is enabled\n  opt.markArea = opt.markArea || {};\n});\n\n/***/ }),\n/* 426 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar MarkerModel = __webpack_require__(86);\n\nvar _default = MarkerModel.extend({\n  type: 'markArea',\n  defaultOption: {\n    zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      normal: {\n        show: true,\n        position: 'top'\n      },\n      emphasis: {\n        show: true,\n        position: 'top'\n      }\n    },\n    itemStyle: {\n      normal: {\n        // color and borderColor default to use color from series\n        // color: 'auto'\n        // borderColor: 'auto'\n        borderWidth: 0\n      }\n    }\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 427 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar colorUtil = __webpack_require__(22);\n\nvar List = __webpack_require__(14);\n\nvar numberUtil = __webpack_require__(3);\n\nvar graphic = __webpack_require__(2);\n\nvar markerHelper = __webpack_require__(87);\n\nvar MarkerView = __webpack_require__(88);\n\n// TODO Better on polar\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  var lt = markerHelper.dataTransform(seriesModel, item[0]);\n  var rb = markerHelper.dataTransform(seriesModel, item[1]);\n  var retrieve = zrUtil.retrieve; // FIXME make sure lt is less than rb\n\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n  var result = zrUtil.mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markArea has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]);\n}\n\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n\n  if (coordSys.type === 'cartesian2d') {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  }) || markerHelper.dataFilter(coordSys, {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  });\n} // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y], true);\n    }\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n\n      if (isInifinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInifinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  return point;\n}\n\nvar dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nMarkerView.extend({\n  type: 'markArea',\n  updateLayout: function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = seriesModel.markAreaModel;\n\n      if (maModel) {\n        var areaData = maModel.getData();\n        areaData.each(function (idx) {\n          var points = zrUtil.map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n          }); // Layout\n\n          areaData.setItemLayout(idx, points);\n          var el = areaData.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesName = seriesModel.name;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesName) || areaGroupMap.set(seriesName, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    polygonGroup.__keep = true;\n    var areaData = createList(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n    maModel.setData(areaData); // Update visual and layout of line\n\n    areaData.each(function (idx) {\n      // Layout\n      areaData.setItemLayout(idx, zrUtil.map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      })); // Visual\n\n      areaData.setItemVisual(idx, {\n        color: seriesData.getVisual('color')\n      });\n    });\n    areaData.diff(polygonGroup.__data).add(function (idx) {\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: areaData.getItemLayout(idx)\n        }\n      });\n      areaData.setItemGraphicEl(idx, polygon);\n      polygonGroup.group.add(polygon);\n    }).update(function (newIdx, oldIdx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n      graphic.updateProps(polygon, {\n        shape: {\n          points: areaData.getItemLayout(newIdx)\n        }\n      }, maModel, newIdx);\n      polygonGroup.group.add(polygon);\n      areaData.setItemGraphicEl(newIdx, polygon);\n    }).remove(function (idx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      var color = areaData.getItemVisual(idx, 'color');\n      polygon.useStyle(zrUtil.defaults(itemModel.getModel('itemStyle.normal').getItemStyle(), {\n        fill: colorUtil.modifyAlpha(color, 0.4),\n        stroke: color\n      }));\n      polygon.hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n      graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        isRectText: true,\n        autoColor: color\n      });\n      graphic.setHoverStyle(polygon, {});\n      polygon.dataModel = maModel;\n    });\n    polygonGroup.__data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\nfunction createList(coordSys, seriesModel, maModel) {\n  var coordDimsInfos;\n  var areaData;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n    areaData = new List(zrUtil.map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos[idx % 2].type\n      };\n    }), maModel);\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new List(coordDimsInfos, maModel);\n  }\n\n  var optData = zrUtil.map(maModel.get('data'), zrUtil.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markAreaFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n  } : function (item) {\n    return item.value;\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}\n\n/***/ }),\n/* 428 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar preprocessor = __webpack_require__(429);\n\n__webpack_require__(430);\n\n__webpack_require__(431);\n\n__webpack_require__(432);\n\n__webpack_require__(434);\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);\n\n/***/ }),\n/* 429 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nfunction _default(option) {\n  var timelineOpt = option && option.timeline;\n\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n\n    compatibleEC2(opt);\n  });\n}\n\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  }; // Compatible with ec2\n\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n\n  transferItem(opt);\n\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n\n    delete opt.controlPosition;\n  }\n\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n\n      transferItem(dataItem);\n    }\n  });\n}\n\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {}); // Transfer label out\n\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\n\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 430 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(13);\n\nComponent.registerSubTypeDefaulter('timeline', function () {\n  // Only slider now.\n  return 'slider';\n});\n\n/***/ }),\n/* 431 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\necharts.registerAction({\n  type: 'timelineChange',\n  event: 'timelineChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.currentIndex != null) {\n    timelineModel.setCurrentIndex(payload.currentIndex);\n\n    if (!timelineModel.get('loop', true) && timelineModel.isIndexMax()) {\n      timelineModel.setPlayState(false);\n    }\n  } // Set normalized currentIndex to payload.\n\n\n  ecModel.resetOption('timeline');\n  return zrUtil.defaults({\n    currentIndex: timelineModel.option.currentIndex\n  }, payload);\n});\necharts.registerAction({\n  type: 'timelinePlayChange',\n  event: 'timelinePlayChanged',\n  update: 'update'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.playState != null) {\n    timelineModel.setPlayState(payload.playState);\n  }\n});\n\n/***/ }),\n/* 432 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar TimelineModel = __webpack_require__(433);\n\nvar modelUtil = __webpack_require__(5);\n\nvar SliderTimelineModel = TimelineModel.extend({\n  type: 'timeline.slider',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // \n    borderWidth: 0,\n    // px0\n    orient: 'horizontal',\n    // 'vertical'\n    inverse: false,\n    tooltip: {\n      // boolean or Object\n      trigger: 'item' // data item may also have tootip attr.\n\n    },\n    symbol: 'emptyCircle',\n    symbolSize: 10,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: '#304654'\n    },\n    label: {\n      // \n      position: 'auto',\n      // auto left right top bottom\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      normal: {\n        show: true,\n        interval: 'auto',\n        rotate: 0,\n        // formatter: null,\n        // TEXTSTYLE\n        color: '#304654'\n      },\n      emphasis: {\n        show: true,\n        // TEXTSTYLE\n        color: '#c23531'\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: '#304654',\n        borderWidth: 1\n      },\n      emphasis: {\n        color: '#c23531'\n      }\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 13,\n      color: '#c23531',\n      borderWidth: 5,\n      borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 22,\n      itemGap: 12,\n      position: 'left',\n      // 'left' 'right' 'top' 'bottom'\n      playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',\n      // jshint ignore:line\n      stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',\n      // jshint ignore:line\n      nextIcon: 'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z',\n      // jshint ignore:line\n      prevIcon: 'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z',\n      // jshint ignore:line\n      normal: {\n        color: '#304654',\n        borderColor: '#304654',\n        borderWidth: 1\n      },\n      emphasis: {\n        color: '#c23531',\n        borderColor: '#c23531',\n        borderWidth: 2\n      }\n    },\n    data: []\n  }\n});\nzrUtil.mixin(SliderTimelineModel, modelUtil.dataFormatMixin);\nvar _default = SliderTimelineModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 433 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar ComponentModel = __webpack_require__(13);\n\nvar List = __webpack_require__(14);\n\nvar modelUtil = __webpack_require__(5);\n\nvar TimelineModel = ComponentModel.extend({\n  type: 'timeline',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    // \n    z: 4,\n    // \n    show: true,\n    axisType: 'time',\n    //  value, category\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: 5,\n    controlPosition: 'left',\n    // 'left' 'right' 'top' 'bottom' 'none'\n    autoPlay: false,\n    rewind: false,\n    // \n    loop: true,\n    playInterval: 2000,\n    // ms\n    currentIndex: 0,\n    itemStyle: {\n      normal: {},\n      emphasis: {}\n    },\n    label: {\n      normal: {\n        color: '#000'\n      },\n      emphasis: {}\n    },\n    data: []\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {module:echarts/data/List}\n     */\n    this._data;\n    /**\n     * @private\n     * @type {Array.<string>}\n     */\n\n    this._names;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._initData();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    TimelineModel.superApply(this, 'mergeOption', arguments);\n\n    this._initData();\n  },\n\n  /**\n   * @param {number} [currentIndex]\n   */\n  setCurrentIndex: function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n\n    var count = this._data.count();\n\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n\n    this.option.currentIndex = currentIndex;\n  },\n\n  /**\n   * @return {number} currentIndex\n   */\n  getCurrentIndex: function () {\n    return this.option.currentIndex;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isIndexMax: function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  },\n\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n  setPlayState: function (state) {\n    this.option.autoPlay = !!state;\n  },\n\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n  getPlayState: function () {\n    return !!this.option.autoPlay;\n  },\n\n  /**\n   * @private\n   */\n  _initData: function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n\n    if (axisType === 'category') {\n      var idxArr = [];\n      zrUtil.each(dataArr, function (item, index) {\n        var value = modelUtil.getDataItemValue(item);\n        var newItem;\n\n        if (zrUtil.isObject(item)) {\n          newItem = zrUtil.clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n\n        idxArr.push(newItem);\n\n        if (!zrUtil.isString(value) && (value == null || isNaN(value))) {\n          value = '';\n        }\n\n        names.push(value + '');\n      });\n      dataArr = idxArr;\n    }\n\n    var dimType = {\n      category: 'ordinal',\n      time: 'time'\n    }[axisType] || 'number';\n    var data = this._data = new List([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(dataArr, names);\n  },\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n  getCategories: function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  }\n});\nvar _default = TimelineModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 434 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(9);\n\nvar matrix = __webpack_require__(16);\n\nvar graphic = __webpack_require__(2);\n\nvar layout = __webpack_require__(6);\n\nvar TimelineView = __webpack_require__(435);\n\nvar TimelineAxis = __webpack_require__(436);\n\nvar _symbol = __webpack_require__(18);\n\nvar createSymbol = _symbol.createSymbol;\n\nvar axisHelper = __webpack_require__(17);\n\nvar numberUtil = __webpack_require__(3);\n\nvar _format = __webpack_require__(8);\n\nvar encodeHTML = _format.encodeHTML;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar PI = Math.PI;\n\nvar _default = TimelineView.extend({\n  type: 'timeline.slider',\n  init: function (ecModel, api) {\n    this.api = api;\n    /**\n     * @private\n     * @type {module:echarts/component/timeline/TimelineAxis}\n     */\n\n    this._axis;\n    /**\n     * @private\n     * @type {module:zrender/core/BoundingRect}\n     */\n\n    this._viewRect;\n    /**\n     * @type {number}\n     */\n\n    this._timer;\n    /**\n     * @type {module:zrender/Element}\n     */\n\n    this._currentPointer;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._labelGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (timelineModel, ecModel, api, payload) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n\n    if (timelineModel.get('show', true)) {\n      var layoutInfo = this._layout(timelineModel, api);\n\n      var mainGroup = this._createGroup('mainGroup');\n\n      var labelGroup = this._createGroup('labelGroup');\n      /**\n       * @private\n       * @type {module:echarts/component/timeline/TimelineAxis}\n       */\n\n\n      var axis = this._axis = this._createAxis(layoutInfo, timelineModel);\n\n      timelineModel.formatTooltip = function (dataIndex) {\n        return encodeHTML(axis.scale.getLabel(dataIndex));\n      };\n\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo, mainGroup, axis, timelineModel);\n      }, this);\n\n      this._renderAxisLabel(layoutInfo, labelGroup, axis, timelineModel);\n\n      this._position(layoutInfo, timelineModel);\n    }\n\n    this._doPlayStop();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearTimer();\n\n    this.group.removeAll();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearTimer();\n  },\n  _layout: function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get('label.normal.position');\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api); // Auto label offset.\n\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      labelPosOpt = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isNaN(labelPosOpt)) {\n      labelPosOpt = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    }\n\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: labelPosOpt >= 0 || labelPosOpt === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: labelPosOpt >= 0 || labelPosOpt === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    }; // Position\n\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show');\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap; // Special label rotate.\n\n    var labelRotation = timelineModel.get('label.normal.rotate') || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var axisExtent;\n    var controlPosition = controlModel.get('position', true);\n    var showControl = controlModel.get('show', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength; // position[0] means left, position[1] means middle.\n\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n\n    axisExtent = [xLeft, xRight];\n\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: labelPosOpt,\n      labelAlign: timelineModel.get('label.normal.align') || labelAlignMap[orient],\n      labelBaseline: timelineModel.get('label.normal.verticalAlign') || timelineModel.get('label.normal.baseline') || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  },\n  _position: function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n\n    if (layoutInfo.orient === 'vertical') {\n      // transfrom to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = mainGroup.position;\n    var labelsPosition = labelGroup.position;\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n\n    if (isNaN(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n\n    mainGroup.attr('position', mainPosition);\n    labelGroup.attr('position', labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n\n    function setOrigin(targetGroup) {\n      var pos = targetGroup.position;\n      targetGroup.origin = [viewBound[0][0] - pos[0], viewBound[1][0] - pos[1]];\n    }\n\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  },\n  _createAxis: function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = axisHelper.createScaleByModel(timelineModel, axisType);\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n\n    this._customizeScale(scale, data);\n\n    scale.niceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  },\n  _customizeScale: function (scale, data) {\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return value;\n      });\n    };\n\n    scale.getTicksLabels = function () {\n      return zrUtil.map(this.getTicks(), scale.getLabel, scale);\n    };\n  },\n  _createGroup: function (name) {\n    var newGroup = this['_' + name] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  },\n  _renderAxisLine: function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n\n    if (!timelineModel.get('lineStyle.show')) {\n      return;\n    }\n\n    group.add(new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: zrUtil.extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisTick: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var ticks = axis.scale.getTicks();\n    each(ticks, function (value, dataIndex) {\n      var tickCoord = axis.dataToCoord(value);\n      var itemModel = data.getItemModel(dataIndex);\n      var itemStyleModel = itemModel.getModel('itemStyle.normal');\n      var hoverStyleModel = itemModel.getModel('itemStyle.emphasis');\n      var symbolOpt = {\n        position: [tickCoord, 0],\n        onclick: bind(this._changeTimeline, this, dataIndex)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      graphic.setHoverStyle(el, hoverStyleModel.getItemStyle());\n\n      if (itemModel.get('tooltip')) {\n        el.dataIndex = dataIndex;\n        el.dataModel = timelineModel;\n      } else {\n        el.dataIndex = el.dataModel = null;\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisLabel: function (layoutInfo, group, axis, timelineModel) {\n    var labelModel = timelineModel.getModel('label.normal');\n\n    if (!labelModel.get('show')) {\n      return;\n    }\n\n    var data = timelineModel.getData();\n    var ticks = axis.scale.getTicks();\n    var labels = axisHelper.getFormattedLabels(axis, labelModel.get('formatter'));\n    var labelInterval = axis.getLabelInterval();\n    each(ticks, function (tick, dataIndex) {\n      if (axis.isLabelIgnored(dataIndex, labelInterval)) {\n        return;\n      }\n\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label.normal');\n      var hoverLabelModel = itemModel.getModel('label.emphasis');\n      var tickCoord = axis.dataToCoord(tick);\n      var textEl = new graphic.Text({\n        position: [tickCoord, 0],\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(this._changeTimeline, this, dataIndex),\n        silent: false\n      });\n      graphic.setTextStyle(textEl.style, normalLabelModel, {\n        text: labels[dataIndex],\n        textAlign: layoutInfo.labelAlign,\n        textVerticalAlign: layoutInfo.labelBaseline\n      });\n      group.add(textEl);\n      graphic.setHoverStyle(textEl, graphic.setTextStyle({}, hoverLabelModel));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderControl: function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle.normal').getItemStyle();\n    var hoverStyle = timelineModel.getModel('controlStyle.emphasis').getItemStyle();\n    var rect = [0, -controlSize / 2, controlSize, controlSize];\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'controlStyle.nextIcon', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'controlStyle.prevIcon', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, 'controlStyle.' + (playState ? 'stopIcon' : 'playIcon'), bind(this._handlePlayClick, this, !playState), true);\n\n    function makeBtn(position, iconPath, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n\n      var opt = {\n        position: position,\n        origin: [controlSize / 2, 0],\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      };\n      var btn = makeIcon(timelineModel, iconPath, rect, opt);\n      group.add(btn);\n      graphic.setHoverStyle(btn, hoverStyle);\n    }\n  },\n  _renderCurrentPointer: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel);\n      }\n    }; // Reuse when exists, for animation and drag.\n\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  },\n  _handlePlayClick: function (nextState) {\n    this._clearTimer();\n\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  },\n  _handlePointerDrag: function (dx, dy, e) {\n    this._clearTimer();\n\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  },\n  _handlePointerDragend: function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  },\n  _pointerChangeTimeline: function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.position[0] = toCoord;\n\n    this._currentPointer.dirty();\n\n    var targetDataIndex = this._findNearestTick(toCoord);\n\n    var timelineModel = this.model;\n\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  },\n  _doPlayStop: function () {\n    this._clearTimer();\n\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(bind(handleFrame, this), this.model.get('playInterval'));\n    }\n\n    function handleFrame() {\n      // Do not cache\n      var timelineModel = this.model;\n\n      this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n    }\n  },\n  _toAxisCoord: function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n\n    return graphic.applyTransform(vertex, trans, true);\n  },\n  _findNearestTick: function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  },\n  _clearTimer: function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  },\n  _changeTimeline: function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  }\n});\n\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  }, model.get('padding'));\n}\n\nfunction makeIcon(timelineModel, objPath, rect, opts) {\n  var icon = graphic.makePath(timelineModel.get(objPath).replace(/^path:\\/\\//, ''), zrUtil.clone(opts || {}), new BoundingRect(rect[0], rect[1], rect[2], rect[3]), 'center');\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\n\n\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n\n    callback && callback.onUpdate(symbol);\n  } // Style\n\n\n  var itemStyle = itemStyleModel.getItemStyle(['color', 'symbol', 'symbolSize']);\n  symbol.setStyle(itemStyle); // Transform and events.\n\n  opt = zrUtil.merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = hostModel.get('symbolSize');\n  symbolSize = symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  symbolSize[0] /= 2;\n  symbolSize[1] /= 2;\n  opt.scale = symbolSize;\n  var symbolOffset = hostModel.get('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = opt.position = opt.position || [0, 0];\n    pos[0] += numberUtil.parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] += numberUtil.parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt); // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n\n  symbol.updateTransform();\n  return symbol;\n}\n\nfunction pointerMoveTo(pointer, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get(['value'], dataIndex));\n\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      position: [toCoord, 0]\n    });\n  } else {\n    pointer.stopAnimation(true);\n    pointer.animateTo({\n      position: [toCoord, 0]\n    }, pointerModel.get('animationDuration', true), pointerModel.get('animationEasing', true));\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 435 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ComponentView = __webpack_require__(73);\n\nvar _default = ComponentView.extend({\n  type: 'timeline'\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 436 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Axis = __webpack_require__(28);\n\nvar axisHelper = __webpack_require__(17);\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar TimelineAxis = function (dim, scale, coordExtent, axisType) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._autoLabelInterval;\n  /**\n   * Axis model\n   * @param {module:echarts/component/TimelineModel}\n   */\n\n  this.model = null;\n};\n\nTimelineAxis.prototype = {\n  constructor: TimelineAxis,\n\n  /**\n   * @public\n   * @return {number}\n   */\n  getLabelInterval: function () {\n    var timelineModel = this.model;\n    var labelModel = timelineModel.getModel('label.normal');\n    var labelInterval = labelModel.get('interval');\n\n    if (labelInterval != null && labelInterval != 'auto') {\n      return labelInterval;\n    }\n\n    var labelInterval = this._autoLabelInterval;\n\n    if (!labelInterval) {\n      labelInterval = this._autoLabelInterval = axisHelper.getAxisLabelInterval(zrUtil.map(this.scale.getTicks(), this.dataToCoord, this), axisHelper.getFormattedLabels(this, labelModel.get('formatter')), labelModel.getFont(), timelineModel.get('orient') === 'horizontal' ? 0 : 90, labelModel.get('rotate'));\n    }\n\n    return labelInterval;\n  },\n\n  /**\n   * If label is ignored.\n   * Automatically used when axis is category and label can not be all shown\n   * @public\n   * @param  {number} idx\n   * @return {boolean}\n   */\n  isLabelIgnored: function (idx) {\n    if (this.type === 'category') {\n      var labelInterval = this.getLabelInterval();\n      return typeof labelInterval === 'function' && !labelInterval(idx, this.scale.getLabel(idx)) || idx % (labelInterval + 1);\n    }\n  }\n};\nzrUtil.inherits(TimelineAxis, Axis);\nvar _default = TimelineAxis;\nmodule.exports = _default;\n\n/***/ }),\n/* 437 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(438);\n\n__webpack_require__(439);\n\n__webpack_require__(440);\n\n__webpack_require__(441);\n\n__webpack_require__(442);\n\n__webpack_require__(443);\n\n__webpack_require__(447);\n\n/***/ }),\n/* 438 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar featureManager = __webpack_require__(29);\n\nvar ToolboxModel = echarts.extendComponentModel({\n  type: 'toolbox',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  mergeDefaultAndTheme: function (option) {\n    ToolboxModel.superApply(this, 'mergeDefaultAndTheme', arguments);\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.get(featureName);\n      Feature && zrUtil.merge(featureOpt, Feature.defaultOption);\n    });\n  },\n  defaultOption: {\n    show: true,\n    z: 6,\n    zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      normal: {\n        borderColor: '#666',\n        color: 'none'\n      },\n      emphasis: {\n        borderColor: '#3E98C5'\n      } // textStyle: {},\n      // feature\n\n    }\n  }\n});\nvar _default = ToolboxModel;\nmodule.exports = _default;\n\n/***/ }),\n/* 439 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(20);\n\nvar featureManager = __webpack_require__(29);\n\nvar graphic = __webpack_require__(2);\n\nvar Model = __webpack_require__(10);\n\nvar DataDiffer = __webpack_require__(38);\n\nvar listComponentHelper = __webpack_require__(148);\n\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getModel('normal').getItemStyle());\n        path.hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n            path.setStyle({\n              text: titles[iconName],\n              textPosition: hoverStyle.textPosition || 'bottom',\n              textFill: hoverStyle.fill || hoverStyle.stroke || '#000',\n              textAlign: hoverStyle.textAlign || 'center'\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  updateLayout: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n    });\n  },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 440 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = __webpack_require__(11);\n\nvar lang = __webpack_require__(40);\n\nvar featureManager = __webpack_require__(29);\n\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n  this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n  show: true,\n  icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n  title: saveAsImageLang.title,\n  type: 'png',\n  // Default use option.backgroundColor\n  // backgroundColor: '#fff',\n  name: '',\n  excludeComponents: ['toolbox'],\n  pixelRatio: 1,\n  lang: saveAsImageLang.lang.slice()\n};\nSaveAsImage.prototype.unusable = !env.canvasSupported;\nvar proto = SaveAsImage.prototype;\n\nproto.onclick = function (ecModel, api) {\n  var model = this.model;\n  var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n  var $a = document.createElement('a');\n  var type = model.get('type', true) || 'png';\n  $a.download = title + '.' + type;\n  $a.target = '_blank';\n  var url = api.getConnectedDataURL({\n    type: type,\n    backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n    excludeComponents: model.get('excludeComponents'),\n    pixelRatio: model.get('pixelRatio')\n  });\n  $a.href = url; // Chrome and Firefox\n\n  if (typeof MouseEvent === 'function' && !env.browser.ie && !env.browser.edge) {\n    var evt = new MouseEvent('click', {\n      view: window,\n      bubbles: true,\n      cancelable: false\n    });\n    $a.dispatchEvent(evt);\n  } // IE\n  else {\n      if (window.navigator.msSaveOrOpenBlob) {\n        var bstr = atob(url.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n      }\n    }\n};\n\nfeatureManager.register('saveAsImage', SaveAsImage);\nvar _default = SaveAsImage;\nmodule.exports = _default;\n\n/***/ }),\n/* 441 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar lang = __webpack_require__(40);\n\nvar featureManager = __webpack_require__(29);\n\nvar magicTypeLang = lang.toolbox.magicType;\n\nfunction MagicType(model) {\n  this.model = model;\n}\n\nMagicType.defaultOption = {\n  show: true,\n  type: [],\n  // Icon group\n  icon: {\n    line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n    bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n    stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z',\n    // jshint ignore:line\n    tiled: 'M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z'\n  },\n  // `line`, `bar`, `stack`, `tiled`\n  title: zrUtil.clone(magicTypeLang.title),\n  option: {},\n  seriesIndex: {}\n};\nvar proto = MagicType.prototype;\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon');\n  var icons = {};\n  zrUtil.each(model.get('type'), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.line') || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.bar') || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line' || seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        stack: '__ec_magicType_stack__'\n      }, model.get('option.stack') || {}, true);\n    }\n  },\n  'tiled': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line' || seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        stack: ''\n      }, model.get('option.tiled') || {}, true);\n    }\n  }\n};\nvar radioTypes = [['line', 'bar'], ['stack', 'tiled']];\n\nproto.onclick = function (ecModel, api, type) {\n  var model = this.model;\n  var seriesIndex = model.get('seriesIndex.' + type); // Not supported magicType\n\n  if (!seriesOptGenreator[type]) {\n    return;\n  }\n\n  var newOption = {\n    series: []\n  };\n\n  var generateNewSeriesTypes = function (seriesModel) {\n    var seriesType = seriesModel.subType;\n    var seriesId = seriesModel.id;\n    var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n    if (newSeriesOpt) {\n      // PENDING If merge original option?\n      zrUtil.defaults(newSeriesOpt, seriesModel.option);\n      newOption.series.push(newSeriesOpt);\n    } // Modify boundaryGap\n\n\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n      var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n      if (categoryAxis) {\n        var axisDim = categoryAxis.dim;\n        var axisType = axisDim + 'Axis';\n        var axisModel = ecModel.queryComponents({\n          mainType: axisType,\n          index: seriesModel.get(name + 'Index'),\n          id: seriesModel.get(name + 'Id')\n        })[0];\n        var axisIndex = axisModel.componentIndex;\n        newOption[axisType] = newOption[axisType] || [];\n\n        for (var i = 0; i <= axisIndex; i++) {\n          newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n        }\n\n        newOption[axisType][axisIndex].boundaryGap = type === 'bar' ? true : false;\n      }\n    }\n  };\n\n  zrUtil.each(radioTypes, function (radio) {\n    if (zrUtil.indexOf(radio, type) >= 0) {\n      zrUtil.each(radio, function (item) {\n        model.setIconStatus(item, 'normal');\n      });\n    }\n  });\n  model.setIconStatus(type, 'emphasis');\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: seriesIndex == null ? null : {\n      seriesIndex: seriesIndex\n    }\n  }, generateNewSeriesTypes);\n  api.dispatchAction({\n    type: 'changeMagicType',\n    currentType: type,\n    newOption: newOption\n  });\n};\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nfeatureManager.register('magicType', MagicType);\nvar _default = MagicType;\nmodule.exports = _default;\n\n/***/ }),\n/* 442 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar eventTool = __webpack_require__(23);\n\nvar lang = __webpack_require__(40);\n\nvar featureManager = __webpack_require__(29);\n\nvar dataViewLang = lang.toolbox.dataView;\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(series) {\n  var tables = [];\n  zrUtil.each(series, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      columns.push(series.getRawData().mapArray(valueAxisDim, function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\n\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\n\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    var items = trim(lines[i]).split(itemSplitRegex);\n    var name = '';\n    var value;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\n\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\n\n\nfunction DataView(model) {\n  this._dom = null;\n  this.model = model;\n}\n\nDataView.defaultOption = {\n  show: true,\n  readOnly: false,\n  optionToContent: null,\n  contentToOption: null,\n  icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n  title: zrUtil.clone(dataViewLang.title),\n  lang: zrUtil.clone(dataViewLang.lang),\n  backgroundColor: '#fff',\n  textColor: '#000',\n  textareaColor: '#fff',\n  textareaBorderColor: '#333',\n  buttonColor: '#c23531',\n  buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n  var container = api.getDom();\n  var model = this.model;\n\n  if (this._dom) {\n    container.removeChild(this._dom);\n  }\n\n  var root = document.createElement('div');\n  root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n  root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n  var header = document.createElement('h4');\n  var lang = model.get('lang') || [];\n  header.innerHTML = lang[0] || model.get('title');\n  header.style.cssText = 'margin: 10px 20px;';\n  header.style.color = model.get('textColor');\n  var viewMain = document.createElement('div');\n  var textarea = document.createElement('textarea');\n  viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n  var optionToContent = model.get('optionToContent');\n  var contentToOption = model.get('contentToOption');\n  var result = getContentFromModel(ecModel);\n\n  if (typeof optionToContent === 'function') {\n    var htmlOrDom = optionToContent(api.getOption());\n\n    if (typeof htmlOrDom === 'string') {\n      viewMain.innerHTML = htmlOrDom;\n    } else if (zrUtil.isDom(htmlOrDom)) {\n      viewMain.appendChild(htmlOrDom);\n    }\n  } else {\n    // Use default textarea\n    viewMain.appendChild(textarea);\n    textarea.readOnly = model.get('readOnly');\n    textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n    textarea.style.color = model.get('textColor');\n    textarea.style.borderColor = model.get('textareaBorderColor');\n    textarea.style.backgroundColor = model.get('textareaColor');\n    textarea.value = result.value;\n  }\n\n  var blockMetaList = result.meta;\n  var buttonContainer = document.createElement('div');\n  buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n  var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n  var closeButton = document.createElement('div');\n  var refreshButton = document.createElement('div');\n  buttonStyle += ';background-color:' + model.get('buttonColor');\n  buttonStyle += ';color:' + model.get('buttonTextColor');\n  var self = this;\n\n  function close() {\n    container.removeChild(root);\n    self._dom = null;\n  }\n\n  eventTool.addEventListener(closeButton, 'click', close);\n  eventTool.addEventListener(refreshButton, 'click', function () {\n    var newOption;\n\n    try {\n      if (typeof contentToOption === 'function') {\n        newOption = contentToOption(viewMain, api.getOption());\n      } else {\n        newOption = parseContents(textarea.value, blockMetaList);\n      }\n    } catch (e) {\n      close();\n      throw new Error('Data view format error ' + e);\n    }\n\n    if (newOption) {\n      api.dispatchAction({\n        type: 'changeDataView',\n        newOption: newOption\n      });\n    }\n\n    close();\n  });\n  closeButton.innerHTML = lang[1];\n  refreshButton.innerHTML = lang[2];\n  refreshButton.style.cssText = buttonStyle;\n  closeButton.style.cssText = buttonStyle;\n  !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n  buttonContainer.appendChild(closeButton); // http://stackoverflow.com/questions/6637341/use-tab-to-indent-in-textarea\n\n  eventTool.addEventListener(textarea, 'keydown', function (e) {\n    if ((e.keyCode || e.which) === 9) {\n      // get caret position/selection\n      var val = this.value;\n      var start = this.selectionStart;\n      var end = this.selectionEnd; // set textarea value to: text before caret + tab + text after caret\n\n      this.value = val.substring(0, start) + ITEM_SPLITER + val.substring(end); // put caret at right position again\n\n      this.selectionStart = this.selectionEnd = start + 1; // prevent the focus lose\n\n      eventTool.stop(e);\n    }\n  });\n  root.appendChild(header);\n  root.appendChild(viewMain);\n  root.appendChild(buttonContainer);\n  viewMain.style.height = container.clientHeight - 80 + 'px';\n  container.appendChild(root);\n  this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n  this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n  this.remove(ecModel, api);\n};\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      if (zrUtil.isObject(newVal) && !zrUtil.isArray(newVal)) {\n        newVal = newVal.value;\n      } // Original data has option\n\n\n      return zrUtil.defaults({\n        value: newVal\n      }, original);\n    } else {\n      return newVal;\n    }\n  });\n}\n\nfeatureManager.register('dataView', DataView);\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nvar _default = DataView;\nmodule.exports = _default;\n\n/***/ }),\n/* 443 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar zrUtil = __webpack_require__(0);\n\nvar BrushController = __webpack_require__(82);\n\nvar BrushTargetManager = __webpack_require__(149);\n\nvar history = __webpack_require__(161);\n\nvar sliderMove = __webpack_require__(47);\n\nvar lang = __webpack_require__(40);\n\nvar featureManager = __webpack_require__(29);\n\n__webpack_require__(444);\n\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each = zrUtil.each; // Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\n\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n  /**\n   * @private\n   * @type {module:echarts/component/helper/BrushController}\n   */\n  (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n  show: true,\n  // Icon group\n  icon: {\n    zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n    back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n  },\n  // `zoom`, `back`\n  title: zrUtil.clone(dataZoomLang.title)\n};\nvar proto = DataZoom.prototype;\n\nproto.render = function (featureModel, ecModel, api, payload) {\n  this.model = featureModel;\n  this.ecModel = ecModel;\n  this.api = api;\n  updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n  updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto.onclick = function (ecModel, api, type) {\n  handlers[type].call(this);\n};\n\nproto.remove = function (ecModel, api) {\n  this._brushController.unmount();\n};\n\nproto.dispose = function (ecModel, api) {\n  this._brushController.dispose();\n};\n/**\n * @private\n */\n\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n/**\n * @private\n */\n\nproto._onBrush = function (areas, opt) {\n  if (!opt.isEnd || !areas.length) {\n    return;\n  }\n\n  var snapshot = {};\n  var ecModel = this.ecModel;\n\n  this._brushController.updateCovers([]); // remove cover\n\n\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(this.model.option), ecModel, {\n    include: ['grid']\n  });\n  brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var brushType = area.brushType;\n\n    if (brushType === 'rect') {\n      setBatch('x', coordSys, coordRange[0]);\n      setBatch('y', coordSys, coordRange[1]);\n    } else {\n      setBatch({\n        lineX: 'x',\n        lineY: 'y'\n      }[brushType], coordSys, coordRange);\n    }\n  });\n  history.push(ecModel, snapshot);\n\n  this._dispatchZoomAction(snapshot);\n\n  function setBatch(dimName, coordSys, minMax) {\n    var axis = coordSys.getAxis(dimName);\n    var axisModel = axis.model;\n    var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n    if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n      minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n    }\n\n    dataZoomModel && (snapshot[dataZoomModel.id] = {\n      dataZoomId: dataZoomModel.id,\n      startValue: minMax[0],\n      endValue: minMax[1]\n    });\n  }\n\n  function findDataZoom(dimName, axisModel, ecModel) {\n    var found;\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'select'\n    }, function (dzModel) {\n      var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n      has && (found = dzModel);\n    });\n    return found;\n  }\n};\n/**\n * @private\n */\n\n\nproto._dispatchZoomAction = function (snapshot) {\n  var batch = []; // Convert from hash map to array.\n\n  each(snapshot, function (batchItem, dataZoomId) {\n    batch.push(zrUtil.clone(batchItem));\n  });\n  batch.length && this.api.dispatchAction({\n    type: 'dataZoom',\n    from: this.uid,\n    batch: batch\n  });\n};\n\nfunction retrieveAxisSetting(option) {\n  var setting = {}; // Compatible with previous setting: null => all axis, false => no axis.\n\n  zrUtil.each(['xAxisIndex', 'yAxisIndex'], function (name) {\n    setting[name] = option[name];\n    setting[name] == null && (setting[name] = 'all');\n    (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n  });\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(featureModel.option), ecModel, {\n    include: ['grid']\n  });\n\n  view._brushController.setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  })).enableBrush(zoomActive ? {\n    brushType: 'auto',\n    brushStyle: {\n      // FIXME user customized?\n      lineWidth: 0,\n      fill: 'rgba(0,0,0,0.2)'\n    }\n  } : false);\n}\n\nfeatureManager.register('dataZoom', DataZoom); // Create special dataZoom option for select\n\necharts.registerPreprocessor(function (option) {\n  if (!option) {\n    return;\n  }\n\n  var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n\n  if (!zrUtil.isArray(dataZoomOpts)) {\n    option.dataZoom = dataZoomOpts = [dataZoomOpts];\n  }\n\n  var toolboxOpt = option.toolbox;\n\n  if (toolboxOpt) {\n    // Assume there is only one toolbox\n    if (zrUtil.isArray(toolboxOpt)) {\n      toolboxOpt = toolboxOpt[0];\n    }\n\n    if (toolboxOpt && toolboxOpt.feature) {\n      var dataZoomOpt = toolboxOpt.feature.dataZoom;\n      addForAxis('xAxis', dataZoomOpt);\n      addForAxis('yAxis', dataZoomOpt);\n    }\n  }\n\n  function addForAxis(axisName, dataZoomOpt) {\n    if (!dataZoomOpt) {\n      return;\n    } // Try not to modify model, because it is not merged yet.\n\n\n    var axisIndicesName = axisName + 'Index';\n    var givenAxisIndices = dataZoomOpt[axisIndicesName];\n\n    if (givenAxisIndices != null && givenAxisIndices != 'all' && !zrUtil.isArray(givenAxisIndices)) {\n      givenAxisIndices = givenAxisIndices === false || givenAxisIndices === 'none' ? [] : [givenAxisIndices];\n    }\n\n    forEachComponent(axisName, function (axisOpt, axisIndex) {\n      if (givenAxisIndices != null && givenAxisIndices != 'all' && zrUtil.indexOf(givenAxisIndices, axisIndex) === -1) {\n        return;\n      }\n\n      var newOpt = {\n        type: 'select',\n        $fromToolbox: true,\n        // Id for merge mapping.\n        id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n      }; // FIXME\n      // Only support one axis now.\n\n      newOpt[axisIndicesName] = axisIndex;\n      dataZoomOpts.push(newOpt);\n    });\n  }\n\n  function forEachComponent(mainType, cb) {\n    var opts = option[mainType];\n\n    if (!zrUtil.isArray(opts)) {\n      opts = opts ? [opts] : [];\n    }\n\n    each(opts, cb);\n  }\n});\nvar _default = DataZoom;\nmodule.exports = _default;\n\n/***/ }),\n/* 444 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(150);\n\n__webpack_require__(49);\n\n__webpack_require__(50);\n\n__webpack_require__(445);\n\n__webpack_require__(446);\n\n__webpack_require__(151);\n\n__webpack_require__(152);\n\n/***/ }),\n/* 445 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DataZoomModel = __webpack_require__(49);\n\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 446 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DataZoomView = __webpack_require__(50);\n\nvar _default = DataZoomView.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 447 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(1);\n\nvar history = __webpack_require__(161);\n\nvar lang = __webpack_require__(40);\n\nvar featureManager = __webpack_require__(29);\n\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n  this.model = model;\n}\n\nRestore.defaultOption = {\n  show: true,\n  icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n  title: restoreLang.title\n};\nvar proto = Restore.prototype;\n\nproto.onclick = function (ecModel, api, type) {\n  history.clear(ecModel);\n  api.dispatchAction({\n    type: 'restore',\n    from: this.uid\n  });\n};\n\nfeatureManager.register('restore', Restore);\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nvar _default = Restore;\nmodule.exports = _default;\n\n/***/ }),\n/* 448 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(449);\n\nvar _zrender = __webpack_require__(51);\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = __webpack_require__(450);\n\nregisterPainter('vml', Painter);\n\n/***/ }),\n/* 449 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = __webpack_require__(11);\n\nvar _vector = __webpack_require__(7);\n\nvar applyTransform = _vector.applyTransform;\n\nvar BoundingRect = __webpack_require__(9);\n\nvar colorTool = __webpack_require__(22);\n\nvar textContain = __webpack_require__(20);\n\nvar textHelper = __webpack_require__(55);\n\nvar RectText = __webpack_require__(99);\n\nvar Displayable = __webpack_require__(54);\n\nvar ZImage = __webpack_require__(42);\n\nvar Text = __webpack_require__(43);\n\nvar Path = __webpack_require__(12);\n\nvar PathProxy = __webpack_require__(37);\n\nvar Gradient = __webpack_require__(56);\n\nvar vmlCore = __webpack_require__(162);\n\n// http://www.w3.org/TR/NOTE-VML\n// TODO Use proxy like svg instead of overwrite brush methods\nvar CMD = PathProxy.CMD;\nvar round = Math.round;\nvar sqrt = Math.sqrt;\nvar abs = Math.abs;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar mathMax = Math.max;\n\nif (!env.canvasSupported) {\n  var comma = ',';\n  var imageTransformPrefix = 'progid:DXImageTransform.Microsoft';\n  var Z = 21600;\n  var Z2 = Z / 2;\n  var ZLEVEL_BASE = 100000;\n  var Z_BASE = 1000;\n\n  var initRootElStyle = function (el) {\n    el.style.cssText = 'position:absolute;left:0;top:0;width:1px;height:1px;';\n    el.coordsize = Z + ',' + Z;\n    el.coordorigin = '0,0';\n  };\n\n  var encodeHtmlAttribute = function (s) {\n    return String(s).replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n  };\n\n  var rgb2Str = function (r, g, b) {\n    return 'rgb(' + [r, g, b].join(',') + ')';\n  };\n\n  var append = function (parent, child) {\n    if (child && parent && child.parentNode !== parent) {\n      parent.appendChild(child);\n    }\n  };\n\n  var remove = function (parent, child) {\n    if (child && parent && child.parentNode === parent) {\n      parent.removeChild(child);\n    }\n  };\n\n  var getZIndex = function (zlevel, z, z2) {\n    // z  [0, 1000]\n    return (parseFloat(zlevel) || 0) * ZLEVEL_BASE + (parseFloat(z) || 0) * Z_BASE + z2;\n  };\n\n  var parsePercent = function (value, maxValue) {\n    if (typeof value === 'string') {\n      if (value.lastIndexOf('%') >= 0) {\n        return parseFloat(value) / 100 * maxValue;\n      }\n\n      return parseFloat(value);\n    }\n\n    return value;\n  };\n  /***************************************************\n   * PATH\n   **************************************************/\n\n\n  var setColorAndOpacity = function (el, color, opacity) {\n    var colorArr = colorTool.parse(color);\n    opacity = +opacity;\n\n    if (isNaN(opacity)) {\n      opacity = 1;\n    }\n\n    if (colorArr) {\n      el.color = rgb2Str(colorArr[0], colorArr[1], colorArr[2]);\n      el.opacity = opacity * colorArr[3];\n    }\n  };\n\n  var getColorAndAlpha = function (color) {\n    var colorArr = colorTool.parse(color);\n    return [rgb2Str(colorArr[0], colorArr[1], colorArr[2]), colorArr[3]];\n  };\n\n  var updateFillNode = function (el, style, zrEl) {\n    // TODO pattern\n    var fill = style.fill;\n\n    if (fill != null) {\n      // Modified from excanvas\n      if (fill instanceof Gradient) {\n        var gradientType;\n        var angle = 0;\n        var focus = [0, 0]; // additional offset\n\n        var shift = 0; // scale factor for offset\n\n        var expansion = 1;\n        var rect = zrEl.getBoundingRect();\n        var rectWidth = rect.width;\n        var rectHeight = rect.height;\n\n        if (fill.type === 'linear') {\n          gradientType = 'gradient';\n          var transform = zrEl.transform;\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var p1 = [fill.x2 * rectWidth, fill.y2 * rectHeight];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n            applyTransform(p1, p1, transform);\n          }\n\n          var dx = p1[0] - p0[0];\n          var dy = p1[1] - p0[1];\n          angle = Math.atan2(dx, dy) * 180 / Math.PI; // The angle should be a non-negative number.\n\n          if (angle < 0) {\n            angle += 360;\n          } // Very small angles produce an unexpected result because they are\n          // converted to a scientific notation string.\n\n\n          if (angle < 1e-6) {\n            angle = 0;\n          }\n        } else {\n          gradientType = 'gradientradial';\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var transform = zrEl.transform;\n          var scale = zrEl.scale;\n          var width = rectWidth;\n          var height = rectHeight;\n          focus = [// Percent in bounding rect\n          (p0[0] - rect.x) / width, (p0[1] - rect.y) / height];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n          }\n\n          width /= scale[0] * Z;\n          height /= scale[1] * Z;\n          var dimension = mathMax(width, height);\n          shift = 2 * 0 / dimension;\n          expansion = 2 * fill.r / dimension - shift;\n        } // We need to sort the color stops in ascending order by offset,\n        // otherwise IE won't interpret it correctly.\n\n\n        var stops = fill.colorStops.slice();\n        stops.sort(function (cs1, cs2) {\n          return cs1.offset - cs2.offset;\n        });\n        var length = stops.length; // Color and alpha list of first and last stop\n\n        var colorAndAlphaList = [];\n        var colors = [];\n\n        for (var i = 0; i < length; i++) {\n          var stop = stops[i];\n          var colorAndAlpha = getColorAndAlpha(stop.color);\n          colors.push(stop.offset * expansion + shift + ' ' + colorAndAlpha[0]);\n\n          if (i === 0 || i === length - 1) {\n            colorAndAlphaList.push(colorAndAlpha);\n          }\n        }\n\n        if (length >= 2) {\n          var color1 = colorAndAlphaList[0][0];\n          var color2 = colorAndAlphaList[1][0];\n          var opacity1 = colorAndAlphaList[0][1] * style.opacity;\n          var opacity2 = colorAndAlphaList[1][1] * style.opacity;\n          el.type = gradientType;\n          el.method = 'none';\n          el.focus = '100%';\n          el.angle = angle;\n          el.color = color1;\n          el.color2 = color2;\n          el.colors = colors.join(','); // When colors attribute is used, the meanings of opacity and o:opacity2\n          // are reversed.\n\n          el.opacity = opacity2; // FIXME g_o_:opacity ?\n\n          el.opacity2 = opacity1;\n        }\n\n        if (gradientType === 'radial') {\n          el.focusposition = focus.join(',');\n        }\n      } else {\n        // FIXME Change from Gradient fill to color fill\n        setColorAndOpacity(el, fill, style.opacity);\n      }\n    }\n  };\n\n  var updateStrokeNode = function (el, style) {\n    // if (style.lineJoin != null) {\n    //     el.joinstyle = style.lineJoin;\n    // }\n    // if (style.miterLimit != null) {\n    //     el.miterlimit = style.miterLimit * Z;\n    // }\n    // if (style.lineCap != null) {\n    //     el.endcap = style.lineCap;\n    // }\n    if (style.lineDash != null) {\n      el.dashstyle = style.lineDash.join(' ');\n    }\n\n    if (style.stroke != null && !(style.stroke instanceof Gradient)) {\n      setColorAndOpacity(el, style.stroke, style.opacity);\n    }\n  };\n\n  var updateFillAndStroke = function (vmlEl, type, style, zrEl) {\n    var isFill = type == 'fill';\n    var el = vmlEl.getElementsByTagName(type)[0]; // Stroke must have lineWidth\n\n    if (style[type] != null && style[type] !== 'none' && (isFill || !isFill && style.lineWidth)) {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'true'; // FIXME Remove before updating, or set `colors` will throw error\n\n      if (style[type] instanceof Gradient) {\n        remove(vmlEl, el);\n      }\n\n      if (!el) {\n        el = vmlCore.createNode(type);\n      }\n\n      isFill ? updateFillNode(el, style, zrEl) : updateStrokeNode(el, style);\n      append(vmlEl, el);\n    } else {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'false';\n      remove(vmlEl, el);\n    }\n  };\n\n  var points = [[], [], []];\n\n  var pathDataToString = function (path, m) {\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    var str = [];\n    var nPoint;\n    var cmdStr;\n    var cmd;\n    var i;\n    var xi;\n    var yi;\n    var data = path.data;\n    var dataLength = path.len();\n\n    for (i = 0; i < dataLength;) {\n      cmd = data[i++];\n      cmdStr = '';\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          cmdStr = ' m ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case L:\n          cmdStr = ' l ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case Q:\n        case C:\n          cmdStr = ' c ';\n          nPoint = 3;\n          var x1 = data[i++];\n          var y1 = data[i++];\n          var x2 = data[i++];\n          var y2 = data[i++];\n          var x3;\n          var y3;\n\n          if (cmd === Q) {\n            // Convert quadratic to cubic using degree elevation\n            x3 = x2;\n            y3 = y2;\n            x2 = (x2 + 2 * x1) / 3;\n            y2 = (y2 + 2 * y1) / 3;\n            x1 = (xi + 2 * x1) / 3;\n            y1 = (yi + 2 * y1) / 3;\n          } else {\n            x3 = data[i++];\n            y3 = data[i++];\n          }\n\n          points[0][0] = x1;\n          points[0][1] = y1;\n          points[1][0] = x2;\n          points[1][1] = y2;\n          points[2][0] = x3;\n          points[2][1] = y3;\n          xi = x3;\n          yi = y3;\n          break;\n\n        case A:\n          var x = 0;\n          var y = 0;\n          var sx = 1;\n          var sy = 1;\n          var angle = 0;\n\n          if (m) {\n            // Extract SRT from matrix\n            x = m[4];\n            y = m[5];\n            sx = sqrt(m[0] * m[0] + m[1] * m[1]);\n            sy = sqrt(m[2] * m[2] + m[3] * m[3]);\n            angle = Math.atan2(-m[1] / sy, m[0] / sx);\n          }\n\n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++] + angle;\n          var endAngle = data[i++] + startAngle + angle; // FIXME\n          // var psi = data[i++];\n\n          i++;\n          var clockwise = data[i++];\n          var x0 = cx + cos(startAngle) * rx;\n          var y0 = cy + sin(startAngle) * ry;\n          var x1 = cx + cos(endAngle) * rx;\n          var y1 = cy + sin(endAngle) * ry;\n          var type = clockwise ? ' wa ' : ' at ';\n\n          if (Math.abs(x0 - x1) < 1e-4) {\n            // IE won't render arches drawn counter clockwise if x0 == x1.\n            if (Math.abs(endAngle - startAngle) > 1e-2) {\n              // Offset x0 by 1/80 of a pixel. Use something\n              // that can be represented in binary\n              if (clockwise) {\n                x0 += 270 / Z;\n              }\n            } else {\n              // Avoid case draw full circle\n              if (Math.abs(y0 - cy) < 1e-4) {\n                if (clockwise && x0 < cx || !clockwise && x0 > cx) {\n                  y1 -= 270 / Z;\n                } else {\n                  y1 += 270 / Z;\n                }\n              } else if (clockwise && y0 < cy || !clockwise && y0 > cy) {\n                x1 += 270 / Z;\n              } else {\n                x1 -= 270 / Z;\n              }\n            }\n          }\n\n          str.push(type, round(((cx - rx) * sx + x) * Z - Z2), comma, round(((cy - ry) * sy + y) * Z - Z2), comma, round(((cx + rx) * sx + x) * Z - Z2), comma, round(((cy + ry) * sy + y) * Z - Z2), comma, round((x0 * sx + x) * Z - Z2), comma, round((y0 * sy + y) * Z - Z2), comma, round((x1 * sx + x) * Z - Z2), comma, round((y1 * sy + y) * Z - Z2));\n          xi = x1;\n          yi = y1;\n          break;\n\n        case CMD.R:\n          var p0 = points[0];\n          var p1 = points[1]; // x0, y0\n\n          p0[0] = data[i++];\n          p0[1] = data[i++]; // x1, y1\n\n          p1[0] = p0[0] + data[i++];\n          p1[1] = p0[1] + data[i++];\n\n          if (m) {\n            applyTransform(p0, p0, m);\n            applyTransform(p1, p1, m);\n          }\n\n          p0[0] = round(p0[0] * Z - Z2);\n          p1[0] = round(p1[0] * Z - Z2);\n          p0[1] = round(p0[1] * Z - Z2);\n          p1[1] = round(p1[1] * Z - Z2);\n          str.push( // x0, y0\n          ' m ', p0[0], comma, p0[1], // x1, y0\n          ' l ', p1[0], comma, p0[1], // x1, y1\n          ' l ', p1[0], comma, p1[1], // x0, y1\n          ' l ', p0[0], comma, p1[1]);\n          break;\n\n        case CMD.Z:\n          // FIXME Update xi, yi\n          str.push(' x ');\n      }\n\n      if (nPoint > 0) {\n        str.push(cmdStr);\n\n        for (var k = 0; k < nPoint; k++) {\n          var p = points[k];\n          m && applyTransform(p, p, m); //  round \n\n          str.push(round(p[0] * Z - Z2), comma, round(p[1] * Z - Z2), k < nPoint - 1 ? comma : '');\n        }\n      }\n    }\n\n    return str.join('');\n  }; // Rewrite the original path method\n\n\n  Path.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      vmlEl = vmlCore.createNode('shape');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    updateFillAndStroke(vmlEl, 'fill', style, this);\n    updateFillAndStroke(vmlEl, 'stroke', style, this);\n    var m = this.transform;\n    var needTransform = m != null;\n    var strokeEl = vmlEl.getElementsByTagName('stroke')[0];\n\n    if (strokeEl) {\n      var lineWidth = style.lineWidth; // Get the line scale.\n      // Determinant of this.m_ means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      if (needTransform && !style.strokeNoScale) {\n        var det = m[0] * m[3] - m[1] * m[2];\n        lineWidth *= sqrt(abs(det));\n      }\n\n      strokeEl.weight = lineWidth + 'px';\n    }\n\n    var path = this.path || (this.path = new PathProxy());\n\n    if (this.__dirtyPath) {\n      path.beginPath();\n      this.buildPath(path, this.shape);\n      path.toStatic();\n      this.__dirtyPath = false;\n    }\n\n    vmlEl.path = pathDataToString(path, this.transform);\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Path.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this.removeRectText(vmlRoot);\n  };\n\n  Path.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * IMAGE\n   **************************************************/\n\n\n  var isImage = function (img) {\n    // FIXME img instanceof Image  img IE8 \n    return typeof img === 'object' && img.tagName && img.tagName.toUpperCase() === 'IMG'; // return img instanceof Image;\n  }; // Rewrite the original path method\n\n\n  ZImage.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var image = style.image; // Image original width, height\n\n    var ow;\n    var oh;\n\n    if (isImage(image)) {\n      var src = image.src;\n\n      if (src === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      } else {\n        var imageRuntimeStyle = image.runtimeStyle;\n        var oldRuntimeWidth = imageRuntimeStyle.width;\n        var oldRuntimeHeight = imageRuntimeStyle.height;\n        imageRuntimeStyle.width = 'auto';\n        imageRuntimeStyle.height = 'auto'; // get the original size\n\n        ow = image.width;\n        oh = image.height; // and remove overides\n\n        imageRuntimeStyle.width = oldRuntimeWidth;\n        imageRuntimeStyle.height = oldRuntimeHeight; // Caching image original width, height and src\n\n        this._imageSrc = src;\n        this._imageWidth = ow;\n        this._imageHeight = oh;\n      }\n\n      image = src;\n    } else {\n      if (image === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      }\n    }\n\n    if (!image) {\n      return;\n    }\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var sw = style.sWidth;\n    var sh = style.sHeight;\n    var sx = style.sx || 0;\n    var sy = style.sy || 0;\n    var hasCrop = sw && sh;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      // FIXME  group  left, top  0 \n      // vmlEl = vmlCore.createNode('group');\n      vmlEl = vmlCore.doc.createElement('div');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    var vmlElStyle = vmlEl.style;\n    var hasRotation = false;\n    var m;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    if (this.transform) {\n      m = this.transform;\n      scaleX = sqrt(m[0] * m[0] + m[1] * m[1]);\n      scaleY = sqrt(m[2] * m[2] + m[3] * m[3]);\n      hasRotation = m[1] || m[2];\n    }\n\n    if (hasRotation) {\n      // If filters are necessary (rotation exists), create them\n      // filters are bog-slow, so only create them if abbsolutely necessary\n      // The following check doesn't account for skews (which don't exist\n      // in the canvas spec (yet) anyway.\n      // From excanvas\n      var p0 = [x, y];\n      var p1 = [x + dw, y];\n      var p2 = [x, y + dh];\n      var p3 = [x + dw, y + dh];\n      applyTransform(p0, p0, m);\n      applyTransform(p1, p1, m);\n      applyTransform(p2, p2, m);\n      applyTransform(p3, p3, m);\n      var maxX = mathMax(p0[0], p1[0], p2[0], p3[0]);\n      var maxY = mathMax(p0[1], p1[1], p2[1], p3[1]);\n      var transformFilter = [];\n      transformFilter.push('M11=', m[0] / scaleX, comma, 'M12=', m[2] / scaleY, comma, 'M21=', m[1] / scaleX, comma, 'M22=', m[3] / scaleY, comma, 'Dx=', round(x * scaleX + m[4]), comma, 'Dy=', round(y * scaleY + m[5]));\n      vmlElStyle.padding = '0 ' + round(maxX) + 'px ' + round(maxY) + 'px 0'; // FIXME DXImageTransform  IE11 \n\n      vmlElStyle.filter = imageTransformPrefix + '.Matrix(' + transformFilter.join('') + ', SizingMethod=clip)';\n    } else {\n      if (m) {\n        x = x * scaleX + m[4];\n        y = y * scaleY + m[5];\n      }\n\n      vmlElStyle.filter = '';\n      vmlElStyle.left = round(x) + 'px';\n      vmlElStyle.top = round(y) + 'px';\n    }\n\n    var imageEl = this._imageEl;\n    var cropEl = this._cropEl;\n\n    if (!imageEl) {\n      imageEl = vmlCore.doc.createElement('div');\n      this._imageEl = imageEl;\n    }\n\n    var imageELStyle = imageEl.style;\n\n    if (hasCrop) {\n      // Needs know image original width and height\n      if (!(ow && oh)) {\n        var tmpImage = new Image();\n        var self = this;\n\n        tmpImage.onload = function () {\n          tmpImage.onload = null;\n          ow = tmpImage.width;\n          oh = tmpImage.height; // Adjust image width and height to fit the ratio destinationSize / sourceSize\n\n          imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n          imageELStyle.height = round(scaleY * oh * dh / sh) + 'px'; // Caching image original width, height and src\n\n          self._imageWidth = ow;\n          self._imageHeight = oh;\n          self._imageSrc = image;\n        };\n\n        tmpImage.src = image;\n      } else {\n        imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n        imageELStyle.height = round(scaleY * oh * dh / sh) + 'px';\n      }\n\n      if (!cropEl) {\n        cropEl = vmlCore.doc.createElement('div');\n        cropEl.style.overflow = 'hidden';\n        this._cropEl = cropEl;\n      }\n\n      var cropElStyle = cropEl.style;\n      cropElStyle.width = round((dw + sx * dw / sw) * scaleX);\n      cropElStyle.height = round((dh + sy * dh / sh) * scaleY);\n      cropElStyle.filter = imageTransformPrefix + '.Matrix(Dx=' + -sx * dw / sw * scaleX + ',Dy=' + -sy * dh / sh * scaleY + ')';\n\n      if (!cropEl.parentNode) {\n        vmlEl.appendChild(cropEl);\n      }\n\n      if (imageEl.parentNode != cropEl) {\n        cropEl.appendChild(imageEl);\n      }\n    } else {\n      imageELStyle.width = round(scaleX * dw) + 'px';\n      imageELStyle.height = round(scaleY * dh) + 'px';\n      vmlEl.appendChild(imageEl);\n\n      if (cropEl && cropEl.parentNode) {\n        vmlEl.removeChild(cropEl);\n        this._cropEl = null;\n      }\n    }\n\n    var filterStr = '';\n    var alpha = style.opacity;\n\n    if (alpha < 1) {\n      filterStr += '.Alpha(opacity=' + round(alpha * 100) + ') ';\n    }\n\n    filterStr += imageTransformPrefix + '.AlphaImageLoader(src=' + image + ', SizingMethod=scale)';\n    imageELStyle.filter = filterStr;\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    }\n  };\n\n  ZImage.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this._vmlEl = null;\n    this._cropEl = null;\n    this._imageEl = null;\n    this.removeRectText(vmlRoot);\n  };\n\n  ZImage.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * TEXT\n   **************************************************/\n\n\n  var DEFAULT_STYLE_NORMAL = 'normal';\n  var fontStyleCache = {};\n  var fontStyleCacheCount = 0;\n  var MAX_FONT_CACHE_SIZE = 100;\n  var fontEl = document.createElement('div');\n\n  var getFontStyle = function (fontString) {\n    var fontStyle = fontStyleCache[fontString];\n\n    if (!fontStyle) {\n      // Clear cache\n      if (fontStyleCacheCount > MAX_FONT_CACHE_SIZE) {\n        fontStyleCacheCount = 0;\n        fontStyleCache = {};\n      }\n\n      var style = fontEl.style;\n      var fontFamily;\n\n      try {\n        style.font = fontString;\n        fontFamily = style.fontFamily.split(',')[0];\n      } catch (e) {}\n\n      fontStyle = {\n        style: style.fontStyle || DEFAULT_STYLE_NORMAL,\n        variant: style.fontVariant || DEFAULT_STYLE_NORMAL,\n        weight: style.fontWeight || DEFAULT_STYLE_NORMAL,\n        size: parseFloat(style.fontSize || 12) | 0,\n        family: fontFamily || 'Microsoft YaHei'\n      };\n      fontStyleCache[fontString] = fontStyle;\n      fontStyleCacheCount++;\n    }\n\n    return fontStyle;\n  };\n\n  var textMeasureEl; // Overwrite measure text method\n\n  textContain.$override('measureText', function (text, textFont) {\n    var doc = vmlCore.doc;\n\n    if (!textMeasureEl) {\n      textMeasureEl = doc.createElement('div');\n      textMeasureEl.style.cssText = 'position:absolute;top:-20000px;left:0;' + 'padding:0;margin:0;border:none;white-space:pre;';\n      vmlCore.doc.body.appendChild(textMeasureEl);\n    }\n\n    try {\n      textMeasureEl.style.font = textFont;\n    } catch (ex) {// Ignore failures to set to invalid font.\n    }\n\n    textMeasureEl.innerHTML = ''; // Don't use innerHTML or innerText because they allow markup/whitespace.\n\n    textMeasureEl.appendChild(doc.createTextNode(text));\n    return {\n      width: textMeasureEl.offsetWidth\n    };\n  });\n  var tmpRect = new BoundingRect();\n\n  var drawRectText = function (vmlRoot, rect, textRect, fromTextEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!text) {\n      return;\n    } // Convert rich text to plain text. Rich text is not supported in\n    // IE8-, but tags in rich text template will be removed.\n\n\n    if (style.rich) {\n      var contentBlock = textContain.parseRichText(text, style);\n      text = [];\n\n      for (var i = 0; i < contentBlock.lines.length; i++) {\n        var tokens = contentBlock.lines[i].tokens;\n        var textLine = [];\n\n        for (var j = 0; j < tokens.length; j++) {\n          textLine.push(tokens[j].text);\n        }\n\n        text.push(textLine.join(''));\n      }\n\n      text = text.join('\\n');\n    }\n\n    var x;\n    var y;\n    var align = style.textAlign;\n    var verticalAlign = style.textVerticalAlign;\n    var fontStyle = getFontStyle(style.font); // FIXME encodeHtmlAttribute ?\n\n    var font = fontStyle.style + ' ' + fontStyle.variant + ' ' + fontStyle.weight + ' ' + fontStyle.size + 'px \"' + fontStyle.family + '\"';\n    textRect = textRect || textContain.getBoundingRect(text, font, align, verticalAlign); // Transform rect to view space\n\n    var m = this.transform; // Ignore transform for text in other element\n\n    if (m && !fromTextEl) {\n      tmpRect.copy(rect);\n      tmpRect.applyTransform(m);\n      rect = tmpRect;\n    }\n\n    if (!fromTextEl) {\n      var textPosition = style.textPosition;\n      var distance = style.textDistance; // Text position represented by coord\n\n      if (textPosition instanceof Array) {\n        x = rect.x + parsePercent(textPosition[0], rect.width);\n        y = rect.y + parsePercent(textPosition[1], rect.height);\n        align = align || 'left';\n      } else {\n        var res = textContain.adjustTextPositionOnRect(textPosition, rect, distance);\n        x = res.x;\n        y = res.y; // Default align and baseline when has textPosition\n\n        align = align || res.textAlign;\n        verticalAlign = verticalAlign || res.textVerticalAlign;\n      }\n    } else {\n      x = rect.x;\n      y = rect.y;\n    }\n\n    x = textContain.adjustTextX(x, textRect.width, align);\n    y = textContain.adjustTextY(y, textRect.height, verticalAlign); // Force baseline 'middle'\n\n    y += textRect.height / 2; // var fontSize = fontStyle.size;\n    // 1.75 is an arbitrary number, as there is no info about the text baseline\n    // switch (baseline) {\n    // case 'hanging':\n    // case 'top':\n    //     y += fontSize / 1.75;\n    //     break;\n    //     case 'middle':\n    //         break;\n    //     default:\n    //     // case null:\n    //     // case 'alphabetic':\n    //     // case 'ideographic':\n    //     // case 'bottom':\n    //         y -= fontSize / 2.25;\n    //         break;\n    // }\n    // switch (align) {\n    //     case 'left':\n    //         break;\n    //     case 'center':\n    //         x -= textRect.width / 2;\n    //         break;\n    //     case 'right':\n    //         x -= textRect.width;\n    //         break;\n    // case 'end':\n    // align = elementStyle.direction == 'ltr' ? 'right' : 'left';\n    // break;\n    // case 'start':\n    // align = elementStyle.direction == 'rtl' ? 'right' : 'left';\n    // break;\n    // default:\n    //     align = 'left';\n    // }\n\n    var createNode = vmlCore.createNode;\n    var textVmlEl = this._textVmlEl;\n    var pathEl;\n    var textPathEl;\n    var skewEl;\n\n    if (!textVmlEl) {\n      textVmlEl = createNode('line');\n      pathEl = createNode('path');\n      textPathEl = createNode('textpath');\n      skewEl = createNode('skew'); // FIXME Why here is not cammel case\n      // Align 'center' seems wrong\n\n      textPathEl.style['v-text-align'] = 'left';\n      initRootElStyle(textVmlEl);\n      pathEl.textpathok = true;\n      textPathEl.on = true;\n      textVmlEl.from = '0 0';\n      textVmlEl.to = '1000 0.05';\n      append(textVmlEl, skewEl);\n      append(textVmlEl, pathEl);\n      append(textVmlEl, textPathEl);\n      this._textVmlEl = textVmlEl;\n    } else {\n      //  appendChild \n      skewEl = textVmlEl.firstChild;\n      pathEl = skewEl.nextSibling;\n      textPathEl = pathEl.nextSibling;\n    }\n\n    var coords = [x, y];\n    var textVmlElStyle = textVmlEl.style; // Ignore transform for text in other element\n\n    if (m && fromTextEl) {\n      applyTransform(coords, coords, m);\n      skewEl.on = true;\n      skewEl.matrix = m[0].toFixed(3) + comma + m[2].toFixed(3) + comma + m[1].toFixed(3) + comma + m[3].toFixed(3) + ',0,0'; // Text position\n\n      skewEl.offset = (round(coords[0]) || 0) + ',' + (round(coords[1]) || 0); // Left top point as origin\n\n      skewEl.origin = '0 0';\n      textVmlElStyle.left = '0px';\n      textVmlElStyle.top = '0px';\n    } else {\n      skewEl.on = false;\n      textVmlElStyle.left = round(x) + 'px';\n      textVmlElStyle.top = round(y) + 'px';\n    }\n\n    textPathEl.string = encodeHtmlAttribute(text); // TODO\n\n    try {\n      textPathEl.style.font = font;\n    } // Error font format\n    catch (e) {}\n\n    updateFillAndStroke(textVmlEl, 'fill', {\n      fill: style.textFill,\n      opacity: style.opacity\n    }, this);\n    updateFillAndStroke(textVmlEl, 'stroke', {\n      stroke: style.textStroke,\n      opacity: style.opacity,\n      lineDash: style.lineDash\n    }, this);\n    textVmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Attached to root\n\n    append(vmlRoot, textVmlEl);\n  };\n\n  var removeRectText = function (vmlRoot) {\n    remove(vmlRoot, this._textVmlEl);\n    this._textVmlEl = null;\n  };\n\n  var appendRectText = function (vmlRoot) {\n    append(vmlRoot, this._textVmlEl);\n  };\n\n  var list = [RectText, Displayable, ZImage, Path, Text]; // In case Displayable has been mixed in RectText\n\n  for (var i = 0; i < list.length; i++) {\n    var proto = list[i].prototype;\n    proto.drawRectText = drawRectText;\n    proto.removeRectText = removeRectText;\n    proto.appendRectText = appendRectText;\n  }\n\n  Text.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, {\n        x: style.x || 0,\n        y: style.y || 0,\n        width: 0,\n        height: 0\n      }, this.getBoundingRect(), true);\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Text.prototype.onRemove = function (vmlRoot) {\n    this.removeRectText(vmlRoot);\n  };\n\n  Text.prototype.onAdd = function (vmlRoot) {\n    this.appendRectText(vmlRoot);\n  };\n}\n\n/***/ }),\n/* 450 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrLog = __webpack_require__(41);\n\nvar vmlCore = __webpack_require__(162);\n\nvar _util = __webpack_require__(0);\n\nvar each = _util.each;\n\n/**\n * VML Painter.\n *\n * @module zrender/vml/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n/**\n * @alias module:zrender/vml/Painter\n */\n\n\nfunction VMLPainter(root, storage) {\n  vmlCore.initVML();\n  this.root = root;\n  this.storage = storage;\n  var vmlViewport = document.createElement('div');\n  var vmlRoot = document.createElement('div');\n  vmlViewport.style.cssText = 'display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;';\n  vmlRoot.style.cssText = 'position:absolute;left:0;top:0;';\n  root.appendChild(vmlViewport);\n  this._vmlRoot = vmlRoot;\n  this._vmlViewport = vmlViewport;\n  this.resize(); // Modify storage\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n\n    if (el) {\n      el.onRemove && el.onRemove(vmlRoot);\n    }\n  };\n\n  storage.addToStorage = function (el) {\n    // Displayable already has a vml node\n    el.onAdd && el.onAdd(vmlRoot);\n    oldAddToStorage.call(storage, el);\n  };\n\n  this._firstPaint = true;\n}\n\nVMLPainter.prototype = {\n  constructor: VMLPainter,\n  getType: function () {\n    return 'vml';\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function () {\n    return this._vmlViewport;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * \n   */\n  refresh: function () {\n    var list = this.storage.getDisplayList(true, true);\n\n    this._paintList(list);\n  },\n  _paintList: function (list) {\n    var vmlRoot = this._vmlRoot;\n\n    for (var i = 0; i < list.length; i++) {\n      var el = list[i];\n\n      if (el.invisible || el.ignore) {\n        if (!el.__alreadyNotVisible) {\n          el.onRemove(vmlRoot);\n        } // Set as already invisible\n\n\n        el.__alreadyNotVisible = true;\n      } else {\n        if (el.__alreadyNotVisible) {\n          el.onAdd(vmlRoot);\n        }\n\n        el.__alreadyNotVisible = false;\n\n        if (el.__dirty) {\n          el.beforeBrush && el.beforeBrush();\n          (el.brushVML || el.brush).call(el, vmlRoot);\n          el.afterBrush && el.afterBrush();\n        }\n      }\n\n      el.__dirty = false;\n    }\n\n    if (this._firstPaint) {\n      // Detached from document at first time\n      // to avoid page refreshing too many times\n      // FIXME  removeChild \n      this._vmlViewport.appendChild(vmlRoot);\n\n      this._firstPaint = false;\n    }\n  },\n  resize: function (width, height) {\n    var width = width == null ? this._getWidth() : width;\n    var height = height == null ? this._getHeight() : height;\n\n    if (this._width != width || this._height != height) {\n      this._width = width;\n      this._height = height;\n      var vmlViewportStyle = this._vmlViewport.style;\n      vmlViewportStyle.width = width + 'px';\n      vmlViewportStyle.height = height + 'px';\n    }\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._vmlRoot = this._vmlViewport = this.storage = null;\n  },\n  getWidth: function () {\n    return this._width;\n  },\n  getHeight: function () {\n    return this._height;\n  },\n  clear: function () {\n    if (this._vmlViewport) {\n      this.root.removeChild(this._vmlViewport);\n    }\n  },\n  _getWidth: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientWidth || parseInt10(stl.width)) - parseInt10(stl.paddingLeft) - parseInt10(stl.paddingRight) | 0;\n  },\n  _getHeight: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientHeight || parseInt10(stl.height)) - parseInt10(stl.paddingTop) - parseInt10(stl.paddingBottom) | 0;\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    zrLog('In IE8.0 VML mode painter not support method \"' + method + '\"');\n  };\n} // Unsupported methods\n\n\neach(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (name) {\n  VMLPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = VMLPainter;\nmodule.exports = _default;\n\n/***/ }),\n/* 451 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(89);\n\nvar _zrender = __webpack_require__(51);\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = __webpack_require__(452);\n\nregisterPainter('svg', Painter);\n\n/***/ }),\n/* 452 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _core = __webpack_require__(90);\n\nvar createElement = _core.createElement;\n\nvar util = __webpack_require__(0);\n\nvar each = util.each;\n\nvar zrLog = __webpack_require__(41);\n\nvar Path = __webpack_require__(12);\n\nvar ZImage = __webpack_require__(42);\n\nvar ZText = __webpack_require__(43);\n\nvar arrayDiff = __webpack_require__(453);\n\nvar GradientManager = __webpack_require__(454);\n\nvar ClippathManager = __webpack_require__(455);\n\nvar _graphic = __webpack_require__(89);\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * SVG Painter\n * @module zrender/svg/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction getSvgProxy(el) {\n  if (el instanceof Path) {\n    return svgPath;\n  } else if (el instanceof ZImage) {\n    return svgImage;\n  } else if (el instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n}\n\nfunction checkParentAvailable(parent, child) {\n  return child && parent && child.parentNode !== parent;\n}\n\nfunction insertAfter(parent, child, prevSibling) {\n  if (checkParentAvailable(parent, child) && prevSibling) {\n    var nextSibling = prevSibling.nextSibling;\n    nextSibling ? parent.insertBefore(child, nextSibling) : parent.appendChild(child);\n  }\n}\n\nfunction prepend(parent, child) {\n  if (checkParentAvailable(parent, child)) {\n    var firstChild = parent.firstChild;\n    firstChild ? parent.insertBefore(child, firstChild) : parent.appendChild(child);\n  }\n}\n\nfunction append(parent, child) {\n  if (checkParentAvailable(parent, child)) {\n    parent.appendChild(child);\n  }\n}\n\nfunction remove(parent, child) {\n  if (child && parent && child.parentNode === parent) {\n    parent.removeChild(child);\n  }\n}\n\nfunction getTextSvgElement(displayable) {\n  return displayable.__textSvgEl;\n}\n\nfunction getSvgElement(displayable) {\n  return displayable.__svgEl;\n}\n/**\n * @alias module:zrender/svg/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar SVGPainter = function (root, storage, opts) {\n  this.root = root;\n  this.storage = storage;\n  this._opts = opts = util.extend({}, opts || {});\n  var svgRoot = createElement('svg');\n  svgRoot.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  svgRoot.setAttribute('version', '1.1');\n  svgRoot.setAttribute('baseProfile', 'full');\n  svgRoot.style['user-select'] = 'none';\n  svgRoot.style.cssText = 'position:absolute;left:0;top:0;';\n  this.gradientManager = new GradientManager(svgRoot);\n  this.clipPathManager = new ClippathManager(svgRoot);\n  var viewport = document.createElement('div');\n  viewport.style.cssText = 'overflow:hidden;position:relative';\n  this._svgRoot = svgRoot;\n  this._viewport = viewport;\n  root.appendChild(viewport);\n  viewport.appendChild(svgRoot);\n  this.resize(opts.width, opts.height);\n  this._visibleList = [];\n};\n\nSVGPainter.prototype = {\n  constructor: SVGPainter,\n  getType: function () {\n    return 'svg';\n  },\n  getViewportRoot: function () {\n    return this._viewport;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n  refresh: function () {\n    var list = this.storage.getDisplayList(true);\n\n    this._paintList(list);\n  },\n  _paintList: function (list) {\n    this.gradientManager.markAllUnused();\n    this.clipPathManager.markAllUnused();\n    var svgRoot = this._svgRoot;\n    var visibleList = this._visibleList;\n    var listLen = list.length;\n    var newVisibleList = [];\n    var i;\n\n    for (i = 0; i < listLen; i++) {\n      var displayable = list[i];\n      var svgProxy = getSvgProxy(displayable);\n\n      if (!displayable.invisible) {\n        if (displayable.__dirty) {\n          svgProxy && svgProxy.brush(displayable); // Update clipPath\n\n          this.clipPathManager.update(displayable); // Update gradient\n\n          if (displayable.style) {\n            this.gradientManager.update(displayable.style.fill);\n            this.gradientManager.update(displayable.style.stroke);\n          }\n\n          displayable.__dirty = false;\n        }\n\n        newVisibleList.push(displayable);\n      }\n    }\n\n    var diff = arrayDiff(visibleList, newVisibleList);\n    var prevSvgElement; // First do remove, in case element moved to the head and do remove\n    // after add\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = visibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          remove(svgRoot, svgElement);\n          remove(svgRoot, textSvgElement);\n        }\n      }\n    }\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.added) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          prevSvgElement ? insertAfter(svgRoot, svgElement, prevSvgElement) : prepend(svgRoot, svgElement);\n\n          if (svgElement) {\n            insertAfter(svgRoot, textSvgElement, svgElement);\n          } else if (prevSvgElement) {\n            insertAfter(svgRoot, textSvgElement, prevSvgElement);\n          } else {\n            prepend(svgRoot, textSvgElement);\n          } // Insert text\n\n\n          insertAfter(svgRoot, textSvgElement, svgElement);\n          prevSvgElement = textSvgElement || svgElement || prevSvgElement;\n          this.gradientManager.addWithoutUpdate(svgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n        }\n      } else if (!item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          prevSvgElement = svgElement = getTextSvgElement(displayable) || getSvgElement(displayable) || prevSvgElement;\n          this.gradientManager.markUsed(displayable);\n          this.gradientManager.addWithoutUpdate(svgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n        }\n      }\n    }\n\n    this.gradientManager.removeUnused();\n    this.clipPathManager.removeUnused();\n    this._visibleList = newVisibleList;\n  },\n  _getDefs: function (isForceCreating) {\n    var svgRoot = this._svgRoot;\n\n    var defs = this._svgRoot.getElementsByTagName('defs');\n\n    if (defs.length === 0) {\n      // Not exist\n      if (isForceCreating) {\n        var defs = svgRoot.insertBefore(createElement('defs'), // Create new tag\n        svgRoot.firstChild // Insert in the front of svg\n        );\n\n        if (!defs.contains) {\n          // IE doesn't support contains method\n          defs.contains = function (el) {\n            var children = defs.children;\n\n            if (!children) {\n              return false;\n            }\n\n            for (var i = children.length - 1; i >= 0; --i) {\n              if (children[i] === el) {\n                return true;\n              }\n            }\n\n            return false;\n          };\n        }\n\n        return defs;\n      } else {\n        return null;\n      }\n    } else {\n      return defs[0];\n    }\n  },\n  resize: function (width, height) {\n    var viewport = this._viewport; // FIXME Why ?\n\n    viewport.style.display = 'none'; // Save input w/h\n\n    var opts = this._opts;\n    width != null && (opts.width = width);\n    height != null && (opts.height = height);\n    width = this._getSize(0);\n    height = this._getSize(1);\n    viewport.style.display = '';\n\n    if (this._width !== width && this._height !== height) {\n      this._width = width;\n      this._height = height;\n      var viewportStyle = viewport.style;\n      viewportStyle.width = width + 'px';\n      viewportStyle.height = height + 'px';\n      var svgRoot = this._svgRoot; // Set width by 'svgRoot.width = width' is invalid\n\n      svgRoot.setAttribute('width', width);\n      svgRoot.setAttribute('height', height);\n    }\n  },\n\n  /**\n   * \n   */\n  getWidth: function () {\n    return this._width;\n  },\n\n  /**\n   * \n   */\n  getHeight: function () {\n    return this._height;\n  },\n  _getSize: function (whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._svgRoot = this._viewport = this.storage = null;\n  },\n  clear: function () {\n    if (this._viewport) {\n      this.root.removeChild(this._viewport);\n    }\n  },\n  pathToSvg: function () {\n    this.refresh();\n    var html = this._svgRoot.outerHTML;\n    return 'data:img/svg+xml;utf-8,' + unescape(html);\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    zrLog('In SVG mode painter not support method \"' + method + '\"');\n  };\n} // Unsuppoted methods\n\n\neach(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (name) {\n  SVGPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = SVGPainter;\nmodule.exports = _default;\n\n/***/ }),\n/* 453 */\n/***/ (function(module, exports) {\n\n// Myers' Diff Algorithm\n// Modified from https://github.com/kpdecker/jsdiff/blob/master/src/diff/base.js\nfunction Diff() {}\n\nDiff.prototype = {\n  diff: function (oldArr, newArr, equals) {\n    if (!equals) {\n      equals = function (a, b) {\n        return a === b;\n      };\n    }\n\n    this.equals = equals;\n    var self = this;\n    oldArr = oldArr.slice();\n    newArr = newArr.slice(); // Allow subclasses to massage the input prior to running\n\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newArr, oldArr, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      var indices = [];\n\n      for (var i = 0; i < newArr.length; i++) {\n        indices.push(i);\n      } // Identity per the equality and tokenizer\n\n\n      return [{\n        indices: indices,\n        count: newArr.length\n      }];\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath;\n        var addPath = bestPath[diagonalPath - 1];\n        var removePath = bestPath[diagonalPath + 1];\n        var oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen;\n        var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        oldPos = self.extractCommon(basePath, newArr, oldArr, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n          return buildValues(self, basePath.components, newArr, oldArr);\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    }\n\n    while (editLength <= maxEditLength) {\n      var ret = execEditLength();\n\n      if (ret) {\n        return ret;\n      }\n    }\n  },\n  pushComponent: function (components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function (basePath, newArr, oldArr, diagonalPath) {\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var newPos = basePath.newPos;\n    var oldPos = newPos - diagonalPath;\n    var commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newArr[newPos + 1], oldArr[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  tokenize: function (value) {\n    return value.slice();\n  },\n  join: function (value) {\n    return value.slice();\n  }\n};\n\nfunction buildValues(diff, components, newArr, oldArr) {\n  var componentPos = 0;\n  var componentLen = components.length;\n  var newPos = 0;\n  var oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      var indices = [];\n\n      for (var i = newPos; i < newPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      var indices = [];\n\n      for (var i = oldPos; i < oldPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      oldPos += component.count;\n    }\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar arrayDiff = new Diff();\n\nfunction _default(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 454 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Definable = __webpack_require__(163);\n\nvar zrUtil = __webpack_require__(0);\n\nvar zrLog = __webpack_require__(41);\n\n/**\n * @file Manages SVG gradient elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG gradient elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction GradientManager(svgRoot) {\n  Definable.call(this, svgRoot, ['linearGradient', 'radialGradient'], '__gradient_in_use__');\n}\n\nzrUtil.inherits(GradientManager, Definable);\n/**\n * Create new gradient DOM for fill or stroke if not exist,\n * but will not update gradient if exists.\n *\n * @param {SvgElement}  svgElement   SVG element to paint\n * @param {Displayable} displayable  zrender displayable element\n */\n\nGradientManager.prototype.addWithoutUpdate = function (svgElement, displayable) {\n  if (displayable && displayable.style) {\n    var that = this;\n    zrUtil.each(['fill', 'stroke'], function (fillOrStroke) {\n      if (displayable.style[fillOrStroke] && (displayable.style[fillOrStroke].type === 'linear' || displayable.style[fillOrStroke].type === 'radial')) {\n        var gradient = displayable.style[fillOrStroke];\n        var defs = that.getDefs(true); // Create dom in <defs> if not exists\n\n        var dom;\n\n        if (gradient._dom) {\n          // Gradient exists\n          dom = gradient._dom;\n\n          if (!defs.contains(gradient._dom)) {\n            // _dom is no longer in defs, recreate\n            that.addDom(dom);\n          }\n        } else {\n          // New dom\n          dom = that.add(gradient);\n        }\n\n        that.markUsed(displayable);\n        var id = dom.getAttribute('id');\n        svgElement.setAttribute(fillOrStroke, 'url(#' + id + ')');\n      }\n    });\n  }\n};\n/**\n * Add a new gradient tag in <defs>\n *\n * @param   {Gradient} gradient zr gradient instance\n * @return {SVGLinearGradientElement | SVGRadialGradientElement}\n *                            created DOM\n */\n\n\nGradientManager.prototype.add = function (gradient) {\n  var dom;\n\n  if (gradient.type === 'linear') {\n    dom = this.createElement('linearGradient');\n  } else if (gradient.type === 'radial') {\n    dom = this.createElement('radialGradient');\n  } else {\n    zrLog('Illegal gradient type.');\n    return null;\n  } // Set dom id with gradient id, since each gradient instance\n  // will have no more than one dom element.\n  // id may exists before for those dirty elements, in which case\n  // id should remain the same, and other attributes should be\n  // updated.\n\n\n  gradient.id = gradient.id || this.nextId++;\n  dom.setAttribute('id', 'zr-gradient-' + gradient.id);\n  this.updateDom(gradient, dom);\n  this.addDom(dom);\n  return dom;\n};\n/**\n * Update gradient.\n *\n * @param {Gradient} gradient zr gradient instance\n */\n\n\nGradientManager.prototype.update = function (gradient) {\n  var that = this;\n  Definable.prototype.update.call(this, gradient, function () {\n    var type = gradient.type;\n    var tagName = gradient._dom.tagName;\n\n    if (type === 'linear' && tagName === 'linearGradient' || type === 'radial' && tagName === 'radialGradient') {\n      // Gradient type is not changed, update gradient\n      that.updateDom(gradient, gradient._dom);\n    } else {\n      // Remove and re-create if type is changed\n      that.removeDom(gradient);\n      that.add(gradient);\n    }\n  });\n};\n/**\n * Update gradient dom\n *\n * @param {Gradient} gradient zr gradient instance\n * @param {SVGLinearGradientElement | SVGRadialGradientElement} dom\n *                            DOM to update\n */\n\n\nGradientManager.prototype.updateDom = function (gradient, dom) {\n  if (gradient.type === 'linear') {\n    dom.setAttribute('x1', gradient.x);\n    dom.setAttribute('y1', gradient.y);\n    dom.setAttribute('x2', gradient.x2);\n    dom.setAttribute('y2', gradient.y2);\n  } else if (gradient.type === 'radial') {\n    dom.setAttribute('cx', gradient.x);\n    dom.setAttribute('cy', gradient.y);\n    dom.setAttribute('r', gradient.r);\n  } else {\n    zrLog('Illegal gradient type.');\n    return;\n  }\n\n  if (gradient.global) {\n    // x1, x2, y1, y2 in range of 0 to canvas width or height\n    dom.setAttribute('gradientUnits', 'userSpaceOnUse');\n  } else {\n    // x1, x2, y1, y2 in range of 0 to 1\n    dom.setAttribute('gradientUnits', 'objectBoundingBox');\n  } // Remove color stops if exists\n\n\n  dom.innerHTML = ''; // Add color stops\n\n  var colors = gradient.colorStops;\n\n  for (var i = 0, len = colors.length; i < len; ++i) {\n    var stop = this.createElement('stop');\n    stop.setAttribute('offset', colors[i].offset * 100 + '%');\n    stop.setAttribute('stop-color', colors[i].color);\n    dom.appendChild(stop);\n  } // Store dom element in gradient, to avoid creating multiple\n  // dom instances for the same gradient element\n\n\n  gradient._dom = dom;\n};\n/**\n * Mark a single gradient to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nGradientManager.prototype.markUsed = function (displayable) {\n  if (displayable.style) {\n    var gradient = displayable.style.fill;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n\n    gradient = displayable.style.stroke;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n  }\n};\n\nvar _default = GradientManager;\nmodule.exports = _default;\n\n/***/ }),\n/* 455 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Definable = __webpack_require__(163);\n\nvar zrUtil = __webpack_require__(0);\n\nvar matrix = __webpack_require__(16);\n\n/**\n * @file Manages SVG clipPath elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG clipPath elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction ClippathManager(svgRoot) {\n  Definable.call(this, svgRoot, 'clipPath', '__clippath_in_use__');\n}\n\nzrUtil.inherits(ClippathManager, Definable);\n/**\n * Update clipPath.\n *\n * @param {Displayable} displayable displayable element\n */\n\nClippathManager.prototype.update = function (displayable) {\n  var svgEl = this.getSvgElement(displayable);\n\n  if (svgEl) {\n    this.updateDom(svgEl, displayable.__clipPaths, false);\n  }\n\n  var textEl = this.getTextSvgElement(displayable);\n\n  if (textEl) {\n    // Make another clipPath for text, since it's transform\n    // matrix is not the same with svgElement\n    this.updateDom(textEl, displayable.__clipPaths, true);\n  }\n\n  this.markUsed(displayable);\n};\n/**\n * Create an SVGElement of displayable and create a <clipPath> of its\n * clipPath\n *\n * @param {Displayable} parentEl  parent element\n * @param {ClipPath[]}  clipPaths clipPaths of parent element\n * @param {boolean}     isText    if parent element is Text\n */\n\n\nClippathManager.prototype.updateDom = function (parentEl, clipPaths, isText) {\n  if (clipPaths && clipPaths.length > 0) {\n    // Has clipPath, create <clipPath> with the first clipPath\n    var defs = this.getDefs(true);\n    var clipPath = clipPaths[0];\n    var clipPathEl;\n    var id;\n    var dom = isText ? '_textDom' : '_dom';\n\n    if (clipPath[dom]) {\n      // Use a dom that is already in <defs>\n      id = clipPath[dom].getAttribute('id');\n      clipPathEl = clipPath[dom]; // Use a dom that is already in <defs>\n\n      if (!defs.contains(clipPathEl)) {\n        // This happens when set old clipPath that has\n        // been previously removed\n        defs.appendChild(clipPathEl);\n      }\n    } else {\n      // New <clipPath>\n      id = 'zr-clip-' + this.nextId;\n      ++this.nextId;\n      clipPathEl = this.createElement('clipPath');\n      clipPathEl.setAttribute('id', id);\n      defs.appendChild(clipPathEl);\n      clipPath[dom] = clipPathEl;\n    } // Build path and add to <clipPath>\n\n\n    var svgProxy = this.getSvgProxy(clipPath);\n\n    if (clipPath.transform && clipPath.parent.invTransform && !isText) {\n      /**\n       * If a clipPath has a parent with transform, the transform\n       * of parent should not be considered when setting transform\n       * of clipPath. So we need to transform back from parent's\n       * transform, which is done by multiplying parent's inverse\n       * transform.\n       */\n      // Store old transform\n      var transform = Array.prototype.slice.call(clipPath.transform); // Transform back from parent, and brush path\n\n      matrix.mul(clipPath.transform, clipPath.parent.invTransform, clipPath.transform);\n      svgProxy.brush(clipPath); // Set back transform of clipPath\n\n      clipPath.transform = transform;\n    } else {\n      svgProxy.brush(clipPath);\n    }\n\n    var pathEl = this.getSvgElement(clipPath);\n    /**\n     * Use `cloneNode()` here to appendChild to multiple parents,\n     * which may happend when Text and other shapes are using the same\n     * clipPath. Since Text will create an extra clipPath DOM due to\n     * different transform rules.\n     */\n\n    clipPathEl.appendChild(pathEl.cloneNode());\n    parentEl.setAttribute('clip-path', 'url(#' + id + ')');\n\n    if (clipPaths.length > 1) {\n      // Make the other clipPaths recursively\n      this.updateDom(clipPathEl, clipPaths.slice(1), isText);\n    }\n  } else {\n    // No clipPath\n    if (parentEl) {\n      parentEl.setAttribute('clip-path', 'none');\n    }\n  }\n};\n/**\n * Mark a single clipPath to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nClippathManager.prototype.markUsed = function (displayable) {\n  var that = this;\n\n  if (displayable.__clipPaths && displayable.__clipPaths.length > 0) {\n    zrUtil.each(displayable.__clipPaths, function (clipPath) {\n      if (clipPath._dom) {\n        Definable.prototype.markUsed.call(that, clipPath._dom);\n      }\n\n      if (clipPath._textDom) {\n        Definable.prototype.markUsed.call(that, clipPath._textDom);\n      }\n    });\n  }\n};\n\nvar _default = ClippathManager;\nmodule.exports = _default;\n\n/***/ }),\n/* 456 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar smallImg = document.createElement('img');\nsmallImg.src = __webpack_require__(457);\ndocument.body.appendChild(smallImg);\n\n/***/ }),\n/* 457 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAZCAYAAADAHFVeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDMkNFNkJFRDNFMTExRTdCNDg2ODFGMjg5QzI4NENEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDMkNFNkJGRDNFMTExRTdCNDg2ODFGMjg5QzI4NENEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0MyQ0U2QkNEM0UxMTFFN0I0ODY4MUYyODlDMjg0Q0QiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0MyQ0U2QkREM0UxMTFFN0I0ODY4MUYyODlDMjg0Q0QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz62W40YAAAB0UlEQVR42rzWTSgEYRgH8He3zcdGifIZUg5slFBqW+Ukomh9lDMOlJMcHOyeiIMDV057oZZQtBeJfJSDpVzcFgckViEkX/+nnqlpzex6Z80+9Ws0s+/8Z9/3mXdZXPvFQrLqYRXaYVdmoFXIVwVk8lGYHfbJxw/ZgTYDYTSFhbBmNCwXUuD8D2NuYUwio4Bn40YJ80M1tMC2znTXgRNKIAneIQQHcAhfGuMaYAOC1FhK2Cws8IVyuOTzqdAHwxCtbS9gGubhlc8V8f2SYUY9jX5e8F545HM1sAilfI3WKgCncA9ZUAnN0MoPPAQ9cARPPEv0ACt0Q4vOe0Y3WAI7LMMIT5le0dROQRe8QCc/WMzWd6iCRnlgKEYT0PVu/rydxztihdG0+njAOExKdjd9foLH+yJfrcgwN68VdY9XGCsPHPN93NHCBvnoVe0URnYYD/89oBeWDi6401pcyQpwxzr59fm1XX1DE4Tj+Fbqb9fIG7ZVK+wZNsX/VVBrb9yCKmF+nVDYAzO7whTWIRJUyppRF+aZmHMNexSWBjsGf7VlujPDxl3YBvkmhl1RjjKN64lcM6XKYE791sdR9CPaD2d6YTlQy/+PxFtvkK0O+xFgAHw6XvWNtkUwAAAAAElFTkSuQmCC\"\n\n/***/ })\n/******/ ]);"]}